(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.6.0";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return obj;if(nativeForEach&&obj.forEach===
nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,length=obj.length;i<length;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else{var keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++)if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return}return obj};_.map=_.collect=function(obj,iterator,context){var results=[];return obj==null?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;obj==null&&(obj=[]);if(nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value
,initial=true)});if(!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;obj==null&&(obj=[]);if(nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=true)});if(!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,predicate,context){var result;return any(obj,function(value,index,list){if(predicate.call(context,value,index,list))return result=value,true}),result},_.filter=_.select=function(obj,predicate,context){var results=[];return obj==null?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(predicate,context
):(each(obj,function(value,index,list){predicate.call(context,value,index,list)&&results.push(value)}),results)},_.reject=function(obj,predicate,context){return _.filter(obj,function(value,index,list){return!predicate.call(context,value,index,list)},context)},_.every=_.all=function(obj,predicate,context){predicate||(predicate=_.identity);var result=true;return obj==null?result:nativeEvery&&obj.every===nativeEvery?obj.every(predicate,context):(each(obj,function(value,index,list){if(!(result=result&&predicate.call(context,value,index,list)))return breaker}),!!result)};var any=_.some=_.any=function(obj,predicate,context){predicate||(predicate=_.identity);var result=!1;return obj==null?result:nativeSome&&obj.some===nativeSome?obj.some(predicate,context):(each(obj,function(value,index,list){if(result||(result=predicate.call(context,value,index,list)))return breaker}),!!result)};_.contains=_.include=function(obj,target){return obj==null?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?obj.indexOf
(target)!=-1:any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matches(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matches(attrs))},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);var result=-Infinity,lastComputed=-Infinity;return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>lastComputed&&(result=value,lastComputed=computed)}),result},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);var result=Infinity,lastComputed=Infinity;return each(obj,function(value
,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<lastComputed&&(result=value,lastComputed=computed)}),result},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sample=function(obj,n,guard){return n==null||guard?(obj.length!==+obj.length&&(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))};var lookupIterator=function(value){return value==null?_.identity:_.isFunction(value)?value:_.property(value)};_.sortBy=function(obj,iterator,context){return iterator=lookupIterator(iterator),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index-right.index}),"value")};var group=function(
behavior){return function(obj,iterator,context){var result={};return iterator=lookupIterator(iterator),each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result}};_.groupBy=group(function(result,key,value){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,key,value){result[key]=value}),_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1}),_.sortedIndex=function(array,obj,iterator,context){iterator=lookupIterator(iterator);var value=iterator.call(context,obj),low=0,high=array.length;while(low<high){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return obj==null?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){
return array==null?void 0:n==null||guard?array[0]:n<0?[]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))},_.last=function(array,n,guard){return array==null?void 0:n==null||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return shallow&&_.every(input,_.isArray)?concat.apply(output,input):(each(input,function(value){_.isArray(value)||_.isArguments(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output)};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.partition=function(array,predicate){var pass=[],fail=[];return each(array,function(elem){(predicate(elem)?pass:fail
).push(elem)}),[pass,fail]},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){if(isSorted?!index||seen[seen.length-1]!==value:!_.contains(seen,value))seen.push(value),results.push(array[index])}),results},_.union=function(){return _.uniq(_.flatten(arguments,true))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.contains(other,item)})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){var length=_.max(_.pluck(arguments,"length").concat(0)),results=new Array(length);for(var i=0;i<length;i++)results[i]=_.pluck(arguments,""+i);return results},_.object=function(list,
values){if(list==null)return{};var result={};for(var i=0,length=list.length;i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i=0,length=array.length;if(isSorted){if(typeof isSorted!="number")return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=isSorted<0?Math.max(0,length+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<length;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(array==null)return-1;var hasIndex=from!=null;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);var i=hasIndex?from:array.length;while(i--)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;var length=Math.max(Math.ceil((stop-start)/step),0),idx=0
,range=new Array(length);while(idx<length)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(this instanceof bound){ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return func.apply(context,args.concat(slice.call(arguments)))}},_.partial=function(func){var boundArgs=slice.call(arguments,1);return function(){var position=0,args=boundArgs.slice();for(var i=0,length=args.length;i<length;i++)args[i]===_&&(args[i]=arguments[position++]);while(position<arguments.length)args.push(arguments[position++]);return func.apply(this,args)}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length===0)throw new Error
("bindAll must be passed function names");return each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:_.now(),timeout=null,result=func.apply(context,args),context=args=null};return function(){var now=_.now();!previous&&options.leading===!1&&(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args),context=
args=null):!timeout&&options.trailing!==!1&&(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;last<wait?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),context=args=null))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.once=function(func){var ran=!1,memo;return function(){return ran?memo:(ran=true,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments
)}},_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return keys},_.values=function(obj){var keys=_.keys(obj),length=keys.length,values=new Array(length);for(var i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.pairs=function(obj){var keys=_.keys(obj),length=keys.length,pairs=new Array(length);for(var i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){var result={},keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key)
{key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]===void 0&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&
a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var length=aStack.length;while(length--)if(aStack[length]==a)return bStack[length]==b;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1;aStack.push(a),bStack.push(b);var size=0,result=true;if(className=="[object Array]"){size=a.length,result=size==b.length;if(result)while(size--)if(!(result=eq(a[size],b[size],aStack,bStack)))break}else{for(var key in a)if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))break}if(result){for(key in b)if(_.has(b,key)&&!(size--))break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return!1
;return true},_.isElement=function(obj){return!!obj&&obj.nodeType===1},_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!!obj&&!!_.has(obj,"callee")}),typeof /./!="function"&&(_.isFunction=function(obj){return typeof obj=="function"}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===true||obj===!1||toString.call(obj)=="[object Boolean]"},_.isNull=function(obj){return obj===null},_.isUndefined=function(obj){return obj===void 0},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value
){return value},_.constant=function(value){return function(){return value}},_.property=function(key){return function(obj){return obj[key]}},_.matches=function(attrs){return function(obj){if(obj===attrs)return true;for(var key in attrs)if(attrs[key]!==obj[key])return!1;return true}},_.times=function(n,iterator,context){var accum=Array(Math.max(0,n));for(var i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return max==null&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return string==null?"":(""+string).replace(entityRegexes[method]
,function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(object==null)return void 0;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|"
)+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).
chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),(name=="shift"||name=="splice")&&obj.length===0&&delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=true,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return _})}).call(this),!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,true):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h=
{},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m=a.document,n="2.1.0",o=function(a,b){return new o.fn.init(a,b)},p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};o.fn=o.prototype={jquery:n,constructor:o,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=o.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return o.each(this,a,b)},map:function(a){return this.pushStack(o.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},o.extend=o.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},
h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||o.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(o.isPlainObject(d)||(e=o.isArray(d)))?(e?(e=!1,f=c&&o.isArray(c)?c:[]):f=c&&o.isPlainObject(c)?c:{},g[b]=o.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},o.extend({expando:"jQuery"+(n+Math.random()).replace(/\D/g,""),isReady:true,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===o.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if("object"!==o.type(a)||a.nodeType||o.isWindow(a))return!1;try{if(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return true},isEmptyObject:function(a){var b;for(b in a)return!1;return true},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof 
a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=o.trim(a),a&&(1===a.indexOf("use strict")?(b=m.createElement("script"),b.text=a,m.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":k.call(a)},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?o.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a
.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),o.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||o.guid++,f):void 0},now:Date.now,support:l}),o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=o.type(a);return"function"===c||o.isWindow(a)?!1:1===a.nodeType&&b?true:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+ -(new Date),t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=true),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,
F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+
K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode
)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=true,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=
null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener
("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===
b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll
("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!d&&1===d.nodeType&&!!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return true;return!1},z=b?function(a,b){if(a===b)return j=true,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(
a,b){if(a===b)return j=true,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=
function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6
]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,true))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return true}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):
true}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return true}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.
length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus
:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===true},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===true},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return true},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){
for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:true,checkbox:true,file:true,password:true,image:true})d.pseudos[b]=jb(b);for(b in{submit:true,reset:true})d.pseudos[b]=kb(b);function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value
;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return true}else while(b=b[d])if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return true}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return true}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=
r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,true),l=qb(function(a){return I.call(b,a)>-1},i,true),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++)if(d.relative[a[e].type])break;return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v
[q]);q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type])break;if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){
if(i.splice(h,1),a=f.length&&pb(i),!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===true?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);o.find=t,o.expr=t.selectors,o.expr[":"]=o.expr.pseudos,o.unique=t.uniqueSort
,o.text=t.getText,o.isXMLDoc=t.isXML,o.contains=t.contains;var u=o.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(o.isFunction(b))return o.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return o.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return o.filter(b,a,c);b=o.filter(b,a)}return o.grep(a,function(a){return g.call(b,a)>=0!==c})}o.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?o.find.matchesSelector(d,a)?[d]:[]:o.find.matches(a,o.grep(b,function(a){return 1===a.nodeType}))},o.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(o(a).filter(function(){for(b=0;c>b;b++)if(o.contains(e[b],this))return true}));for(b=0;c>b;b++)o.find(a,e[b],d);return d=this.pushStack(c>1?o.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(
a){return this.pushStack(x(this,a||[],true))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?o(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=o.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof o?b[0]:b,o.merge(this,o.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:m,true)),v.test(c[1])&&o.isPlainObject(b))for(c in b)o.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=m.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=m,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):o.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(o):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),o.makeArray(a,this))};A.prototype=o.fn,y=o(m);var B=/^(?:parents|prev(?:Until|All))/
,C={children:true,contents:true,next:true,prev:true};o.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&o(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),o.fn.extend({has:function(a){var b=o(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(o.contains(this,b[a]))return true})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?o(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&o.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?o.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(o(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(o.unique(o.merge(this.get(),o(a,b))))},addBack:function(a){
return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}o.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return o.dir(a,"parentNode")},parentsUntil:function(a,b,c){return o.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return o.dir(a,"nextSibling")},prevAll:function(a){return o.dir(a,"previousSibling")},nextUntil:function(a,b,c){return o.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return o.dir(a,"previousSibling",c)},siblings:function(a){return o.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return o.sibling(a.firstChild)},contents:function(a){return a.contentDocument||o.merge([],a.childNodes)}},function(a,b){o.fn[a]=function(c,d){var e=o.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=o.filter(d,e)),this.length>1&&(C[a]||o.unique
(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return o.each(a.match(E)||[],function(a,c){b[c]=true}),b}o.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):o.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=true,g=e||0,e=0,f=h.length,d=true;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){o.each(b,function(b,c){var d=o.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&o.each(arguments,function(a,b){var c;while((c=o.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?o.inArray(a,h)>-1:!!h&&!!h.length},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(
){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},o.extend({Deferred:function(a){var b=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return o.Deferred(function(c){o.each(b,function(b,f){var g=o.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&o.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?o.extend(a,d):d}},e={};return d.pipe=d.then,o.each(b,function(a
,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&o.isFunction(a.promise)?e:0,g=1===f?a:o.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&o.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;o.fn.ready=function(a){return o.ready.promise().done(a),this},o.extend({isReady:!1,readyWait:1,holdReady:function(a){a?o.readyWait++:o.ready(true)},ready:function(a){(a===true?--o.readyWait:o.isReady)||(o.isReady=true,a!==true&&--o.readyWait>0||(H.resolveWith(m,[o]),o.fn.trigger&&o(m).trigger("ready"
).off("ready")))}});function I(){m.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),o.ready()}o.ready.promise=function(b){return H||(H=o.Deferred(),"complete"===m.readyState?setTimeout(o.ready):(m.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},o.ready.promise();var J=o.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===o.type(c)){e=true;for(h in c)o.access(a,b,h,c[h],true,f,g)}else if(void 0!==d&&(e=true,o.isFunction(d)||(g=true),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(o(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};o.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=o.expando+Math.random()}K.uid=1,K.accepts=o.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando
];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,o.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(o.isEmptyObject(f))o.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,o.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{o.isArray(b)?d=b.concat(b.map(o.camelCase)):(e=o.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!o.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new 
K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=!1===c?true:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?o.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}o.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),o.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)d=g[c].name,0===d.indexOf("data-")&&(d=o.camelCase(d.slice(5)),P(f,d,e[d]));L.set(f,"hasDataAttrs",true)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=o.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==
c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,true)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),o.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||o.isArray(c)?d=L.access(a,b,o.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=o.queue(a,b),d=c.length,e=c.shift(),f=o._queueHooks(a,b),g=function(){o.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:o.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),o.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?o.queue(this[0],a
):void 0===b?this:this.each(function(){var c=o.queue(this,a,b);o._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&o.dequeue(this,a)})},dequeue:function(a){return this.each(function(){o.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=o.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===o.css(a,"display")||!o.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=m.createDocumentFragment(),b=a.appendChild(m.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(true).cloneNode(true).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(true).
lastChild.defaultValue}();var U="undefined";l.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return true}function $(){return!1}function _(){try{return m.activeElement}catch(a){}}o.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=o.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof o!==U&&o.event.triggered!==b.type?o.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n&&(l=o.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=o.event.special[n]||{},k=o.extend({type:n,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&o.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d
,p,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),o.event.global[n]=true)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n){l=o.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||o.removeEvent(a,n,r.handle),delete i[n])}else for(n in i)o.event.remove(a,n+b[j],c,d,true);o.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g
,h,i,k,l,n,p=[d||m],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||m,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+o.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[o.expando]?b:new o.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:o.makeArray(c,[b]),n=o.event.special[q]||{},e||!n.trigger||n.trigger.apply(d,c)!==!1)){if(!e&&!n.noBubble&&!o.isWindow(d)){for(i=n.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||m)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:n.bindType||q,l=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),l&&l.apply(g,c),l=k&&g[k],l&&l.apply&&o.acceptData(g)&&(b.result=l.apply(g,c),b.result===!1&&b.preventDefault
());return b.type=q,e||b.isDefaultPrevented()||n._default&&n._default.apply(p.pop(),c)!==!1||!o.acceptData(d)||k&&o.isFunction(d[q])&&!o.isWindow(d)&&(h=d[k],h&&(d[k]=null),o.event.triggered=q,d[q](),o.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=o.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=o.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=o.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((o.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.
target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==true||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?o(e,this).index(i)>=0:o.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||m,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||
e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[o.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new o.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=m),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:true},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return o.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==
a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=o.extend(new o.Event,c,{type:a,isSimulated:true,originalEvent:{}});d?o.event.trigger(e,null,b):o.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},o.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},o.Event=function(a,b){return this instanceof o.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?Z:$):this.type=a,b&&o.extend(this,b),this.timeStamp=a&&a.timeStamp||o.now(),void (this[o.expando]=true)):new o.Event(a,b)},o.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation
()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()}},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){o.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!o.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){o.event.simulate(b,a.target,o.event.fix(a),true)};o.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,true),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,true),L.remove(d,b))}}}),o.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&
("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return o().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=o.guid++)),this.each(function(){o.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,o(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){o.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){o.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?o.event.trigger(a,b,c,true):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i
,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return o.nodeName(a,"table")&&o.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete 
g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)o.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=o.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&o.nodeName(a,b)?o.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}o.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(true),i=o.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||o.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===
o.type(e))o.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;o.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===o.inArray(e,d))&&(i=o.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f,g,h=o.event.special,i=0;void 0!==(c=a[i]);i++){if(o.acceptData(c)&&(f=c[L.expando],f&&(b=L.cache[f]))){if(d=Object.keys(b.events||{}),d.length)for(g=0;void 0!==(e=d[g]);g++)h[e]?o.event.remove(c,e):o.removeEvent(c,e,b.handle);L.cache[f]&&delete L.cache[f]}delete M.cache[c[M.expando]]}}}),o.fn.extend({text:function(a){return J(this,function(a){return void 0===a?o.text(this):this.empty().each(function(){(1===this.nodeType||11===
this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?o.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||o.cleanData(ob(c)),c.parentNode&&(b&&o.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(o.cleanData(ob(a,!1)),a.textContent=""
);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return o.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(o.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,o.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,true)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,n=k-1,p=a[0],q=o.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d
.domManip(a,b)});if(k&&(c=o.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=o.map(ob(c,"script"),kb),g=f.length;k>j;j++)h=c,j!==n&&(h=o.clone(h,true,true),g&&o.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,o.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&o.contains(i,h)&&(h.src?o._evalUrl&&o._evalUrl(h.src):o.globalEval(h.textContent.replace(hb,"")))}return this}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){o.fn[a]=function(a){for(var c,d=[],e=o(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(true),o(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d=o(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:o.css(d[0],"display");return d.detach(),e}function tb(a){var b=m,c=rb[a];return c||
(c=sb(a,b),"none"!==c&&c||(qb=(qb||o("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||o.contains(a.ownerDocument,a)||(g=o.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e=m.documentElement,f=m.createElement("div"),g=m.createElement("div");g.style.backgroundClip="content-box"
,g.cloneNode(true).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(g);function h(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",e.appendChild(f);var d=a.getComputedStyle(g,null);b="1%"!==d.top,c="4px"===d.width,e.removeChild(f)}a.getComputedStyle&&o.extend(l,{pixelPosition:function(){return h(),b},boxSizingReliable:function(){return null==c&&h(),c},reliableMarginRight:function(){var b,c=g.appendChild(m.createElement("div"));return c.style.cssText=g.style.cssText=d,c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.innerHTML="",b}})}(),o.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=
c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:0,fontWeight:400},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=o.css(a,c+R[f],true,e)),d?("content"===c&&(g-=o.css(a,"padding"+R[f],true,e)),"margin"!==c&&(g-=o.css(a,"border"+R[f]+"Width",true,e))):(g+=o.css(a,"padding"+R[f],true,e),"padding"!==c&&(g+=o.css(a,"border"+R[f]+"Width",true,e)));return g}function Ib(a,b,c){var d=true,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===o.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=
xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):f[g]||(e=S(d),(c&&"none"!==c||!e)&&L.set(d,"olddisplay",e?c:o.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}o.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o.camelCase(b
),i=a.style;return b=o.cssProps[h]||(o.cssProps[h]=Fb(i,h)),g=o.cssHooks[b]||o.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(o.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||o.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]="",i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=o.camelCase(b);return b=o.cssProps[h]||(o.cssProps[h]=Fb(a.style,h)),g=o.cssHooks[b]||o.cssHooks[h],g&&"get"in g&&(e=g.get(a,true,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===true||o.isNumeric(f)?f||0:e):e}}),o.each(["height","width"],function(a,b){o.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&zb.test(o.css(a,"display"))?o.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===
o.css(a,"boxSizing",!1,e),e):0)}}}),o.cssHooks.marginRight=yb(l.reliableMarginRight,function(a,b){return b?o.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),o.each({margin:"",padding:"",border:"Width"},function(a,b){o.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(o.cssHooks[a+b].set=Gb)}),o.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(o.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=o.css(a,b[g],!1,d);return f}return void 0!==c?o.style(a,b,c):o.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,true)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?o(this).show():o(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}o.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=
c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(o.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?o.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=o.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){o.fx.step[a.prop]?o.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[o.cssProps[a.prop]]||o.cssHooks[a.prop])?o.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks
.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},o.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},o.fx=Kb.prototype.init,o.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(o.cssNumber[a]?"":"px"),g=(o.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(o.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,o.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=o.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call
(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&S(a),p=L.get(a,"fxshow");c.queue||(h=o._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,o.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=o.css(a,"display"),"none"===j&&(j=tb(a.nodeName)),"inline"===j&&"none"===o.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;n=true}l[d]=p&&p[d]||o.style(a,d)}if(!o.isEmptyObject(l)){p?"hidden"in p&&(n=p.hidden):p=L.access(a,"fxshow",{}),f&&(p.hidden=!n),n?o(a).show():k.done(function(){o(a).hide()}
),k.done(function(){var b;L.remove(a,"fxshow");for(b in l)o.style(a,b,l[b])});for(d in l)g=Ub(n?p[d]:0,d,k),d in p||(p[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=o.camelCase(c),e=b[d],f=a[c],o.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=o.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=o.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:o.extend({},b),opts:o.extend(true,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=o.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||
j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=true;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return o.map(k,Ub,j),o.isFunction(j.opts.start)&&j.opts.start.call(a,j),o.fx.timer(o.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}o.Animation=o.extend(Xb,{tweener:function(a,b){o.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),o.speed=function(a,b,c){var d=a&&"object"==typeof a?o.extend({},a):{complete:c||!c&&b||o.isFunction(a)&&a,duration:a,easing:c&&b||b&&!o.isFunction(b)&&b};return d.duration=o.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in o.fx.speeds?o.fx.speeds
[d.duration]:o.fx.speeds._default,(null==d.queue||d.queue===true)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){o.isFunction(d.old)&&d.old.call(this),d.queue&&o.dequeue(this,d.queue)},d},o.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=o.isEmptyObject(a),f=o.speed(b,c,d),g=function(){var b=Xb(this,o.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(true)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=true,e=null!=a&&a+"queueHooks",f=o.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&o.dequeue(this,a)})},finish:function(
a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=o.timers,g=d?d.length:0;for(c.finish=true,o.queue(this,a,[]),e&&e.stop&&e.stop.call(this,true),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(true),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),o.each(["toggle","show","hide"],function(a,b){var c=o.fn[b];o.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,true),a,d,e)}}),o.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){o.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),o.timers=[],o.fx.tick=function(){var a,b=0,c=o.timers;for(Lb=o.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||o.fx.stop(),Lb=void 0},o.fx.timer=function(a){o.timers.push(a),a()?o.fx.start():o.timers.pop()},o.fx
.interval=13,o.fx.start=function(){Mb||(Mb=setInterval(o.fx.tick,o.fx.interval))},o.fx.stop=function(){clearInterval(Mb),Mb=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(a,b){return a=o.fx?o.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=m.createElement("input"),b=m.createElement("select"),c=b.appendChild(m.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=true,l.optDisabled=!c.disabled,a=m.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var Yb,Zb,$b=o.expr.attrHandle;o.fn.extend({attr:function(a,b){return J(this,o.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){o.removeAttr(this,a)})}}),o.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?o.prop(a,b,c):(1===f&&o.isXMLDoc(a)||(b=b.toLowerCase(),d=o.attrHooks
[b]||(o.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=o.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void o.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=o.propFix[c]||c,o.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&o.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?o.removeAttr(a,c):a.setAttribute(c,c),c}},o.each(o.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||o.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;o.fn.extend({prop:function(a,b){return J(this,o.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function()
{delete this[o.propFix[a]||a]})}}),o.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!o.isXMLDoc(a),f&&(b=o.propFix[b]||b,e=o.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),l.optSelected||(o.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;o.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a))return this.each(function(b){o(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match
(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=o.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a))return this.each(function(b){o(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?o.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(o.isFunction(a)?function(c){o(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=o(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass
(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return true;return!1}});var bc=/\r/g;o.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length)return d=o.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,o(this).val()):a,null==e?e="":"number"==typeof e?e+="":o.isArray(e)&&(e=o.map(e,function(a){return null==a?"":a+""})),b=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=o.valHooks[e.type]||o.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}),o.extend({valHooks:{select:{get:function(a)
{for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&o.nodeName(c.parentNode,"optgroup"))){if(b=o(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=o.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=o.inArray(o(d).val(),f)>=0)&&(c=true);return c||(a.selectedIndex=-1),f}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(a,b){return o.isArray(b)?a.checked=o.inArray(o(a).val(),b)>=0:void 0}},l.checkOn||(o.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){o.fn[b]=function(a,c){return arguments
.length>0?this.on(b,null,a,c):this.trigger(b)}}),o.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=o.now(),dc=/\?/;o.parseJSON=function(a){return JSON.parse(a+"")},o.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=m.createElement("a"),fc.href="",fc=
fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(o.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=true,o.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=o.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&o.extend(true,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[
f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===true?g=j[e]:j[e]!==true&&(f=h[0],k.unshift(h[1]));break}if(g!==true)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,
json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(a,b){return b?tc(tc(a,o.ajaxSettings),b):tc(o.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=o.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?o(l):o.event,n=o.Deferred(),p=o.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a
)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(n.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=o.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=o.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===o.active++&&o.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(o.lastModified[d]&&v.setRequestHeader
("If-Modified-Since",o.lastModified[d]),o.etag[d]&&v.setRequestHeader("If-None-Match",o.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(!k.beforeSend||k.beforeSend.call(l,v,k)!==!1&&2!==t){u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(o.lastModified[d]=
w),w=v.getResponseHeader("etag"),w&&(o.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?n.resolveWith(l,[r,x,v]):n.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--o.active||o.event.trigger("ajaxStop")))}return v}return v.abort()},getJSON:function(a,b,c){return o.get(a,b,c,"json")},getScript:function(a,b){return o.get(a,void 0,b,"script")}}),o.each(["get","post"],function(a,b){o[b]=function(a,c,d,e){return o.isFunction(c)&&(e=e||d,d=c,c=void 0),o.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){o.fn[b]=function(a){return this.on(b,a)}}),o._evalUrl=function(a){return o.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":true})},o
.fn.extend({wrapAll:function(a){var b;return o.isFunction(a)?this.each(function(b){o(this).wrapAll(a.call(this,b))}):(this[0]&&(b=o(a,this[0].ownerDocument).eq(0).clone(true),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(o.isFunction(a)?function(b){o(this).wrapInner(a.call(this,b))}:function(){var b=o(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=o.isFunction(a);return this.each(function(c){o(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()}}),o.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},o.expr.filters.visible=function(a){return!o.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i
;function Bc(a,b,c,d){var e;if(o.isArray(b))o.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==o.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}o.param=function(a,b){var c,d=[],e=function(a,b){b=o.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=o.ajaxSettings&&o.ajaxSettings.traditional),o.isArray(a)||a.jquery&&!o.isPlainObject(a))o.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=o.prop(this,"elements");return a?o.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!o(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=o(this).val();return null==c?null:o.isArray(c)?o.map(c,function(a)
{return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),o.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=o.ajaxSettings.xhr();a.ActiveXObject&&o(a).on("unload",function(){for(var a in Dc)Dc[a]()}),l.cors=!!Fc&&"withCredentials"in Fc,l.ajax=Fc=!!Fc,o.ajaxTransport(function(a){var b;return l.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders
()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}:void 0}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return o.globalEval(a),a}}}),o.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),o.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=o("<script>").prop({async:true,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),m.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||o.expando+"_"+cc++;return this[a]=true,a}}),o.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url"
:"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=o.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||o.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&o.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||m;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=o.buildFragment([a],b,e),e&&e.length&&o(e).remove(),o.merge([],d.childNodes))};var Ic=o.fn.load;o.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&
(d=a.slice(h),a=a.slice(0,h)),o.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&o.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?o("<div>").append(o.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},o.expr.filters.animated=function(a){return o.grep(o.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return o.isWindow(a)?a:9===a.nodeType&&a.defaultView}o.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=o.css(a,"position"),l=o(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=o.css(a,"top"),i=o.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),o.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},o.fn.extend({offset:function(a
){if(arguments.length)return void 0===a?this:this.each(function(b){o.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,o.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===o.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),o.nodeName(a[0],"html")||(d=a.offset()),d.top+=o.css(a[0],"borderTopWidth",true),d.left+=o.css(a[0],"borderLeftWidth",true)),{top:b.top-d.top-o.css(c,"marginTop",true),left:b.left-d.left-o.css(c,"marginLeft",true)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!o.nodeName(a,"html")&&"static"===o.css(a,"position"))a=a.offsetParent;return a||Jc})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===
c;o.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void (g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),o.each(["top","left"],function(a,b){o.cssHooks[b]=yb(l.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?o(a).position()[b]+"px":c):void 0})}),o.each({Height:"height",Width:"width"},function(a,b){o.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){o.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===true||e===true?"margin":"border");return J(this,function(b,c,d){var e;return o.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?o.css(b,c,g):o.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),o.fn.size=function(){return this.length},o.fn.andSelf=o.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return o
});var Lc=a.jQuery,Mc=a.$;return o.noConflict=function(b){return a.$===o&&(a.$=Mc),b&&a.jQuery===o&&(a.jQuery=Lc),o},typeof b===U&&(a.jQuery=a.$=o),o}),function(root,factory){if(typeof define=="function"&&define.amd)define("Backbone",["underscore","jquery","exports"],function(_,$,exports){root.Backbone=factory(root,exports,_,$)});else if(typeof exports!="undefined"){var _=require("underscore");factory(root,exports,_)}else root.Backbone=factory(root,{},root._,root.jQuery||root.Zepto||root.ender||root.$)}(this,function(root,Backbone,_,$){var previousBackbone=root.Backbone,array=[],push=array.push,slice=array.slice,splice=array.splice;Backbone.VERSION="1.1.2",Backbone.$=$,Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var Events=Backbone.Events={on:function(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this
._events[name]=[]);return events.push({callback:callback,context:context,ctx:context||this}),this},once:function(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this,once=_.once(function(){self.off(name,once),callback.apply(this,arguments)});return once._callback=callback,this.on(name,once,context)},off:function(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context)return this._events=void 0,this;names=name?[name]:_.keys(this._events);for(i=0,l=names.length;i<l;i++){name=names[i];if(events=this._events[name]){this._events[name]=retain=[];if(callback||context)for(j=0,k=events.length;j<k;j++)ev=events[j],(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context)&&retain.push(ev);retain.length||delete this._events[name]}}return this},trigger:function(name){if(!this._events)return this
;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name],allEvents=this._events.all;return events&&triggerEvents(events,args),allEvents&&triggerEvents(allEvents,arguments),this},stopListening:function(obj,name,callback){var listeningTo=this._listeningTo;if(!listeningTo)return this;var remove=!name&&!callback;!callback&&typeof name=="object"&&(callback=this),obj&&((listeningTo={})[obj._listenId]=obj);for(var id in listeningTo)obj=listeningTo[id],obj.off(name,callback,this),(remove||_.isEmpty(obj._events))&&delete this._listeningTo[id];return this}},eventSplitter=/\s+/,eventsApi=function(obj,action,name,rest){if(!name)return true;if(typeof name=="object"){for(var key in name)obj[action].apply(obj,[key,name[key]].concat(rest));return!1}if(eventSplitter.test(name)){var names=name.split(eventSplitter);for(var i=0,l=names.length;i<l;i++)obj[action].apply(obj,[names[i]].concat(rest));return!1}return true},triggerEvents=function(events,
args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:while(++i<l)(ev=events[i]).callback.call(ev.ctx);return;case 1:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:while(++i<l)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:while(++i<l)(ev=events[i]).callback.apply(ev.ctx,args);return}},listenMethods={listenTo:"on",listenToOnce:"once"};_.each(listenMethods,function(implementation,method){Events[method]=function(obj,name,callback){var listeningTo=this._listeningTo||(this._listeningTo={}),id=obj._listenId||(obj._listenId=_.uniqueId("l"));return listeningTo[id]=obj,!callback&&typeof name=="object"&&(callback=this),obj[implementation](name,callback,this),this}}),Events.bind=Events.on,Events.unbind=Events.off,_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var attrs=attributes||{};options||(options={}),this.cid=_.uniqueId
("c"),this.attributes={},options.collection&&(this.collection=options.collection),options.parse&&(attrs=this.parse(attrs,options)||{}),attrs=_.defaults({},attrs,_.result(this,"defaults")),this.set(attrs,options),this.changed={},this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return this.get(attr)!=null},set:function(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(key==null)return this;typeof key=="object"?(attrs=key,options=val):(attrs={})[key]=val,options||(options={});if(!this._validate(attrs,options))return!1;unset=options.unset,silent=options.silent,changes=[],changing=this._changing,this._changing=true,changing||(this.
_previousAttributes=_.clone(this.attributes),this.changed={}),current=this.attributes,prev=this._previousAttributes,this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]);for(attr in attrs)val=attrs[attr],_.isEqual(current[attr],val)||changes.push(attr),_.isEqual(prev[attr],val)?delete this.changed[attr]:this.changed[attr]=val,unset?delete current[attr]:current[attr]=val;if(!silent){changes.length&&(this._pending=options);for(var i=0,l=changes.length;i<l;i++)this.trigger("change:"+changes[i],this,current[changes[i]],options)}if(changing)return this;if(!silent)while(this._pending)options=this._pending,this._pending=!1,this.trigger("change",this,options);return this._pending=!1,this._changing=!1,this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:true}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:true}))},hasChanged:function(attr){return attr==null?!_.isEmpty
(this.changed):_.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var val,changed=!1,old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff){if(_.isEqual(old[attr],val=diff[attr]))continue;(changed||(changed={}))[attr]=val}return changed},previous:function(attr){return attr==null||!this._previousAttributes?null:this._previousAttributes[attr]},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=options?_.clone(options):{},options.parse===void 0&&(options.parse=true);var model=this,success=options.success;return options.success=function(resp){if(!model.set(model.parse(resp,options),options))return!1;success&&success(model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),this.sync("read",this,options)},save:function(key,val,options){var attrs,method,xhr,attributes=this.attributes;key==null||typeof key=="object"?(attrs=
key,options=val):(attrs={})[key]=val,options=_.extend({validate:true},options);if(attrs&&!options.wait){if(!this.set(attrs,options))return!1}else if(!this._validate(attrs,options))return!1;attrs&&options.wait&&(this.attributes=_.extend({},attributes,attrs)),options.parse===void 0&&(options.parse=true);var model=this,success=options.success;return options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);options.wait&&(serverAttrs=_.extend(attrs||{},serverAttrs));if(_.isObject(serverAttrs)&&!model.set(serverAttrs,options))return!1;success&&success(model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),method=this.isNew()?"create":options.patch?"patch":"update",method==="patch"&&(options.attrs=attrs),xhr=this.sync(method,this,options),attrs&&options.wait&&(this.attributes=attributes),xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,destroy=function(){model.trigger
("destroy",model,model.collection,options)};options.success=function(resp){(options.wait||model.isNew())&&destroy(),success&&success(model,resp,options),model.isNew()||model.trigger("sync",model,resp,options)};if(this.isNew())return options.success(),!1;wrapError(this,options);var xhr=this.sync("delete",this,options);return options.wait||destroy(),xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();return this.isNew()?base:base.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(options){return this._validate({},_.extend(options||{},{validate:true}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return true;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;return error?(this.trigger("invalid"
,this,error,_.extend(options,{validationError:error})),!1):true}});var modelMethods=["keys","values","pairs","invert","pick","omit"];_.each(modelMethods,function(method){Model.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.attributes),_[method].apply(_,args)}});var Collection=Backbone.Collection=function(models,options){options||(options={}),options.model&&(this.model=options.model),options.comparator!==void 0&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,_.extend({silent:true},options))},setOptions={add:true,remove:true,merge:true},addOptions={add:true,remove:!1};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.extend({merge:!1},options,addOptions))},remove
:function(models,options){var singular=!_.isArray(models);models=singular?[models]:_.clone(models),options||(options={});var i,l,index,model;for(i=0,l=models.length;i<l;i++){model=models[i]=this.get(models[i]);if(!model)continue;delete this._byId[model.id],delete this._byId[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model,options)}return singular?models[0]:models},set:function(models,options){options=_.defaults({},options,setOptions),options.parse&&(models=this.parse(models,options));var singular=!_.isArray(models);models=singular?models?[models]:[]:_.clone(models);var i,l,id,model,attrs,existing,sort,at=options.at,targetModel=this.model,sortable=this.comparator&&at==null&&options.sort!==!1,sortAttr=_.isString(this.comparator)?this.comparator:null,toAdd=[],toRemove=[],modelMap={},add=options.add,merge=options.merge,remove=options.remove,order=!sortable&&
add&&remove?[]:!1;for(i=0,l=models.length;i<l;i++){attrs=models[i]||{},attrs instanceof Model?id=model=attrs:id=attrs[targetModel.prototype.idAttribute||"id"];if(existing=this.get(id))remove&&(modelMap[existing.cid]=true),merge&&(attrs=attrs===model?model.attributes:attrs,options.parse&&(attrs=existing.parse(attrs,options)),existing.set(attrs,options),sortable&&!sort&&existing.hasChanged(sortAttr)&&(sort=true)),models[i]=existing;else if(add){model=models[i]=this._prepareModel(attrs,options);if(!model)continue;toAdd.push(model),this._addReference(model,options)}model=existing||model,order&&(model.isNew()||!modelMap[model.id])&&order.push(model),modelMap[model.id]=true}if(remove){for(i=0,l=this.length;i<l;++i)modelMap[(model=this.models[i]).cid]||toRemove.push(model);toRemove.length&&this.remove(toRemove,options)}if(toAdd.length||order&&order.length){sortable&&(sort=true),this.length+=toAdd.length;if(at!=null)for(i=0,l=toAdd.length;i<l;i++)this.models.splice(at+i,0,toAdd[i]);else{order&&
(this.models.length=0);var orderedModels=order||toAdd;for(i=0,l=orderedModels.length;i<l;i++)this.models.push(orderedModels[i])}}sort&&this.sort({silent:true});if(!options.silent){for(i=0,l=toAdd.length;i<l;i++)(model=toAdd[i]).trigger("add",model,this,options);(sort||order&&order.length)&&this.trigger("sort",this,options)}return singular?models[0]:models},reset:function(models,options){options||(options={});for(var i=0,l=this.models.length;i<l;i++)this._removeReference(this.models[i],options);return options.previousModels=this.models,this._reset(),models=this.add(models,_.extend({silent:true},options)),options.silent||this.trigger("reset",this,options),models},push:function(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return this.add(model,_.extend({at:0},options))},shift:function(options){var model=this.at(0);return this.remove(model
,options),model},slice:function(){return slice.apply(this.models,arguments)},get:function(obj){return obj==null?void 0:this._byId[obj]||this._byId[obj.id]||this._byId[obj.cid]},at:function(index){return this.models[index]},where:function(attrs,first){return _.isEmpty(attrs)?first?void 0:[]:this[first?"find":"filter"](function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return true})},findWhere:function(attrs){return this.where(attrs,true)},sort:function(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return options||(options={}),_.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),options.silent||this.trigger("sort",this,options),this},pluck:function(attr){return _.invoke(this.models,"get",attr)},fetch:function(options){options=options?_.clone(options):{},options.parse===void 0&&(options.parse=true);var success=options.success,collection=
this;return options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options),success&&success(collection,resp,options),collection.trigger("sync",collection,resp,options)},wrapError(this,options),this.sync("read",this,options)},create:function(model,options){options=options?_.clone(options):{};if(!(model=this._prepareModel(model,options)))return!1;options.wait||this.add(model,options);var collection=this,success=options.success;return options.success=function(model,resp){options.wait&&collection.add(model,options),success&&success(model,resp,options)},model.save(null,options),model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(attrs,options){if(attrs instanceof Model)return attrs;options=options?_.clone(options):{},options.collection=this;var model=new this.model(attrs,options);return model.validationError?(this
.trigger("invalid",this,model.validationError,options),!1):model},_addReference:function(model,options){this._byId[model.cid]=model,model.id!=null&&(this._byId[model.id]=model),model.collection||(model.collection=this),model.on("all",this._onModelEvent,this)},_removeReference:function(model,options){this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if((event==="add"||event==="remove")&&collection!==this)return;event==="destroy"&&this.remove(model,options),model&&event==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],model.id!=null&&(this._byId[model.id]=model)),this.trigger.apply(this,arguments)}});var methods=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail"
,"drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];_.each(methods,function(method){Collection.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.models),_[method].apply(_,args)}});var attributeMethods=["groupBy","countBy","sortBy","indexBy"];_.each(attributeMethods,function(method){Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),options||(options={}),_.extend(this,_.pick(options,viewOptions)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize
:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(element,delegate){return this.$el&&this.undelegateEvents(),this.$el=element instanceof Backbone.$?element:Backbone.$(element),this.el=this.$el[0],delegate!==!1&&this.delegateEvents(),this},delegateEvents:function(events){if(!events&&!(events=_.result(this,"events")))return this;this.undelegateEvents();for(var key in events){var method=events[key];_.isFunction(method)||(method=this[events[key]]);if(!method)continue;var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,selector===""?this.$el.on(eventName,method):this.$el.on(eventName,selector,method)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var attrs=_.extend({},_.result(this,"attributes"));this.id&&(attrs.id=_.result(this,"id"
)),this.className&&(attrs["class"]=_.result(this,"className"));var $el=Backbone.$("<"+_.result(this,"tagName")+">").attr(attrs);this.setElement($el,!1)}else this.setElement(_.result(this,"el"),!1)}}),Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};options.url||(params.url=_.result(model,"url")||urlError()),options.data==null&&model&&(method==="create"||method==="update"||method==="patch")&&(params.contentType="application/json",params.data=JSON.stringify(options.attrs||model.toJSON(options))),options.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{});if(options.emulateHTTP&&(type==="PUT"||type==="DELETE"||type==="PATCH")){params.type="POST",options.emulateJSON&&(params.data._method=type);var beforeSend=options.beforeSend;options.beforeSend=function(xhr){xhr.setRequestHeader
("X-HTTP-Method-Override",type);if(beforeSend)return beforeSend.apply(this,arguments)}}params.type!=="GET"&&!options.emulateJSON&&(params.processData=!1),params.type==="PATCH"&&noXhrPatch&&(params.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var xhr=options.xhr=Backbone.ajax(_.extend(params,options));return model.trigger("request",model,xhr,options),xhr};var noXhrPatch=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),methodMap={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function()
{},route:function(route,name,callback){_.isRegExp(route)||(route=this._routeToRegExp(route)),_.isFunction(name)&&(callback=name,name=""),callback||(callback=this[name]);var router=this;return Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);router.execute(callback,args),router.trigger.apply(router,["route:"+name].concat(args)),router.trigger("route",name,args),Backbone.history.trigger("route",router,name,args)}),this},execute:function(callback,args){callback&&callback.apply(this,args)},navigate:function(fragment,options){return Backbone.history.navigate(fragment,options),this},_bindRoutes:function(){if(!this.routes)return;this.routes=_.result(this,"routes");var route,routes=_.keys(this.routes);while((route=routes.pop())!=null)this.route(route,this.routes[route])},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match
:"([^/?]+)"}).replace(splatParam,"([^?]*?)"),new RegExp("^"+route+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param,i){return i===params.length-1?param||null:param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/,pathStripper=/#.*$/;History.started=!1,_.extend(History.prototype,Events,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(fragment==null)if(this._hasPushState||!this._wantsHashChange||forcePushState){fragment=decodeURI(this.location
.pathname+this.location.search);var root=this.root.replace(trailingSlash,"");fragment.indexOf(root)||(fragment=fragment.slice(root.length))}else fragment=this.getHash();return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=true,this.options=_.extend({root:"/"},this.options,options),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7);this.root=("/"+this.root+"/").replace(rootStripper,"/");if(oldIE&&this._wantsHashChange){var frame=Backbone.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=frame.hide().appendTo("body")[0].contentWindow,this.navigate(fragment)}this._hasPushState?
Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,true),this.location.replace(this.root+"#"+this.fragment),true;this._hasPushState&&this.atRoot()&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.
getFragment();current===this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe)));if(current===this.fragment)return!1;this.iframe&&this.navigate(current),this.loadUrl()},loadUrl:function(fragment){return fragment=this.fragment=this.getFragment(fragment),_.any(this.handlers,function(handler){if(handler.route.test(fragment))return handler.callback(fragment),true})},navigate:function(fragment,options){if(!History.started)return!1;if(!options||options===true)options={trigger:!!options};var url=this.root+(fragment=this.getFragment(fragment||""));fragment=fragment.replace(pathStripper,"");if(this.fragment===fragment)return;this.fragment=fragment,fragment===""&&url!=="/"&&(url=url.slice(0,-1));if(this._hasPushState)this.history[options.replace?"replaceState":"pushState"]({},document.title,url);else{if(!this._wantsHashChange)return this.location.assign(url);this._updateHash(this.location,fragment,options.replace),this.iframe&&fragment!==this.getFragment(this.getHash(this
.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,fragment,options.replace))}if(options.trigger)return this.loadUrl(fragment)},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else location.hash="#"+fragment}}),Backbone.history=new History;var extend=function(protoProps,staticProps){var parent=this,child;protoProps&&_.has(protoProps,"constructor")?child=protoProps.constructor:child=function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&_.extend(child.prototype,protoProps),child.__super__=parent.prototype,child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw new Error('A "url" property or function must be specified'
)},wrapError=function(model,options){var error=options.error;options.error=function(resp){error&&error(model,resp,options),model.trigger("error",model,resp,options)}};return Backbone}),function(root,factory){if(typeof define=="function"&&define.amd)define("Marionette",["Backbone","underscore"],function(Backbone,_){return root.Marionette=factory(root,Backbone,_)});else if(typeof exports!="undefined"){var Backbone=require("Backbone"),_=require("underscore");module.exports=factory(root,Backbone,_)}else root.Marionette=factory(root,root.Backbone,root._)}(this,function(root,Backbone,_){(function(Backbone,_){var previousChildViewContainer=Backbone.ChildViewContainer;return Backbone.ChildViewContainer=function(Backbone,_){var Container=function(views){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),_.each(views,this.add,this)};_.extend(Container.prototype,{add:function(view,customIndex){var viewCid=view.cid;return this._views[viewCid]=view,view.model&&(this._indexByModel
[view.model.cid]=viewCid),customIndex&&(this._indexByCustom[customIndex]=viewCid),this._updateLength(),this},findByModel:function(model){return this.findByModelCid(model.cid)},findByModelCid:function(modelCid){var viewCid=this._indexByModel[modelCid];return this.findByCid(viewCid)},findByCustom:function(index){var viewCid=this._indexByCustom[index];return this.findByCid(viewCid)},findByIndex:function(index){return _.values(this._views)[index]},findByCid:function(cid){return this._views[cid]},remove:function(view){var viewCid=view.cid;return view.model&&delete this._indexByModel[view.model.cid],_.any(this._indexByCustom,function(cid,key){if(cid===viewCid)return delete this._indexByCustom[key],true},this),delete this._views[viewCid],this._updateLength(),this},call:function(method){this.apply(method,_.tail(arguments))},apply:function(method,args){_.each(this._views,function(view){_.isFunction(view[method])&&view[method].apply(view,args||[])})},_updateLength:function(){this.length=_.size(this
._views)}});var methods=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return _.each(methods,function(method){Container.prototype[method]=function(){var views=_.values(this._views),args=[views].concat(_.toArray(arguments));return _[method].apply(_,args)}}),Container}(Backbone,_),Backbone.ChildViewContainer.VERSION="0.1.4",Backbone.ChildViewContainer.noConflict=function(){return Backbone.ChildViewContainer=previousChildViewContainer,this},Backbone.ChildViewContainer})(Backbone,_),function(Backbone,_){var previousWreqr=Backbone.Wreqr,Wreqr=Backbone.Wreqr={};return Backbone.Wreqr.VERSION="1.3.1",Backbone.Wreqr.noConflict=function(){return Backbone.Wreqr=previousWreqr,this},Wreqr.Handlers=function(Backbone,_){var Handlers=function(options){this.options=options,this._wreqrHandlers={},_.isFunction(this.initialize)&&this.initialize(options)};return Handlers
.extend=Backbone.Model.extend,_.extend(Handlers.prototype,Backbone.Events,{setHandlers:function(handlers){_.each(handlers,function(handler,name){var context=null;_.isObject(handler)&&!_.isFunction(handler)&&(context=handler.context,handler=handler.callback),this.setHandler(name,handler,context)},this)},setHandler:function(name,handler,context){var config={callback:handler,context:context};this._wreqrHandlers[name]=config,this.trigger("handler:add",name,handler,context)},hasHandler:function(name){return!!this._wreqrHandlers[name]},getHandler:function(name){var config=this._wreqrHandlers[name];if(!config)return;return function(){var args=Array.prototype.slice.apply(arguments);return config.callback.apply(config.context,args)}},removeHandler:function(name){delete this._wreqrHandlers[name]},removeAllHandlers:function(){this._wreqrHandlers={}}}),Handlers}(Backbone,_),Wreqr.CommandStorage=function(){var CommandStorage=function(options){this.options=options,this._commands={},_.isFunction(this.
initialize)&&this.initialize(options)};return _.extend(CommandStorage.prototype,Backbone.Events,{getCommands:function(commandName){var commands=this._commands[commandName];return commands||(commands={command:commandName,instances:[]},this._commands[commandName]=commands),commands},addCommand:function(commandName,args){var command=this.getCommands(commandName);command.instances.push(args)},clearCommands:function(commandName){var command=this.getCommands(commandName);command.instances=[]}}),CommandStorage}(),Wreqr.Commands=function(Wreqr){return Wreqr.Handlers.extend({storageType:Wreqr.CommandStorage,constructor:function(options){this.options=options||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var args=Array.prototype.slice.call(arguments);Wreqr.Handlers.prototype.constructor.apply(this,args)},execute:function(name,args){name=arguments[0],args=Array.prototype.slice.call(arguments,1),this.hasHandler(name)?this.getHandler(name).apply(this,args
):this.storage.addCommand(name,args)},_executeCommands:function(name,handler,context){var command=this.storage.getCommands(name);_.each(command.instances,function(args){handler.apply(context,args)}),this.storage.clearCommands(name)},_initializeStorage:function(options){var storage,StorageType=options.storageType||this.storageType;_.isFunction(StorageType)?storage=new StorageType:storage=StorageType,this.storage=storage}})}(Wreqr),Wreqr.RequestResponse=function(Wreqr){return Wreqr.Handlers.extend({request:function(){var name=arguments[0],args=Array.prototype.slice.call(arguments,1);if(this.hasHandler(name))return this.getHandler(name).apply(this,args)}})}(Wreqr),Wreqr.EventAggregator=function(Backbone,_){var EA=function(){};return EA.extend=Backbone.Model.extend,_.extend(EA.prototype,Backbone.Events),EA}(Backbone,_),Wreqr.Channel=function(Wreqr){var Channel=function(channelName){this.vent=new Backbone.Wreqr.EventAggregator,this.reqres=new Backbone.Wreqr.RequestResponse,this.commands=new 
Backbone.Wreqr.Commands,this.channelName=channelName};return _.extend(Channel.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(hash,context){return this._connect("vent",hash,context),this},connectCommands:function(hash,context){return this._connect("commands",hash,context),this},connectRequests:function(hash,context){return this._connect("reqres",hash,context),this},_connect:function(type,hash,context){if(!hash)return;context=context||this;var method=type==="vent"?"on":"setHandler";_.each(hash,function(fn,eventName){this[type][method](eventName,_.bind(fn,context))},this)}}),Channel}(Wreqr),Wreqr.radio=function(Wreqr){var Radio=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};_.extend(Radio.prototype,{channel:function(channelName){if(!channelName)throw new Error("Channel must receive a name");return this._getChannel(channelName
)},_getChannel:function(channelName){var channel=this._channels[channelName];return channel||(channel=new Wreqr.Channel(channelName),this._channels[channelName]=channel),channel},_proxyMethods:function(){_.each(["vent","commands","reqres"],function(system){_.each(messageSystems[system],function(method){this[system][method]=proxyMethod(this,system,method)},this)},this)}});var messageSystems={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},proxyMethod=function(radio,system,method){return function(channelName){var messageSystem=radio._getChannel(channelName)[system],args=Array.prototype.slice.call(arguments,1);return messageSystem[method].apply(messageSystem,args)}};return new Radio}(Wreqr),Backbone.Wreqr}(Backbone,_);var previousMarionette=root.Marionette,Marionette=Backbone.Marionette={};Marionette
.VERSION="2.1.0",Marionette.noConflict=function(){return root.Marionette=previousMarionette,this},Backbone.Marionette=Marionette,Marionette.Deferred=Backbone.$.Deferred;var slice=Array.prototype.slice;function throwError(message,name){var error=new Error(message);throw error.name=name||"Error",error}return Marionette.extend=Backbone.Model.extend,Marionette.getOption=function(target,optionName){if(!target||!optionName)return;var value;return target.options&&target.options[optionName]!==undefined?value=target.options[optionName]:value=target[optionName],value},Marionette.proxyGetOption=function(optionName){return Marionette.getOption(this,optionName)},Marionette.normalizeMethods=function(hash){var normalizedHash={};return _.each(hash,function(method,name){_.isFunction(method)||(method=this[method]);if(!method)return;normalizedHash[name]=method},this),normalizedHash},Marionette.normalizeUIKeys=function(hash,ui){if(typeof hash=="undefined")return;return _.each(_.keys(hash),function(v){var pattern=/@ui\.[a-zA-Z_$0-9]*/g
;v.match(pattern)&&(hash[v.replace(pattern,function(r){return ui[r.slice(4)]})]=hash[v],delete hash[v])}),hash},Marionette.actAsCollection=function(object,listProperty){var methods=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];_.each(methods,function(method){object[method]=function(){var list=_.values(_.result(this,listProperty)),args=[list].concat(_.toArray(arguments));return _[method].apply(_,args)}})},Marionette.triggerMethod=function(){var splitter=/(^|:)(\w)/gi;function getEventName(match,prefix,eventName){return eventName.toUpperCase()}var triggerMethod=function(event){var methodName="on"+event.replace(splitter,getEventName),method=this[methodName],result;return _.isFunction(method)&&(result=method.apply(this,_.tail(arguments))),_.isFunction(this.trigger)&&this.trigger.apply(this,arguments),result};return triggerMethod}(),Marionette.MonitorDOMRefresh=
function(documentElement){function handleShow(view){view._isShown=true,triggerDOMRefresh(view)}function handleRender(view){view._isRendered=true,triggerDOMRefresh(view)}function triggerDOMRefresh(view){view._isShown&&view._isRendered&&isInDOM(view)&&_.isFunction(view.triggerMethod)&&view.triggerMethod("dom:refresh")}function isInDOM(view){return Backbone.$.contains(documentElement,view.el)}return function(view){view.listenTo(view,"show",function(){handleShow(view)}),view.listenTo(view,"render",function(){handleRender(view)})}}(document.documentElement),function(Marionette){function bindFromStrings(target,entity,evt,methods){var methodNames=methods.split(/\s+/);_.each(methodNames,function(methodName){var method=target[methodName];method||throwError('Method "'+methodName+'" was configured as an event handler, but does not exist.'),target.listenTo(entity,evt,method)})}function bindToFunction(target,entity,evt,method){target.listenTo(entity,evt,method)}function unbindFromStrings(target,entity
,evt,methods){var methodNames=methods.split(/\s+/);_.each(methodNames,function(methodName){var method=target[methodName];target.stopListening(entity,evt,method)})}function unbindToFunction(target,entity,evt,method){target.stopListening(entity,evt,method)}function iterateEvents(target,entity,bindings,functionCallback,stringCallback){if(!entity||!bindings)return;_.isFunction(bindings)&&(bindings=bindings.call(target)),_.each(bindings,function(methods,evt){_.isFunction(methods)?functionCallback(target,entity,evt,methods):stringCallback(target,entity,evt,methods)})}Marionette.bindEntityEvents=function(target,entity,bindings){iterateEvents(target,entity,bindings,bindToFunction,bindFromStrings)},Marionette.unbindEntityEvents=function(target,entity,bindings){iterateEvents(target,entity,bindings,unbindToFunction,unbindFromStrings)},Marionette.proxyBindEntityEvents=function(entity,bindings){return Marionette.bindEntityEvents(this,entity,bindings)},Marionette.proxyUnbindEntityEvents=function(entity
,bindings){return Marionette.unbindEntityEvents(this,entity,bindings)}}(Marionette),Marionette.Callbacks=function(){this._deferred=Marionette.Deferred(),this._callbacks=[]},_.extend(Marionette.Callbacks.prototype,{add:function(callback,contextOverride){var promise=_.result(this._deferred,"promise");this._callbacks.push({cb:callback,ctx:contextOverride}),promise.then(function(args){contextOverride&&(args.context=contextOverride),callback.call(args.context,args.options)})},run:function(options,context){this._deferred.resolve({options:options,context:context})},reset:function(){var callbacks=this._callbacks;this._deferred=Marionette.Deferred(),this._callbacks=[],_.each(callbacks,function(cb){this.add(cb.cb,cb.ctx)},this)}}),Marionette.Controller=function(options){this.options=options||{},_.isFunction(this.initialize)&&this.initialize(this.options)},Marionette.Controller.extend=Marionette.extend,_.extend(Marionette.Controller.prototype,Backbone.Events,{destroy:function(){var args=slice.call
(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(args)),this.triggerMethod.apply(this,["destroy"].concat(args)),this.stopListening(),this.off(),this},triggerMethod:Marionette.triggerMethod,getOption:Marionette.proxyGetOption}),Marionette.Object=function(options){this.options=_.extend({},_.result(this,"options"),options),this.initialize(this.options)},Marionette.Object.extend=Marionette.extend,_.extend(Marionette.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:Marionette.triggerMethod,getOption:Marionette.proxyGetOption,bindEntityEvents:Marionette.proxyBindEntityEvents,unbindEntityEvents:Marionette.proxyUnbindEntityEvents}),_.extend(Marionette.Object.prototype,Backbone.Events),Marionette.Region=function(options){this.options=options||{},this.el=this.getOption("el"),this.el=this.el instanceof Backbone.$?this.el[0]:this.el,this.el||throwError('An "el" must be specified for a region.'
,"NoElError"),this.$el=this.getEl(this.el);if(this.initialize){var args=slice.apply(arguments);this.initialize.apply(this,args)}},_.extend(Marionette.Region,{buildRegion:function(regionConfig,DefaultRegionClass){if(_.isString(regionConfig))return this._buildRegionFromSelector(regionConfig,DefaultRegionClass);if(regionConfig.selector||regionConfig.el||regionConfig.regionClass)return this._buildRegionFromObject(regionConfig,DefaultRegionClass);if(_.isFunction(regionConfig))return this._buildRegionFromRegionClass(regionConfig);throwError("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(selector,DefaultRegionClass){return new DefaultRegionClass({el:selector})},_buildRegionFromObject:function(regionConfig,DefaultRegionClass){var RegionClass=regionConfig.regionClass||DefaultRegionClass,options=_.omit(regionConfig,"selector","regionClass");regionConfig.selector&&!options.el&&
(options.el=regionConfig.selector);var region=new RegionClass(options);return regionConfig.parentEl&&(region.getEl=function(el){if(_.isObject(el))return Backbone.$(el);var parentEl=regionConfig.parentEl;return _.isFunction(parentEl)&&(parentEl=parentEl()),parentEl.find(el)}),region},_buildRegionFromRegionClass:function(RegionClass){return new RegionClass}}),_.extend(Marionette.Region.prototype,Backbone.Events,{show:function(view,options){this._ensureElement();var showOptions=options||{},isDifferentView=view!==this.currentView,preventDestroy=!!showOptions.preventDestroy,forceShow=!!showOptions.forceShow,isChangingView=!!this.currentView,_shouldDestroyView=!preventDestroy&&isDifferentView;_shouldDestroyView&&this.empty();var _shouldShowView=isDifferentView||forceShow;return _shouldShowView?(view.once("destroy",_.bind(this.empty,this)),view.render(),isChangingView&&this.triggerMethod("before:swap",view),this.triggerMethod("before:show",view),_.isFunction(view.triggerMethod)?view.triggerMethod
("before:show"):this.triggerMethod.call(view,"before:show"),this.attachHtml(view),this.currentView=view,isChangingView&&this.triggerMethod("swap",view),this.triggerMethod("show",view),_.isFunction(view.triggerMethod)?view.triggerMethod("show"):this.triggerMethod.call(view,"show"),this):this},_ensureElement:function(){_.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),(!this.$el||this.$el.length===0)&&throwError('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(el){return Backbone.$(el)},attachHtml:function(view){this.el.innerHTML="",this.el.appendChild(view.el)},empty:function(){var view=this.currentView;if(!view)return;return this.triggerMethod("before:empty",view),this._destroyView(),this.triggerMethod("empty",view),delete this.currentView,this},_destroyView:function(){var view=this.currentView;view.destroy&&!view.isDestroyed?view.destroy():view.remove&&view.remove()},attachView:function(view){return this.currentView=view,this},hasView:function(){
return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:Marionette.proxyGetOption,triggerMethod:Marionette.triggerMethod}),Marionette.Region.extend=Marionette.extend,Marionette.RegionManager=function(Marionette){var RegionManager=Marionette.Controller.extend({constructor:function(options){this._regions={},Marionette.Controller.call(this,options)},addRegions:function(regionDefinitions,defaults){_.isFunction(regionDefinitions)&&(regionDefinitions=regionDefinitions.apply(this,arguments));var regions={};return _.each(regionDefinitions,function(definition,name){_.isString(definition)&&(definition={selector:definition}),definition.selector&&(definition=_.defaults({},definition,defaults));var region=this.addRegion(name,definition);regions[name]=region},this),regions},addRegion:function(name,definition){var region,isObject=_.isObject(definition),isString=_.isString(definition),hasSelector=!!definition.selector;return isString||
isObject&&hasSelector?region=Marionette.Region.buildRegion(definition,Marionette.Region):_.isFunction(definition)?region=Marionette.Region.buildRegion(definition,Marionette.Region):region=definition,this.triggerMethod("before:add:region",name,region),this._store(name,region),this.triggerMethod("add:region",name,region),region},get:function(name){return this._regions[name]},getRegions:function(){return _.clone(this._regions)},removeRegion:function(name){var region=this._regions[name];return this._remove(name,region),region},removeRegions:function(){var regions=this.getRegions();return _.each(this._regions,function(region,name){this._remove(name,region)},this),regions},emptyRegions:function(){var regions=this.getRegions();return _.each(regions,function(region){region.empty()},this),regions},destroy:function(){return this.removeRegions(),Marionette.Controller.prototype.destroy.apply(this,arguments)},_store:function(name,region){this._regions[name]=region,this._setLength()},_remove:function(
name,region){this.triggerMethod("before:remove:region",name,region),region.empty(),region.stopListening(),delete this._regions[name],this._setLength(),this.triggerMethod("remove:region",name,region)},_setLength:function(){this.length=_.size(this._regions)}});return Marionette.actAsCollection(RegionManager.prototype,"_regions"),RegionManager}(Marionette),Marionette.TemplateCache=function(templateId){this.templateId=templateId},_.extend(Marionette.TemplateCache,{templateCaches:{},get:function(templateId){var cachedTemplate=this.templateCaches[templateId];return cachedTemplate||(cachedTemplate=new Marionette.TemplateCache(templateId),this.templateCaches[templateId]=cachedTemplate),cachedTemplate.load()},clear:function(){var i,args=slice.call(arguments),length=args.length;if(length>0)for(i=0;i<length;i++)delete this.templateCaches[args[i]];else this.templateCaches={}}}),_.extend(Marionette.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var template=
this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(template),this.compiledTemplate},loadTemplate:function(templateId){var template=Backbone.$(templateId).html();return(!template||template.length===0)&&throwError('Could not find template: "'+templateId+'"',"NoTemplateError"),template},compileTemplate:function(rawTemplate){return _.template(rawTemplate)}}),Marionette.Renderer={render:function(template,data){template||throwError("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");var templateFunc;return typeof template=="function"?templateFunc=template:templateFunc=Marionette.TemplateCache.get(template),templateFunc(data)}},Marionette.View=Backbone.View.extend({constructor:function(options){_.bindAll(this,"render"),this.options=_.extend({},_.result(this,"options"),_.isFunction(options)?options.call(this):options),this.events=this.normalizeUIKeys(_.result(this,"events")),_.isObject(this.behaviors)&&new Marionette.Behaviors
(this),Backbone.View.apply(this,arguments),Marionette.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(model){return model.toJSON.apply(model,slice.call(arguments,1))},mixinTemplateHelpers:function(target){target=target||{};var templateHelpers=this.getOption("templateHelpers");return _.isFunction(templateHelpers)&&(templateHelpers=templateHelpers.call(this)),_.extend(target,templateHelpers)},normalizeUIKeys:function(hash){var ui=_.result(this,"ui"),uiBindings=_.result(this,"_uiBindings");return Marionette.normalizeUIKeys(hash,uiBindings||ui)},configureTriggers:function(){if(!this.triggers)return;var triggerEvents={},triggers=this.normalizeUIKeys(_.result(this,"triggers"));return _.each(triggers,function(value,key){var hasOptions=_.isObject(value),eventName=hasOptions?value.event:value;triggerEvents[key]=function(e){if(e){var prevent=e.preventDefault,stop=e.stopPropagation,shouldPrevent=
hasOptions?value.preventDefault:prevent,shouldStop=hasOptions?value.stopPropagation:stop;shouldPrevent&&prevent&&prevent.apply(e),shouldStop&&stop&&stop.apply(e)}var args={view:this,model:this.model,collection:this.collection};this.triggerMethod(eventName,args)}},this),triggerEvents},delegateEvents:function(events){return this._delegateDOMEvents(events),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),this},_delegateDOMEvents:function(events){events=events||this.events,_.isFunction(events)&&(events=events.call(this)),events=this.normalizeUIKeys(events);var combinedEvents={},behaviorEvents=_.result(this,"behaviorEvents")||{},triggers=this.configureTriggers();_.extend(combinedEvents,behaviorEvents,events,triggers),Backbone.View.prototype.delegateEvents.call(this,combinedEvents)},undelegateEvents:function(){var args=slice.call(arguments);return Backbone.View.prototype.undelegateEvents.apply(this,args),
this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var err=new Error("Cannot use a view thats already been destroyed.");throw err.name="ViewDestroyedError",err}},destroy:function(){if(this.isDestroyed)return;var args=slice.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(args)),this.isDestroyed=true,this.triggerMethod.apply(this,["destroy"].concat(args)),this.unbindUIElements(),this.remove(),this},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var bindings=_.result(this,"_uiBindings");this.ui={},_.each(_.keys(bindings),function(key){var selector=bindings[key];this.ui[key]=this.$(selector)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;_.each(this.ui,function($el,name){delete this.ui[name]},this),this.ui=this._uiBindings
,delete this._uiBindings},triggerMethod:Marionette.triggerMethod,normalizeMethods:Marionette.normalizeMethods,getOption:Marionette.proxyGetOption,bindEntityEvents:Marionette.proxyBindEntityEvents,unbindEntityEvents:Marionette.proxyUnbindEntityEvents}),Marionette.ItemView=Marionette.View.extend({constructor:function(){Marionette.View.apply(this,arguments)},serializeData:function(){var data={};return this.model?data=_.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(data={items:_.partial(this.serializeCollection,this.collection).apply(this,arguments)}),data},serializeCollection:function(collection){return collection.toJSON.apply(collection,slice.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var template=this.getTemplate();if(template===!1)return;template||throwError("Cannot render the template since it is null or undefined."
,"UndefinedTemplateError");var data=this.serializeData();data=this.mixinTemplateHelpers(data);var html=Marionette.Renderer.render(template,data,this);return this.attachElContent(html),this},attachElContent:function(html){return this.$el.html(html),this},destroy:function(){if(this.isDestroyed)return;return Marionette.View.prototype.destroy.apply(this,arguments)}}),Marionette.CollectionView=Marionette.View.extend({childViewEventPrefix:"childview",constructor:function(options){var initOptions=options||{};this.sort=_.isUndefined(initOptions.sort)?true:initOptions.sort,this._initChildViewStorage(),Marionette.View.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=true},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren
(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&_.invoke(this._bufferedChildren,"triggerMethod","before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(_.each(this._bufferedChildren,function(child){_.isFunction(child.triggerMethod)?child.triggerMethod("show"):Marionette.triggerMethod.call(child,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(child){this.destroyEmptyView();var ChildView=this.getChildView(child),index=this.collection.indexOf(child);this.addChild(child,ChildView,index)},_onCollectionRemove:function(model){var view=this.children.findByModel(model);this.removeChildView(view),this.checkEmpty()},onShowCalled:function(){this.
children.each(function(child){_.isFunction(child.triggerMethod)?child.triggerMethod("show"):Marionette.triggerMethod.call(child,"show")})},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var orderChanged=this.collection.find(function(item,index){var view=this.children.findByModel(item);return!view||view._index!==index},this);orderChanged&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var ChildView;this.collection.each(function(child,index){ChildView=this.getChildView(child),this.addChild(child,ChildView,index)},this)},showEmptyView:function(
){var EmptyView=this.getEmptyView();if(EmptyView&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=true;var model=new Backbone.Model;this.addEmptyView(model,EmptyView),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(child,EmptyView){var emptyViewOptions=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");_.isFunction(emptyViewOptions)&&(emptyViewOptions=emptyViewOptions.call(this));var view=this.buildChildView(child,EmptyView,emptyViewOptions);this._isShown&&this.triggerMethod.call(view,"before:show"),this.children.add(view),this.renderChildView(view,-1),this._isShown&&this.triggerMethod.call(view,"show")},getChildView:function(child){var childView=this.getOption("childView");return childView||throwError('A "childView" must be specified',"NoChildViewError"
),childView},addChild:function(child,ChildView,index){var childViewOptions=this.getOption("childViewOptions");_.isFunction(childViewOptions)&&(childViewOptions=childViewOptions.call(this,child,index));var view=this.buildChildView(child,ChildView,childViewOptions);return this._updateIndices(view,true,index),this._addChildView(view,index),view},_updateIndices:function(view,increment,index){if(!this.sort)return;increment?(view._index=index,this.children.each(function(laterView){laterView._index>=view._index&&laterView._index++})):this.children.each(function(laterView){laterView._index>=view._index&&laterView._index--})},_addChildView:function(view,index){this.proxyChildEvents(view),this.triggerMethod("before:add:child",view),this.children.add(view),this.renderChildView(view,index),this._isShown&&!this.isBuffering&&(_.isFunction(view.triggerMethod)?view.triggerMethod("show"):Marionette.triggerMethod.call(view,"show")),this.triggerMethod("add:child",view)},renderChildView:function(view,index
){return view.render(),this.attachHtml(this,view,index),view},buildChildView:function(child,ChildViewClass,childViewOptions){var options=_.extend({model:child},childViewOptions);return new ChildViewClass(options)},removeChildView:function(view){return view&&(this.triggerMethod("before:remove:child",view),view.destroy?view.destroy():view.remove&&view.remove(),this.stopListening(view),this.children.remove(view),this.triggerMethod("remove:child",view),this._updateIndices(view,!1)),view},isEmpty:function(collection){return!this.collection||this.collection.length===0},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(collectionView,buffer){collectionView.$el.append(buffer)},attachHtml:function(collectionView,childView,index){collectionView.isBuffering?(collectionView.elBuffer.appendChild(childView.el),collectionView._bufferedChildren.push(childView)):collectionView._insertBefore(childView,index)||collectionView._insertAfter(childView)},_insertBefore
:function(childView,index){var currentView,findPosition=this.sort&&index<this.children.length-1;return findPosition&&(currentView=this.children.find(function(view){return view._index===index+1})),currentView?(currentView.$el.before(childView.el),true):!1},_insertAfter:function(childView){this.$el.append(childView.el)},_initChildViewStorage:function(){this.children=new Backbone.ChildViewContainer},destroy:function(){if(this.isDestroyed)return;return this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),Marionette.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var childViews=this.children.map(_.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),childViews},proxyChildEvents:function(view){var prefix=this.getOption("childViewEventPrefix");this.listenTo(view,"all",function(){var args=slice.call(arguments),rootEvent=args[0],childEvents=this.normalizeMethods(_.result(this,"childEvents"
));args[0]=prefix+":"+rootEvent,args.splice(1,0,view),typeof childEvents!="undefined"&&_.isFunction(childEvents[rootEvent])&&childEvents[rootEvent].apply(this,args.slice(1)),this.triggerMethod.apply(this,args)},this)}}),Marionette.CompositeView=Marionette.CollectionView.extend({constructor:function(){Marionette.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(child){var childView=this.getOption("childView")||this.constructor;return childView||throwError('A "childView" must be specified',"NoChildViewError"),childView},serializeData:function(){var data={};return this.model&&(data=_.partial(this.serializeModel,this.model).apply(this,arguments)),data},render:
function(){return this._ensureViewIsIntact(),this.isRendered=true,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&Marionette.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var data={};data=this.serializeData(),data=this.mixinTemplateHelpers(data),this.triggerMethod("before:render:template");var template=this.getTemplate(),html=Marionette.Renderer.render(template,data,this);this.attachElContent(html),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(html){return this.$el.html(html),this},attachBuffer:function(compositeView,buffer){var $container=this.getChildViewContainer(compositeView);$container.append(buffer)},_insertAfter:function(childView){var $container=this.getChildViewContainer(this);$container.append(childView.el)},getChildViewContainer:function(containerView
){if("$childViewContainer"in containerView)return containerView.$childViewContainer;var container,childViewContainer=Marionette.getOption(containerView,"childViewContainer");if(childViewContainer){var selector=_.isFunction(childViewContainer)?childViewContainer.call(containerView):childViewContainer;selector.charAt(0)==="@"&&containerView.ui?container=containerView.ui[selector.substr(4)]:container=containerView.$(selector),container.length<=0&&throwError('The specified "childViewContainer" was not found: '+containerView.childViewContainer,"ChildViewContainerMissingError")}else container=containerView.$el;return containerView.$childViewContainer=container,container},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),Marionette.LayoutView=Marionette.ItemView.extend({regionClass:Marionette.Region,constructor:function(options){options=options||{},this._firstRender=true,this._initializeRegions(options),Marionette.ItemView.call(this,options)},render
:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),Marionette.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),Marionette.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(name,definition){this.triggerMethod("before:region:add",name);var regions={};return regions[name]=definition,this._buildRegions(regions)[name]},addRegions:function(regions){return this.regions=_.extend({},this.regions,regions),this._buildRegions(regions)},removeRegion:function(name){return this.triggerMethod("before:region:remove",name),delete this.regions[name],this.regionManager.removeRegion(name)},getRegion:function(region){return this.regionManager.get(region)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(regions){var that=this,defaults={regionClass:this.getOption("regionClass"),parentEl:function(){return that.$el}};return this
.regionManager.addRegions(regions,defaults)},_initializeRegions:function(options){var regions;this._initRegionManager(),_.isFunction(this.regions)?regions=this.regions(options):regions=this.regions||{};var regionOptions=this.getOption.call(options,"regions");_.isFunction(regionOptions)&&(regionOptions=regionOptions.call(this,options)),_.extend(regions,regionOptions),this.addRegions(regions)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(region){region.reset()})},getRegionManager:function(){return new Marionette.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(name){this.triggerMethod("before:add:region",name)}),this.listenTo(this.regionManager,"add:region",function(name,region){this[name]=region,this.triggerMethod("add:region",name,region)}),this.listenTo(this.regionManager,"before:remove:region",function(name){this.triggerMethod("before:remove:region"
,name)}),this.listenTo(this.regionManager,"remove:region",function(name,region){delete this[name],this.triggerMethod("remove:region",name,region)})}}),Marionette.Behavior=function(_,Backbone){function Behavior(options,view){this.view=view,this.defaults=_.result(this,"defaults")||{},this.options=_.extend({},this.defaults,options),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return _.extend(Behavior.prototype,Backbone.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:Marionette.triggerMethod,getOption:Marionette.proxyGetOption,bindEntityEvents:Marionette.proxyBindEntityEvents,unbindEntityEvents:Marionette.proxyUnbindEntityEvents}),Behavior.extend=Marionette.extend,Behavior}(_,Backbone),Marionette.Behaviors=function(Marionette,_){function Behaviors(view,behaviors){behaviors=Behaviors.parseBehaviors(view,behaviors||_.result(view,"behaviors")),Behaviors.wrap(view,behaviors,_.keys(methods))}var methods=
{setElement:function(setElement,behaviors){return setElement.apply(this,_.tail(arguments,2)),_.each(behaviors,function(b){b.$el=this.$el,b.el=this.el},this),this},destroy:function(destroy,behaviors){var args=_.tail(arguments,2);return destroy.apply(this,args),_.invoke(behaviors,"destroy",args),this},bindUIElements:function(bindUIElements,behaviors){bindUIElements.apply(this),_.invoke(behaviors,bindUIElements)},unbindUIElements:function(unbindUIElements,behaviors){unbindUIElements.apply(this),_.invoke(behaviors,unbindUIElements)},triggerMethod:function(triggerMethod,behaviors){var args=_.tail(arguments,2);triggerMethod.apply(this,args),_.each(behaviors,function(b){triggerMethod.apply(b,args)})},delegateEvents:function(delegateEvents,behaviors){var args=_.tail(arguments,2);return delegateEvents.apply(this,args),_.each(behaviors,function(b){Marionette.bindEntityEvents(b,this.model,Marionette.getOption(b,"modelEvents")),Marionette.bindEntityEvents(b,this.collection,Marionette.getOption(b,"collectionEvents"
))},this),this},undelegateEvents:function(undelegateEvents,behaviors){var args=_.tail(arguments,2);return undelegateEvents.apply(this,args),_.each(behaviors,function(b){Marionette.unbindEntityEvents(b,this.model,Marionette.getOption(b,"modelEvents")),Marionette.unbindEntityEvents(b,this.collection,Marionette.getOption(b,"collectionEvents"))},this),this},behaviorEvents:function(behaviorEvents,behaviors){var _behaviorsEvents={},viewUI=_.result(this,"ui");return _.each(behaviors,function(b,i){var _events={},behaviorEvents=_.clone(_.result(b,"events"))||{},behaviorUI=_.result(b,"ui"),ui=_.extend({},viewUI,behaviorUI);behaviorEvents=Marionette.normalizeUIKeys(behaviorEvents,ui),_.each(_.keys(behaviorEvents),function(key){var whitespace=(new Array(i+2)).join(" "),eventKey=key+whitespace,handler=_.isFunction(behaviorEvents[key])?behaviorEvents[key]:b[behaviorEvents[key]];_events[eventKey]=_.bind(handler,b)}),_behaviorsEvents=_.extend(_behaviorsEvents,_events)}),_behaviorsEvents}};return _.extend
(Behaviors,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(options,key){return options.behaviorClass?options.behaviorClass:_.isFunction(Behaviors.behaviorsLookup)?Behaviors.behaviorsLookup.apply(this,arguments)[key]:Behaviors.behaviorsLookup[key]},parseBehaviors:function(view,behaviors){return _.chain(behaviors).map(function(options,key){var BehaviorClass=Behaviors.getBehaviorClass(options,key),behavior=new BehaviorClass(options,view),nestedBehaviors=Behaviors.parseBehaviors(view,_.result(behavior,"behaviors"));return[behavior].concat(nestedBehaviors)}).flatten().value()},wrap:function(view,behaviors,methodNames){_.each(methodNames,function(methodName){view[methodName]=_.partial(methods[methodName],view[methodName],behaviors)})}}),Behaviors}(Marionette,_),Marionette.AppRouter=Backbone.Router.extend({constructor
:function(options){Backbone.Router.apply(this,arguments),this.options=options||{};var appRoutes=this.getOption("appRoutes"),controller=this._getController();this.processAppRoutes(controller,appRoutes),this.on("route",this._processOnRoute,this)},appRoute:function(route,methodName){var controller=this._getController();this._addAppRoute(controller,route,methodName)},_processOnRoute:function(routeName,routeArgs){var routePath=_.invert(this.getOption("appRoutes"))[routeName];_.isFunction(this.onRoute)&&this.onRoute(routeName,routePath,routeArgs)},processAppRoutes:function(controller,appRoutes){if(!appRoutes)return;var routeNames=_.keys(appRoutes).reverse();_.each(routeNames,function(route){this._addAppRoute(controller,route,appRoutes[route])},this)},_getController:function(){return this.getOption("controller")},_addAppRoute:function(controller,route,methodName){var method=controller[methodName];method||throwError('Method "'+methodName+'" was not found on the controller'),this.route(route,methodName
,_.bind(method,controller))},getOption:Marionette.proxyGetOption}),Marionette.Application=function(options){this._initializeRegions(options),this._initCallbacks=new Marionette.Callbacks,this.submodules={},_.extend(this,options),this._initChannel()},_.extend(Marionette.Application.prototype,Backbone.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(initializer){this._initCallbacks.add(initializer)},start:function(options){this.triggerMethod("before:start",options),this._initCallbacks.run(options,this),this.triggerMethod("start",options)},addRegions:function(regions){return this._regionManager.addRegions(regions)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(region){return this._regionManager.removeRegion(region)},getRegion:function(region){return this._regionManager.get(region)},getRegions:function(){return this._regionManager
.getRegions()},module:function(moduleNames,moduleDefinition){var ModuleClass=Marionette.Module.getClass(moduleDefinition),args=slice.call(arguments);return args.unshift(this),ModuleClass.create.apply(ModuleClass,args)},getRegionManager:function(){return new Marionette.RegionManager},_initializeRegions:function(options){var regions=_.isFunction(this.regions)?this.regions(options):this.regions||{};this._initRegionManager();var optionRegions=Marionette.getOption(options,"regions");return _.isFunction(optionRegions)&&(optionRegions=optionRegions.call(this,options)),_.extend(regions,optionRegions),this.addRegions(regions),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(name){this.triggerMethod("before:add:region",name)}),this.listenTo(this._regionManager,"add:region",function(name,region){this[name]=region,this.triggerMethod("add:region",name,region)}),this.listenTo(this._regionManager,"before:remove:region"
,function(name){this.triggerMethod("before:remove:region",name)}),this.listenTo(this._regionManager,"remove:region",function(name,region){delete this[name],this.triggerMethod("remove:region",name,region)})},_initChannel:function(){this.channelName=_.result(this,"channelName")||"global",this.channel=_.result(this,"channel")||Backbone.Wreqr.radio.channel(this.channelName),this.vent=_.result(this,"vent")||this.channel.vent,this.commands=_.result(this,"commands")||this.channel.commands,this.reqres=_.result(this,"reqres")||this.channel.reqres},triggerMethod:Marionette.triggerMethod,getOption:Marionette.proxyGetOption}),Marionette.Application.extend=Marionette.extend,Marionette.Module=function(moduleName,app,options){this.moduleName=moduleName,this.options=_.extend({},this.options,options),this.initialize=options.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=app,this.startWithParent=true,_.isFunction(this.initialize)&&this.initialize(moduleName
,app,this.options)},Marionette.Module.extend=Marionette.extend,_.extend(Marionette.Module.prototype,Backbone.Events,{initialize:function(){},addInitializer:function(callback){this._initializerCallbacks.add(callback)},addFinalizer:function(callback){this._finalizerCallbacks.add(callback)},start:function(options){if(this._isInitialized)return;_.each(this.submodules,function(mod){mod.startWithParent&&mod.start(options)}),this.triggerMethod("before:start",options),this._initializerCallbacks.run(options,this),this._isInitialized=true,this.triggerMethod("start",options)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,this.triggerMethod("before:stop"),_.each(this.submodules,function(mod){mod.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop")},addDefinition:function(moduleDefinition,customArgs){this._runModuleDefinition(moduleDefinition,customArgs)},_runModuleDefinition:function(
definition,customArgs){if(!definition)return;var args=_.flatten([this,this.app,Backbone,Marionette,Backbone.$,_,customArgs]);definition.apply(this,args)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new Marionette.Callbacks,this._finalizerCallbacks=new Marionette.Callbacks},triggerMethod:Marionette.triggerMethod}),_.extend(Marionette.Module,{create:function(app,moduleNames,moduleDefinition){var module=app,customArgs=slice.call(arguments);customArgs.splice(0,3),moduleNames=moduleNames.split(".");var length=moduleNames.length,moduleDefinitions=[];return moduleDefinitions[length-1]=moduleDefinition,_.each(moduleNames,function(moduleName,i){var parentModule=module;module=this._getModule(parentModule,moduleName,app,moduleDefinition),this._addModuleDefinition(parentModule,module,moduleDefinitions[i],customArgs)},this),module},_getModule:function(parentModule,moduleName,app,def,args){var options=_.extend({},def),ModuleClass=this.getClass(def),module=parentModule[moduleName
];return module||(module=new ModuleClass(moduleName,app,options),parentModule[moduleName]=module,parentModule.submodules[moduleName]=module),module},getClass:function(moduleDefinition){var ModuleClass=Marionette.Module;return moduleDefinition?moduleDefinition.prototype instanceof ModuleClass?moduleDefinition:moduleDefinition.moduleClass||ModuleClass:ModuleClass},_addModuleDefinition:function(parentModule,module,def,args){var fn=this._getDefine(def),startWithParent=this._getStartWithParent(def,module);fn&&module.addDefinition(fn,args),this._addStartWithParent(parentModule,module,startWithParent)},_getStartWithParent:function(def,module){var swp;return _.isFunction(def)&&def.prototype instanceof Marionette.Module?(swp=module.constructor.prototype.startWithParent,_.isUndefined(swp)?true:swp):_.isObject(def)?(swp=def.startWithParent,_.isUndefined(swp)?true:swp):true},_getDefine:function(def){return!_.isFunction(def)||def.prototype instanceof Marionette.Module?_.isObject(def)?def.define:null
:def},_addStartWithParent:function(parentModule,module,startWithParent){module.startWithParent=module.startWithParent&&startWithParent;if(!module.startWithParent||!!module.startWithParentIsConfigured)return;module.startWithParentIsConfigured=true,parentModule.addInitializer(function(options){module.startWithParent&&module.start(options)})}}),Marionette}),define("models/Version",["Backbone"],function(Backbone){return Version=Backbone.Model.extend({}),Version}),define("hbs/handlebars",[],function(){var Handlebars=function(){var __module4__=function(){var __exports__;function SafeString(string){this.string=string}return SafeString.prototype.toString=function(){return""+this.string},__exports__=SafeString,__exports__}(),__module3__=function(__dependency1__){var __exports__={},SafeString=__dependency1__,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},badChars=/[&<>"'`]/g,possible=/[&<>"'`]/;function escapeChar(chr){return escape[chr]||"&amp;"}function extend
(obj,value){for(var key in value)Object.prototype.hasOwnProperty.call(value,key)&&(obj[key]=value[key])}__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return typeof value=="function"};isFunction(/x/)&&(isFunction=function(value){return typeof value=="function"&&toString.call(value)==="[object Function]"});var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value=="object"?toString.call(value)==="[object Array]":!1};__exports__.isArray=isArray;function escapeExpression(string){return string instanceof SafeString?string.toString():!string&&string!==0?"":(string=""+string,possible.test(string)?string.replace(badChars,escapeChar):string)}__exports__.escapeExpression=escapeExpression;function isEmpty(value){return!value&&value!==0?true:isArray(value)&&value.length===0?true:!1}return __exports__.isEmpty=isEmpty,__exports__}(__module4__),__module5__=function(
){var __exports__,errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var line;node&&node.firstLine&&(line=node.firstLine,message+=" - "+line+":"+node.firstColumn);var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];line&&(this.lineNumber=line,this.column=node.firstColumn)}return Exception.prototype=new Error,__exports__=Exception,__exports__}(),__module2__=function(__dependency1__,__dependency2__){var __exports__={},Utils=__dependency1__,Exception=__dependency2__,VERSION="1.3.0";__exports__.VERSION=VERSION;var COMPILER_REVISION=4;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType="[object Object]";function HandlebarsEnvironment
(helpers,partials){this.helpers=helpers||{},this.partials=partials||{},registerDefaultHelpers(this)}__exports__.HandlebarsEnvironment=HandlebarsEnvironment,HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn)throw new Exception("Arg not supported with multiple helpers");Utils.extend(this.helpers,name)}else inverse&&(fn.not=inverse),this.helpers[name]=fn},registerPartial:function(name,str){toString.call(name)===objectType?Utils.extend(this.partials,name):this.partials[name]=str}};function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(arg){if(arguments.length===2)return undefined;throw new Exception("Missing helper: '"+arg+"'")}),instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;return isFunction(context)&&(context=context.call(this)),context===true?
fn(this):context===!1||context==null?inverse(this):isArray(context)?context.length>0?instance.helpers.each(context,options):inverse(this):fn(context)}),instance.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse,i=0,ret="",data;isFunction(context)&&(context=context.call(this)),options.data&&(data=createFrame(options.data));if(context&&typeof context=="object")if(isArray(context))for(var j=context.length;i<j;i++)data&&(data.index=i,data.first=i===0,data.last=i===context.length-1),ret+=fn(context[i],{data:data});else for(var key in context)context.hasOwnProperty(key)&&(data&&(data.key=key,data.index=i,data.first=i===0),ret+=fn(context[key],{data:data}),i++);return i===0&&(ret=inverse(this)),ret}),instance.registerHelper("if",function(conditional,options){return isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper
("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})}),instance.registerHelper("with",function(context,options){isFunction(context)&&(context=context.call(this));if(!Utils.isEmpty(context))return options.fn(context)}),instance.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context)})}var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];typeof console!="undefined"&&console[method]&&console[method].call(console,obj)}}};__exports__.logger=logger;function log(level,obj){logger.log(level,obj)}__exports__.log=log;var createFrame=function(object){var obj={};return Utils.extend(obj,object),obj};return __exports__.createFrame=createFrame,__exports__}(__module3__,__module5__
),__module6__=function(__dependency1__,__dependency2__,__dependency3__){var __exports__={},Utils=__dependency1__,Exception=__dependency2__,COMPILER_REVISION=__dependency3__.COMPILER_REVISION,REVISION_CHANGES=__dependency3__.REVISION_CHANGES;function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}__exports__.checkRevision=
checkRevision;function template(templateSpec,env){if(!env)throw new Exception("No environment passed to template");var invokePartialWrapper=function(partial,name,context,helpers,partials,data){var result=env.VM.invokePartial.apply(this,arguments);if(result!=null)return result;if(env.compile){var options={helpers:helpers,partials:partials,data:data};return partials[name]=env.compile(partial,{data:data!==undefined},env),partials[name](context,options)}throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")},container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];return data?programWrapper=program(i,fn,data):programWrapper||(programWrapper=this.programs[i]=program(i,fn)),programWrapper},merge:function(param,common){var ret=param||common;return param&&common&&param!==common&&(ret={},Utils.extend(ret,common),Utils.extend(ret,param)),ret},programWithDepth
:env.VM.programWithDepth,noop:env.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var namespace=options.partial?options:env,helpers,partials;options.partial||(helpers=options.helpers,partials=options.partials);var result=templateSpec.call(container,namespace,context,helpers,partials,options.data);return options.partial||env.VM.checkRevision(container.compilerInfo),result}}__exports__.template=template;function programWithDepth(i,fn,data){var args=Array.prototype.slice.call(arguments,3),prog=function(context,options){return options=options||{},fn.apply(this,[context,options.data||data].concat(args))};return prog.program=i,prog.depth=args.length,prog}__exports__.programWithDepth=programWithDepth;function program(i,fn,data){var prog=function(context,options){return options=options||{},fn(context,options.data||data)};return prog.program=i,prog.depth=0,prog}__exports__.program=program;function invokePartial(partial,name,context,helpers,partials,data){var options=
{partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined)throw new Exception("The partial "+name+" could not be found");if(partial instanceof Function)return partial(context,options)}__exports__.invokePartial=invokePartial;function noop(){return""}return __exports__.noop=noop,__exports__}(__module3__,__module5__,__module2__),__module1__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){var __exports__,base=__dependency1__,SafeString=__dependency2__,Exception=__dependency3__,Utils=__dependency4__,runtime=__dependency5__,create=function(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=SafeString,hb.Exception=Exception,hb.Utils=Utils,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb},Handlebars=create();return Handlebars.create=create,__exports__=Handlebars,__exports__}(__module2__,__module4__,__module5__,__module3__,__module6__),__module7__=function(__dependency1__
){var __exports__,Exception=__dependency1__;function LocationInfo(locInfo){locInfo=locInfo||{},this.firstLine=locInfo.first_line,this.firstColumn=locInfo.first_column,this.lastColumn=locInfo.last_column,this.lastLine=locInfo.last_line}var AST={ProgramNode:function(statements,inverseStrip,inverse,locInfo){var inverseLocationInfo,firstInverseNode;arguments.length===3?(locInfo=inverse,inverse=null):arguments.length===2&&(locInfo=inverseStrip,inverseStrip=null),LocationInfo.call(this,locInfo),this.type="program",this.statements=statements,this.strip={},inverse?(firstInverseNode=inverse[0],firstInverseNode?(inverseLocationInfo={first_line:firstInverseNode.firstLine,last_line:firstInverseNode.lastLine,last_column:firstInverseNode.lastColumn,first_column:firstInverseNode.firstColumn},this.inverse=new AST.ProgramNode(inverse,inverseStrip,inverseLocationInfo)):this.inverse=new AST.ProgramNode(inverse,inverseStrip),this.strip.right=inverseStrip.left):inverseStrip&&(this.strip.left=inverseStrip.right
)},MustacheNode:function(rawParams,hash,open,strip,locInfo){LocationInfo.call(this,locInfo),this.type="mustache",this.strip=strip;if(open!=null&&open.charAt){var escapeFlag=open.charAt(3)||open.charAt(2);this.escaped=escapeFlag!=="{"&&escapeFlag!=="&"}else this.escaped=!!open;rawParams instanceof AST.SexprNode?this.sexpr=rawParams:this.sexpr=new AST.SexprNode(rawParams,hash),this.sexpr.isRoot=true,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(rawParams,hash,locInfo){LocationInfo.call(this,locInfo),this.type="sexpr",this.hash=hash;var id=this.id=rawParams[0],params=this.params=rawParams.slice(1),eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)},PartialNode:function(partialName,context,strip,locInfo){LocationInfo.call(this,locInfo),this.type="partial",this.partialName=partialName,this.context=context,this.strip=
strip},BlockNode:function(mustache,program,inverse,close,locInfo){LocationInfo.call(this,locInfo);if(mustache.sexpr.id.original!==close.path.original)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close.path.original,this);this.type="block",this.mustache=mustache,this.program=program,this.inverse=inverse,this.strip={left:mustache.strip.left,right:close.strip.right},(program||inverse).strip.left=mustache.strip.right,(inverse||program).strip.right=close.strip.left,inverse&&!program&&(this.isInverse=true)},ContentNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="content",this.string=string},HashNode:function(pairs,locInfo){LocationInfo.call(this,locInfo),this.type="hash",this.pairs=pairs},IdNode:function(parts,locInfo){LocationInfo.call(this,locInfo),this.type="ID";var original="",dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part;original+=(parts[i].separator||"")+part;if(part===".."||part==="."||part==="this"){if(dig.length>0
)throw new Exception("Invalid path: "+original,this);part===".."?depth++:this.isScoped=true}else dig.push(part)}this.original=original,this.parts=dig,this.string=dig.join("."),this.depth=depth,this.isSimple=parts.length===1&&!this.isScoped&&depth===0,this.stringModeValue=this.string},PartialNameNode:function(name,locInfo){LocationInfo.call(this,locInfo),this.type="PARTIAL_NAME",this.name=name.original},DataNode:function(id,locInfo){LocationInfo.call(this,locInfo),this.type="DATA",this.id=id},StringNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="STRING",this.original=this.string=this.stringModeValue=string},IntegerNode:function(integer,locInfo){LocationInfo.call(this,locInfo),this.type="INTEGER",this.original=this.integer=integer,this.stringModeValue=Number(integer)},BooleanNode:function(bool,locInfo){LocationInfo.call(this,locInfo),this.type="BOOLEAN",this.bool=bool,this.stringModeValue=bool==="true"},CommentNode:function(comment,locInfo){LocationInfo.call(this,
locInfo),this.type="comment",this.comment=comment}};return __exports__=AST,__exports__}(__module5__),__module9__=function(){var __exports__,handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35
:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return new yy.ProgramNode($$[$0-1],this._$);case 2:return new yy.ProgramNode([],this._$);case 3:this.$=new yy.ProgramNode([],$$[$0-1],$$[$0],this._$);break;case 4:this.$=new yy.ProgramNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 5:this.$=new yy.ProgramNode($$[$0-1],$$[$0],[],this._$);break;case 6:this.$=new yy.ProgramNode($$[$0],this._$);break;case 7:this.$=new yy.ProgramNode([],this._$);break;case 8:this.$=new yy.ProgramNode([],this._$);break;case 9:this.$=[$$[$0]];break;
case 10:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0],this._$);break;case 12:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0],this._$);break;case 13:this.$=$$[$0];break;case 14:this.$=$$[$0];break;case 15:this.$=new yy.ContentNode($$[$0],this._$);break;case 16:this.$=new yy.CommentNode($$[$0],this._$);break;case 17:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 18:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 19:this.$={path:$$[$0-1],strip:stripFlags($$[$0-2],$$[$0])};break;case 20:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 21:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1],stripFlags($$[$0-3],$$[$0]),this._$);break;case 23:this.$=stripFlags($$[$0-1
],$$[$0]);break;case 24:this.$=new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 25:this.$=new yy.SexprNode([$$[$0]],null,this._$);break;case 26:this.$=$$[$0];break;case 27:this.$=new yy.StringNode($$[$0],this._$);break;case 28:this.$=new yy.IntegerNode($$[$0],this._$);break;case 29:this.$=new yy.BooleanNode($$[$0],this._$);break;case 30:this.$=$$[$0];break;case 31:$$[$0-1].isHelper=true,this.$=$$[$0-1];break;case 32:this.$=new yy.HashNode($$[$0],this._$);break;case 33:this.$=[$$[$0-2],$$[$0]];break;case 34:this.$=new yy.PartialNameNode($$[$0],this._$);break;case 35:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 36:this.$=new yy.PartialNameNode(new yy.IntegerNode($$[$0],this._$));break;case 37:this.$=new yy.DataNode($$[$0],this._$);break;case 38:this.$=new yy.IdNode($$[$0],this._$);break;case 39:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]}),this.$=$$[$0-2];break;case 40:this.$=[{part:$$[$0]}];break;case 43:this.$=[];break;case 44
:$$[$0-1].push($$[$0]);break;case 47:this.$=[$$[$0]];break;case 48:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25
:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40]
,42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15
:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2
,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=
[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function popStack(n){stack.length=stack.length-2*n,vstack.length=vstack.length-n,lstack.length=lstack.length-n}function lex(){var token;return token=self.lexer.lex()||1,typeof token!="number"&&(token=self.symbols_[token]||token),token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state])action=this.defaultActions[state];else{if(symbol===null||typeof symbol=="undefined")symbol=lex();action=table[state]&&table[state][symbol]}if(typeof action=="undefined"||!action.length||!action[0]){var errStr=""
;if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");this.lexer.showPosition?errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer
.yylloc,recovering>0&&recovering--);break;case 2:len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!="undefined")return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return true}}return true}};function stripFlags(open,close){return{left:open.charAt(2)==="~",right:close.charAt(0)==="~"||close.charAt(1)==="~"}}var lexer=function(){var lexer=
{EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr
(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=true,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=(new 
Array(pre.length+1)).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=true);var token,match,tempMatch,index,col,lines;this._more||(this.yytext="",this.match="");var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch,index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input
.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(token)return token;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return typeof r!="undefined"?r:this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};return lexer.options={},lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start
,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:yy_.yytext.slice(-2)==="\\\\"?(strip(0,1),this.begin("mu")):yy_.yytext.slice(-1)==="\\"?(strip(0,1),this.begin("emu")):this.begin("mu");if(yy_.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return strip(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return strip(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),32;case 24:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29
:return 40;case 30:return yy_.yytext=strip(1,2),40;case 31:return"INVALID";case 32:return 5}},lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],lexer.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:true}},lexer}();parser.
lexer=lexer;function Parser(){this.yy={}}return Parser.prototype=parser,parser.Parser=Parser,new Parser}();return __exports__=handlebars,__exports__}(),__module8__=function(__dependency1__,__dependency2__){var __exports__={},parser=__dependency1__,AST=__dependency2__;__exports__.parser=parser;function parse(input){return input.constructor===AST.ProgramNode?input:(parser.yy=AST,parser.parse(input))}return __exports__.parse=parse,__exports__}(__module9__,__module7__),__module10__=function(__dependency1__){var __exports__={},Exception=__dependency1__;function Compiler(){}__exports__.Compiler=Compiler,Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==="DECLARE")out.push("DECLARE "+opcode.name+"="+opcode.value);else{params=[];for(var j=0;j<opcode.args.length;j++)param=opcode.args[j],typeof param=="string"&&(param='"'+param.replace("\n","\\n")+'"'),params.push
(param);out.push(opcode.opcode+" "+params.join(" "))}}return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length)return!1;for(var j=0;j<opcode.args.length;j++)if(opcode.args[j]!==otherOpcode.args[j])return!1}len=this.children.length;if(other.children.length!==len)return!1;for(i=0;i<len;i++)if(!this.children[i].equals(other.children[i]))return!1;return true},guid:0,compile:function(program,options){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(knownHelpers)for(var name in knownHelpers)this.options.knownHelpers[name]=knownHelpers[name];return this.accept(program)},accept:function(
node){var strip=node.strip||{},ret;return strip.left&&this.opcode("strip"),ret=this[node.type](node),strip.right&&this.opcode("strip"),ret},program:function(program){var statements=program.statements;for(var i=0,l=statements.length;i<l;i++)this.accept(statements[i]);return this.isSimple=l===1,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(program){var result=(new this.compiler).compile(program,this.options),guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2)continue;this.addDepth(depth-1)}return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;program&&(program=this.compileProgram(program)),inverse&&(inverse=this.compileProgram(inverse));var sexpr=mustache.sexpr,type=this.classifySexpr(sexpr);type==="helper"?this.helperSexpr(sexpr,program,inverse):type==="simple"?
(this.simpleSexpr(sexpr),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(sexpr,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++)pair=pairs[i],val=pair[1],this.options.stringParams?(val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",val.stringModeValue,val.type),val.type==="sexpr"&&this.sexpr(val)):this.accept(val),this.opcode("assignToHash",pair[0]);this.opcode("popHash")},partial:function(partial){var partialName=partial.partialName;this.usePartial=true,partial.context?this.ID(partial.context):this.opcode("push","depth0"),this.opcode("invokePartial",partialName.name),this.opcode("append")},content:function(content
){this.opcode("appendContent",content.string)},mustache:function(mustache){this.sexpr(mustache.sexpr),mustache.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(sexpr,program,inverse){var id=sexpr.id,name=id.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",id.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var id=sexpr.id;id.type==="DATA"?this.DATA(id):id.parts.length?this.ID(id):(this.addDepth(id.depth),this.opcode("getContext",id.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),name=sexpr.id.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new Exception("You specified knownHelpersOnly, but used the unknown helper "+
name,sexpr);this.opcode("invokeHelper",params.length,name,sexpr.isRoot)}},sexpr:function(sexpr){var type=this.classifySexpr(sexpr);type==="simple"?this.simpleSexpr(sexpr):type==="helper"?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ID:function(id){this.addDepth(id.depth),this.opcode("getContext",id.depth);var name=id.parts[0];name?this.opcode("lookupOnContext",id.parts[0]):this.opcode("pushContext");for(var i=1,l=id.parts.length;i<l;i++)this.opcode("lookup",id.parts[i])},DATA:function(data){this.options.data=true;if(data.id.isScoped||data.id.depth)throw new Exception("Scoped data references are not supported: "+data.original,data);this.opcode("lookupData");var parts=data.id.parts;for(var i=0,l=parts.length;i<l;i++)this.opcode("lookup",parts[i])},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name)
{this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){if(depth===0)return;this.depths[depth]||(this.depths[depth]=true,this.depths.list.push(depth))},classifySexpr:function(sexpr){var isHelper=sexpr.isHelper,isEligible=sexpr.eligibleHelper,options=this.options;if(isEligible&&!isHelper){var name=sexpr.id.parts[0];options.knownHelpers[name]?isHelper=true:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){var i=params.length,param;while(i--)param=params[i],this.options.stringParams?(param.depth&&this.addDepth(param.depth),this.opcode("getContext",param.depth||0),this.opcode("pushStringParam",param.stringModeValue,param.type),param.type==="sexpr"&&this.sexpr(param)):this[param.type](param)},setupFullMustacheParams:function(sexpr,program,inverse){var params=sexpr.params;return this.pushParams
(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.hash(sexpr.hash):this.opcode("emptyHash"),params}};function precompile(input,options,env){if(input==null||typeof input!="string"&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{},"data"in options||(options.data=true);var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}__exports__.precompile=precompile;function compile(input,options,env){if(input==null||typeof input!="string"&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);options=options||{},"data"in options||(options.data=true);var compiled;function compileInput(){var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options),templateSpec=
(new env.JavaScriptCompiler).compile(environment,options,undefined,true);return env.template(templateSpec)}return function(context,options){return compiled||(compiled=compileInput()),compiled.call(this,context,options)}}return __exports__.compile=compile,__exports__}(__module5__),__module11__=function(__dependency1__,__dependency2__){var __exports__,COMPILER_REVISION=__dependency1__.COMPILER_REVISION,REVISION_CHANGES=__dependency1__.REVISION_CHANGES,log=__dependency1__.log,Exception=__dependency2__;function Literal(value){this.value=value}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function(parent,name){var wrap,ret;return parent.indexOf("depth")===0&&(wrap=true),/^[0-9]+$/.test(name)?ret=parent+"["+name+"]":JavaScriptCompiler.isValidJavaScriptVariableName(name)?ret=parent+"."+name:ret=parent+"['"+name+"']",wrap?"("+parent+" && "+ret+")":ret},compilerInfo:function(){var revision=COMPILER_REVISION,versions=REVISION_CHANGES[revision];return"this.compilerInfo = ["+
revision+",'"+versions+"'];\n"},appendToBuffer:function(string){return this.environment.isSimple?"return "+string+";":{appendToBuffer:true,content:string,toString:function(){return"buffer += "+string+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment,this.options=options||{},log("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!context,this.context=context||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(var l=opcodes.length;this.i<l;this.i++)opcode=opcodes[this.i],opcode.opcode==="DECLARE"?this[opcode.name]=opcode.value:this[opcode.opcode].apply(this,opcode.args),opcode.opcode!==this.stripNext&&(this.stripNext=!1
);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new Exception("Compile completed with content left on stack");return this.createFunctionContext(asObject)},preamble:function(){var out=[];if(!this.isChild){var namespace=this.namespace,copies="helpers = this.merge(helpers, "+namespace+".helpers);";this.environment.usePartial&&(copies=copies+" partials = this.merge(partials, "+namespace+".partials);"),this.options.data&&(copies+=" data = data || {};"),out.push(copies)}else out.push("");this.environment.isSimple?out.push(""):out.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);locals.length>0&&(this.source[1]=this.source[1]+", "+locals.join(", "));if(!this.isChild)for(var alias in this.context.aliases)this.context.aliases.hasOwnProperty(alias)&&(this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]);this
.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++)params.push("depth"+this.environment.depths.list[i]);var source=this.mergeSource();this.isChild||(source=this.compilerInfo()+source);if(asObject)return params.push(source),Function.apply(this,params);var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+source+"}";return log("debug",functionSource+"\n\n"),functionSource},mergeSource:function(){var source="",buffer;for(var i=0,len=this.source.length;i<len;i++){var line=this.source[i];line.appendToBuffer?buffer?buffer=buffer+"\n    + "+line.content:buffer=line.content:(buffer&&(source+="buffer += "+buffer+";\n  ",buffer=undefined),source+=line+"\n  ")}return source}
,blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params),this.replaceStack(function(current){return params.splice(1,0,current),"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current),this.pushSource("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.pendingContent&&(content=this.pendingContent+content),this.stripNext&&(content=content.replace(/^\s+/,"")),this.pendingContent=content},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var local=this.popStack();this.pushSource("if("+local+" || "+local+" === 0) { "+this.appendToBuffer
(local)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){this.lastContext!==depth&&(this.lastContext=depth)},lookupOnContext:function(name){this.push(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(string,type){this.pushStackLiteral("depth"+
this.lastContext),this.pushString(type),type!=="sexpr"&&(typeof string=="string"?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+hash.contexts.join(",")+"}"),this.push("{"+hash.types.join(",")+"}")),this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){return this.inlineStack.push(expr),expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){guid!=null?this.pushStackLiteral(this.programExpression(guid)):this.pushStackLiteral(null)},invokeHelper:function(paramSize,name,isRoot){this.context.aliases.helperMissing="helpers.helperMissing"
,this.useRegister("helper");var helper=this.lastHelper=this.setupHelper(paramSize,name,true),nonHelper=this.nameLookup("depth"+this.lastContext,name,"context"),lookup="helper = "+helper.name+" || "+nonHelper;helper.paramsInit&&(lookup+=","+helper.paramsInit),this.push("("+lookup+",helper "+"? helper.call("+helper.callParams+") "+": helperMissing.call("+helper.helperMissingParams+"))"),isRoot||this.flushInline()},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper"),nonHelper=this.nameLookup("depth"+this.lastContext,name,"context"),nextStack=this.nextStack();helper.paramsInit&&this.pushSource(helper.paramsInit),this.pushSource("if (helper = "+helperName+") { "+
nextStack+" = helper.call("+helper.callParams+"); }"),this.pushSource("else { helper = "+nonHelper+"; "+nextStack+" = typeof helper === functionType ? helper.call("+helper.callParams+") : helper; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"];this.options.data&&params.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack(),context,type;this.options.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&hash.contexts.push("'"+key+"': "+context),type&&hash.types.push("'"+key+"': "+type),hash.values.push("'"+key+"': ("+value+")")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i],compiler=new this.compiler;var index=this.matchExistingProgram
(child);index==null?(this.context.programs.push(""),index=this.context.programs.length,child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context),this.context.environments[index]=child):(child.index=index,child.name="program"+index)}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){this.context.aliases.self="this";if(guid==null)return"self.noop";var child=this.environment.children[guid],depths=child.depths.list,depth,programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++)depth=depths[i],depth===1?programParams.push("depth0"):programParams.push("depth"+(depth-1));return(depths.length===0?"self.program(":"self.programWithDepth(")+programParams.join(", ")+")"},register:function(name,val){this.useRegister(name),this.pushSource(name+" = "+
val+";")},useRegister:function(name){this.registers[name]||(this.registers[name]=true,this.registers.list.push(name))},pushStackLiteral:function(item){return this.push(new Literal(item))},pushSource:function(source){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=undefined),source&&this.source.push(source)},pushStack:function(item){this.flushInline();var stack=this.incrStack();return item&&this.pushSource(stack+" = "+item+";"),this.compileStack.push(stack),stack},replaceStack:function(callback){var prefix="",inline=this.isInline(),stack,createdStack,usedLiteral;if(inline){var top=this.popStack(true);if(top instanceof Literal)stack=top.value,usedLiteral=true;else{createdStack=!this.stackSlot;var name=createdStack?this.incrStack():this.topStackName();prefix="("+this.push(name)+" = "+top+"),",stack=this.topStack()}}else stack=this.topStack();var item=callback.call(this,stack);return inline?(usedLiteral||this.popStack()
,createdStack&&this.stackSlot--,this.push("("+prefix+item+")")):(/^stack/.test(stack)||(stack=this.nextStack()),this.pushSource(stack+" = ("+prefix+item+");")),stack},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];entry instanceof Literal?this.compileStack.push(entry):this.pushStack(entry)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new Exception("Invalid stack pop");this.stackSlot--}return item},topStack:function(
wrapped){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return!wrapped&&item instanceof Literal?item.value:item},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(paramSize,name,missingParams){var params=[],paramsInit=this.setupParams(paramSize,params,missingParams),foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:["depth0"].concat(params).join(", "),helperMissingParams:missingParams&&["depth0",this.quotedString(name)].concat(params).join(", ")}},setupOptions:function(paramSize,params){var options=[],contexts=[],types=[],param,inverse,program;options.push("hash:"+this.popStack()),this.options.stringParams&&(options.push("hashTypes:"+this.popStack()),options.push("hashContexts:"+this.popStack())),inverse=this.popStack
(),program=this.popStack();if(program||inverse)program||(this.context.aliases.self="this",program="self.noop"),inverse||(this.context.aliases.self="this",inverse="self.noop"),options.push("inverse:"+inverse),options.push("fn:"+program);for(var i=0;i<paramSize;i++)param=this.popStack(),params.push(param),this.options.stringParams&&(types.push(this.popStack()),contexts.push(this.popStack()));return this.options.stringParams&&(options.push("contexts:["+contexts.join(",")+"]"),options.push("types:["+types.join(",")+"]")),this.options.data&&options.push("data:data"),options},setupParams:function(paramSize,params,useRegister){var options="{"+this.setupOptions(paramSize,params).join(",")+"}";return useRegister?(this.useRegister("options"),params.push("options"),"options="+options):(params.push(options),"")}};var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield"
.split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++)compilerWords[reservedWords[i]]=true;return JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)?true:!1},__exports__=JavaScriptCompiler,__exports__}(__module2__,__module5__),__module0__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){var __exports__,Handlebars=__dependency1__,AST=__dependency2__,Parser=__dependency3__.parser,parse=__dependency3__.parse,Compiler=__dependency4__.Compiler,compile=__dependency4__.compile,precompile=__dependency4__.precompile,JavaScriptCompiler=__dependency5__,_create=Handlebars.create,create=function(){var hb=_create();return hb.compile=function(input,options){return compile(input,options,hb)},hb.precompile=function(input,options){return precompile(input,options,hb)},hb.AST=AST,hb.Compiler=Compiler,hb.JavaScriptCompiler=
JavaScriptCompiler,hb.Parser=Parser,hb.parse=parse,hb};return Handlebars=create(),Handlebars.create=create,__exports__=Handlebars,__exports__}(__module1__,__module7__,__module8__,__module10__,__module11__);return __module0__}();return Handlebars}),define("hbs/underscore",[],function(){var breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return new wrapper(obj)};_.VERSION="1.3.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;
if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return obj==null?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),obj.length===+obj.length&&(results.length=obj.length),results)},_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;obj==null&&(obj=[]);if(nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=true
)});if(!initial)throw new TypeError("Reduce of empty array with no initial value");return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;obj==null&&(obj=[]);if(nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var reversed=_.toArray(obj).reverse();return context&&!initial&&(iterator=_.bind(iterator,context)),initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){if(iterator.call(context,value,index,list))return result=value,true}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return obj==null?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value
)}),results)},_.reject=function(obj,iterator,context){var results=[];return obj==null?results:(each(obj,function(value,index,list){iterator.call(context,value,index,list)||(results[results.length]=value)}),results)},_.every=_.all=function(obj,iterator,context){var result=true;return obj==null?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return obj==null?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker}),!!result)};_.include=_.contains=function(obj,target){var found=!1;return obj==null?found:nativeIndexOf&&obj.indexOf===nativeIndexOf?obj.indexOf(target)!=-1:(found=any(obj,function(value){return value===target}),found
)},_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed
:computed})}),result.value},_.shuffle=function(obj){var shuffled=[],rand;return each(obj,function(value,index,list){rand=Math.floor(Math.random()*(index+1)),shuffled[index]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sortBy=function(obj,val,context){var iterator=_.isFunction(val)?val:function(obj){return obj[val]};return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;return a===void 0?1:b===void 0?-1:a<b?-1:a>b?1:0}),"value")},_.groupBy=function(obj,val){var result={},iterator=_.isFunction(val)?val:function(obj){return obj[val]};return each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)}),result},_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);var low=0,high=array.length;while(low<high){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low},_
.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):_.isArguments(obj)?slice.call(obj):obj.toArray&&_.isFunction(obj.toArray)?obj.toArray():_.values(obj):[]},_.size=function(obj){return _.isArray(obj)?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return n!=null&&!guard?slice.call(array,0,n):array[0]},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))},_.last=function(array,n,guard){return n!=null&&!guard?slice.call(array,Math.max(array.length-n,0)):array[array.length-1]},_.rest=_.tail=function(array,index,guard){return slice.call(array,index==null||guard?1:index)},_.compact=function(array){return _.filter(array,function(value){return!!value})},_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){return _.isArray(value)?memo.concat(shallow?value:_.flatten(value)):(memo[memo.length]=value,memo)},[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_
.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array,results=[];return array.length<3&&(isSorted=true),_.reduce(initial,function(memo,value,index){if(isSorted?_.last(memo)!==value||!memo.length:!_.include(memo,value))memo.push(value),results.push(array[index]);return memo},[]),results},_.union=function(){return _.uniq(_.flatten(arguments,true))},_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=_.flatten(slice.call(arguments,1),true);return _.filter(array,function(value){return!_.include(rest,value)})},_.zip=function(){var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=new Array(length);for(var i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results},_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i,l;if(isSorted)
return i=_.sortedIndex(array,item),array[i]===item?i:-1;if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;i<l;i++)if(i in array&&array[i]===item)return i;return-1},_.lastIndexOf=function(array,item){if(array==null)return-1;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return array.lastIndexOf(item);var i=array.length;while(i--)if(i in array&&array[i]===item)return i;return-1},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=new Array(len);while(idx<len)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(this instanceof bound){ctor.prototype=func.prototype;var self=new 
ctor,result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return func.apply(context,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return funcs.length==0&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,throttling,more,result,whenDone=_.debounce(function(){more=throttling=!1},wait);return function(){context=this,args=arguments;var later=function(){timeout=null,more&&func.apply(context,args),whenDone
()};return timeout||(timeout=setTimeout(later,wait)),throttling?more=true:result=func.apply(context,args),whenDone(),throttling=true,result}},_.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)};immediate&&!timeout&&func.apply(context,args),clearTimeout(timeout),timeout=setTimeout(later,wait)}},_.once=function(func){var ran=!1,memo;return function(){return ran?memo:(ran=true,memo=func.apply(this,arguments))}},_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return times<=0?func():function(){if(--times<1)return func.apply(this,arguments)}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError
("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){return _.map(obj,_.identity)},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var result={};return each(_.flatten(slice.call(arguments,1)),function(key){key in obj&&(result[key]=obj[key])}),result},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){for(var prop in source)obj[prop]==null&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};function eq(a,b,stack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(
a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var length=stack.length;while(length--)if(stack[length]==a)return true;stack.push(a);var size=0,result=true;if(className=="[object Array]"){size=a.length,result=size==b.length;if(result)while(size--)if(!(result=size in a==size in b&&eq(a[size],b[size],stack)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var key in a)if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break}if(result){for(key in 
b)if(_.has(b,key)&&!(size--))break;result=!size}}return stack.pop(),result}_.isEqual=function(a,b){return eq(a,b,[])},_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return!1;return true},_.isElement=function(obj){return!!obj&&obj.nodeType==1},_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"},_.isObject=function(obj){return obj===Object(obj)},_.isArguments=function(obj){return toString.call(obj)=="[object Arguments]"},_.isArguments(arguments)||(_.isArguments=function(obj){return!!obj&&!!_.has(obj,"callee")}),_.isFunction=function(obj){return toString.call(obj)=="[object Function]"},_.isString=function(obj){return toString.call(obj)=="[object String]"},_.isNumber=function(obj){return toString.call(obj)=="[object Number]"},_.isFinite=function(obj){return _.isNumber(obj)&&isFinite(obj)},_.isNaN=function(obj){return obj!==obj},_.isBoolean=function(obj){return obj===
true||obj===!1||toString.call(obj)=="[object Boolean]"},_.isDate=function(obj){return toString.call(obj)=="[object Date]"},_.isRegExp=function(obj){return toString.call(obj)=="[object RegExp]"},_.isNull=function(obj){return obj===null},_.isUndefined=function(obj){return obj===void 0},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i)},_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=
idCounter++;return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/,escapes={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var p in escapes)escapes[escapes[p]]=p;var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g,unescaper=/\\(\\|'|r|n|t|u2028|u2029)/g,unescape=function(code){return code.replace(unescaper,function(match,escape){return escapes[escape]})};_.template=function(text,data,settings){settings=_.defaults(settings||{},_.templateSettings);var source="__p+='"+text.replace(escaper,function(match){return"\\"+escapes[match]}).replace(settings.escape||noMatch,function(match,code){return"'+\n_.escape("+unescape(code)+")+\n'"}).replace(settings.interpolate||noMatch,function(match,code){return"'+\n("+unescape(code)+")+\n'"}).replace(settings.evaluate||noMatch,function(match,code){return"';\n"+unescape(code)+"\n;__p+='"})+"';\n";settings.variable||(source="with(obj||{}){\n"+source+"}\n"
),source="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+source+"return __p;\n";var render=new Function(settings.variable||"obj","_",source);if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj},addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);return unshift.call(args,this._wrapped),result(func.apply(_,args),this._chain)}};return _.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;return(name=="shift"||name=="splice"
)&&length===0&&delete wrapped[0],result(wrapped,this._chain)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}}),wrapper.prototype.chain=function(){return this._chain=true,this},wrapper.prototype.value=function(){return this._wrapped},_}),define("hbs/i18nprecompile",["hbs/handlebars","hbs/underscore"],function(Handlebars,_){function replaceLocaleStrings(ast,mapping,options){return options=options||{},mapping=mapping||{},ast&&ast.type==="program"&&ast.statements&&(_(ast.statements).forEach(function(statement,i){var newString="<!-- i18n error -->";if(statement.type==="mustache"&&statement.id&&statement.id.original==="$"){if(statement.params.length&&statement.params[0].string){var key=statement.params[0].string;newString=mapping[key]||(options.originalKeyFallback?key:newString)}ast.statements[i]=new Handlebars.AST.ContentNode(newString)}else statement.program&&(statement
.program=replaceLocaleStrings(statement.program,mapping,options))}),ast.inverse&&replaceLocaleStrings(ast.inverse,mapping,options)),ast}return function(string,mapping,options){options=options||{};var ast,environment;return ast=Handlebars.parse(string),mapping!==!1&&(ast=replaceLocaleStrings(ast,mapping,options)),environment=(new Handlebars.Compiler).compile(ast,options),(new Handlebars.JavaScriptCompiler).compile(environment,options)}}),function(window){var JSON=window.JSON||{};(function(){function f(n){return n<10?"0"+n:n}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g
,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c=="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];value&&typeof value=="object"&&typeof value.toJSON=="function"&&(value=value.toJSON(key)),typeof rep=="function"&&(value=rep.call(holder,key,value));switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";gap+=indent,partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length
;i+=1)partial[i]=str(i,value)||"null";return v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&typeof rep=="object"){length=rep.length;for(i=0;i<length;i+=1)typeof rep[i]=="string"&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v))}else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}typeof JSON.stringify!="function"&&(JSON.stringify=function(value,replacer,space){var i;gap="",indent="";if(typeof space=="number")for(i=0;i<space;i+=1)indent+=" ";else typeof space=="string"&&(indent=space);rep=replacer;if(!replacer||typeof replacer=="function"||typeof replacer=="object"&&typeof replacer.length=="number")return str("",{"":value});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=
function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value=="object")for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),v!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})})(),define("hbs/json2",[],function(){return JSON})}.call(this,this),define("hbs",["hbs/handlebars","hbs/underscore","hbs/i18nprecompile","hbs/json2"],function(Handlebars,_,precompile,JSON){var fs,getXhr,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],fetchText=
function(){throw new Error("Environment unsupported.")},buildMap=[],filecode="w+",templateExtension="hbs",customNameExtension="@hbs",devStyleDirectory="/styles/",buildStyleDirectory="/demo-build/styles/",helperDirectory="templates/helpers/",i18nDirectory="templates/i18n/",buildCSSFileName="screen.build.css",onHbsReadMethod="onHbsRead";Handlebars.registerHelper("$",function(){}),typeof window!="undefined"&&window.navigator&&window.document&&!window.navigator.userAgent.match(/Node.js/)?(getXhr=function(){var xhr,i,progId;if(typeof XMLHttpRequest!="undefined")return arguments[0]===true?new XDomainRequest:new XMLHttpRequest;for(i=0;i<3;i++){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}if(!xhr)throw new Error("getXhr(): XMLHttpRequest not available");return xhr},getIEVersion=function(){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent,re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");re.exec(ua)!=null&&(rv=parseFloat
(RegExp.$1))}return rv},fetchText=function(url,callback){var xdm=!1;if(url.indexOf("http")!=0)xdm=!1;else{var uidx=url.substr(0,5)==="https"?8:7,hidx=window.location.href.substr(0,5)==="https"?8:7,dom=url.substr(uidx).split("/").shift(),msie=getIEVersion();xdm=dom!=window.location.href.substr(hidx).split("/").shift()&&msie>=7}if(xdm){var xdr=getXhr(true);xdr.open("GET",url),xdr.onload=function(){callback(xdr.responseText,url)},xdr.onprogress=function(){},xdr.ontimeout=function(){},xdr.onerror=function(){},setTimeout(function(){xdr.send()},0)}else{var xhr=getXhr();xhr.open("GET",url,true),xhr.onreadystatechange=function(evt){xhr.readyState===4&&callback(xhr.responseText,url)},xhr.send(null)}}):typeof process!="undefined"&&process.versions&&!!process.versions.node?(fs=require.nodeRequire("fs"),fetchText=function(path,callback){var body=fs.readFileSync(path,"utf8")||"";body=body.replace(/^\uFEFF/,""),callback(body,path)}):typeof java!="undefined"&&typeof java.io!="undefined"&&(fetchText=function(
path,callback){var fis=new java.io.FileInputStream(path),streamReader=new java.io.InputStreamReader(fis,"UTF-8"),reader=new java.io.BufferedReader(streamReader),line,text="";while((line=reader.readLine())!==null)text+=new String(line)+"\n";reader.close(),callback(text,path)});var cache={},fetchOrGetCached=function(path,callback){cache[path]?callback(cache[path]):fetchText(path,function(data,path){cache[path]=data,callback.call(this,data)})},styleList=[],styleMap={};return{get:function(){return Handlebars},write:function(pluginName,name,write){if(name+customNameExtension in buildMap){var text=buildMap[name+customNameExtension];write.asModule(pluginName+"!"+name,text)}},version:"0.5.0",load:function(name,parentRequire,load,config){var compiledName=name+customNameExtension;config.hbs=config.hbs||{};var disableI18n=config.hbs.i18n!=true,disableHelpers=config.hbs.helpers==0,partialsUrl="";config.hbs.partialsUrl&&(partialsUrl=config.hbs.partialsUrl,partialsUrl.match(/\/$/)||(partialsUrl+="/")
);var partialDeps=[];function recursiveNodeSearch(statements,res){return _(statements).forEach(function(statement){statement&&statement.type&&statement.type==="partial"&&res.push(statement.partialName.name),statement&&statement.program&&statement.program.statements&&recursiveNodeSearch(statement.program.statements,res),statement&&statement.program&&statement.program.inverse&&statement.program.inverse.statements&&recursiveNodeSearch(statement.program.inverse.statements,res)}),res}function findPartialDeps(nodes){var res=[];return nodes&&nodes.statements&&(res=recursiveNodeSearch(nodes.statements,[])),_(res).unique()}function getMetaData(nodes){var statement,res,test;if(nodes&&nodes.statements){statement=nodes.statements[0];if(statement&&statement.type==="comment")try{return res=statement.comment.replace(new RegExp("^[\\s]+|[\\s]+$","g"),""),test=JSON.parse(res),res}catch(e){return JSON.stringify({description:res})}}return"{}"}function composeParts(parts){if(!parts)return[];var res=[parts[0
]],cur=parts[0],i;for(i=1;i<parts.length;++i)parts.hasOwnProperty(i)&&(cur+="."+parts[i],res.push(cur));return res}function recursiveVarSearch(statements,res,prefix,helpersres){prefix=prefix?prefix+".":"";var newprefix="",flag=!1;return _(statements).forEach(function(statement){var parts,part,sideways;if(statement&&statement.type&&statement.type==="mustache"){if(!statement.params||!statement.params.length){parts=composeParts(statement.id.parts);for(part in parts)parts[part]&&(newprefix=parts[part]||newprefix,res.push(prefix+parts[part]));res.push(prefix+statement.id.string)}var paramsWithoutParts=["this",".","..","./..","../..","../../.."];statement.params&&typeof Handlebars.helpers[statement.id.string]=="undefined"&&_(statement.params).forEach(function(param){(_(paramsWithoutParts).contains(param.original)||param instanceof Handlebars.AST.StringNode||param instanceof Handlebars.AST.IntegerNode||param instanceof Handlebars.AST.BooleanNode)&&helpersres.push(statement.id.string),parts=composeParts
(param.parts);for(var part in parts)parts[part]&&(newprefix=parts[part]||newprefix,helpersres.push(statement.id.string),res.push(prefix+parts[part]))})}statement&&statement.mustache&&recursiveVarSearch([statement.mustache],res,prefix+newprefix,helpersres),statement&&statement.program&&statement.program.statements&&(sideways=recursiveVarSearch([statement.mustache],[],"",helpersres)[0]||"",statement.program.inverse&&statement.program.inverse.statements&&recursiveVarSearch(statement.program.inverse.statements,res,prefix+newprefix+(sideways?prefix+newprefix?"."+sideways:sideways:""),helpersres),recursiveVarSearch(statement.program.statements,res,prefix+newprefix+(sideways?prefix+newprefix?"."+sideways:sideways:""),helpersres))}),res}function getExternalDeps(nodes){var res=[],helpersres=[];nodes&&nodes.statements&&(res=recursiveVarSearch(nodes.statements,[],undefined,helpersres));var defaultHelpers=["helperMissing","blockHelperMissing","each","if","unless","with"];return{vars:_(res).chain().
unique().map(function(e){return e===""?".":e.length&&e[e.length-1]==="."?e.substr(0,e.length-1)+"[]":e}).value(),helpers:_(helpersres).chain().unique().map(function(e){return _(defaultHelpers).contains(e)?undefined:e}).compact().value()}}function cleanPath(path){var tokens=path.split("/");for(var i=0;i<tokens.length;i++)tokens[i]==".."&&(delete tokens[i-1],delete tokens[i]);return tokens.join("/").replace(/\/\/+/g,"/")}function fetchAndRegister(langMap){fetchText(path,function(text,path){var readCallback=config.isBuild&&config[onHbsReadMethod]?config[onHbsReadMethod]:function(name,path,text){return text},nodes=Handlebars.parse(readCallback(name,path,text)),partials=findPartialDeps(nodes),meta=getMetaData(nodes),extDeps=getExternalDeps(nodes),vars=extDeps.vars,helps=extDeps.helpers||[],debugOutputStart="",debugOutputEnd="",debugProperties="",deps=[],depStr,helpDepStr,metaObj,head,linkElem,baseDir=name.substr(0,name.lastIndexOf("/")+1);require.config.hbs=require.config.hbs||{},require.config
.hbs._partials=require.config.hbs._partials||{};if(meta!=="{}")try{metaObj=JSON.parse(meta)}catch(e){}for(var i in partials)if(partials.hasOwnProperty(i)&&typeof partials[i]=="string"){var partialReference=partials[i],path;partialReference.match(/^(\.|\/)+/)?path=cleanPath(baseDir+partialReference):path=cleanPath(partialsUrl+partialReference),require.config.hbs._partials[path]=require.config.hbs._partials[path]||[],require.config.hbs._partials[path].references=require.config.hbs._partials[path].references||[],require.config.hbs._partials[path].references.push(partialReference),require.config.hbs._loadedDeps=require.config.hbs._loadedDeps||{},deps[i]="hbs!"+path}depStr=deps.join("', '"),helps=helps.concat(metaObj&&metaObj.helpers?metaObj.helpers:[]),helpDepStr=disableHelpers?"":function(){var i,paths=[],pathGetter=config.hbs&&config.hbs.helperPathCallback?config.hbs.helperPathCallback:function(name){return(config.hbs&&config.hbs.helperDirectory?config.hbs.helperDirectory:helperDirectory)+
name};for(i=0;i<helps.length;i++)paths[i]="'"+pathGetter(helps[i],path)+"'";return paths}().join(","),helpDepStr&&(helpDepStr=","+helpDepStr);if(metaObj)try{metaObj.styles&&(styleList=_.union(styleList,metaObj.styles),require.isBrowser&&!config.isBuild?(head=document.head||document.getElementsByTagName("head")[0],_(metaObj.styles).forEach(function(style){styleMap[style]||(linkElem=document.createElement("link"),linkElem.href=config.baseUrl+devStyleDirectory+style+".css",linkElem.media="all",linkElem.rel="stylesheet",linkElem.type="text/css",head.appendChild(linkElem),styleMap[style]=linkElem)})):config.isBuild&&function(){var fs=require.nodeRequire("fs"),str=_(metaObj.styles).map(function(style){return styleMap[style]?"":(styleMap[style]=true,"@import url("+style+".css);\n")}).join("\n");fs.open(__dirname+buildStyleDirectory+buildCSSFileName,filecode,"0666",function(e,id){fs.writeSync(id,str,null,encoding="utf8"),fs.close(id)}),filecode="a"}())}catch(e){}!config.isBuild&&!config.serverRender&&
(debugOutputStart="<!-- START - "+name+" -->",debugOutputEnd="<!-- END - "+name+" -->",debugProperties="t.meta = "+meta+";\n"+"t.helpers = "+JSON.stringify(helps)+";\n"+"t.deps = "+JSON.stringify(deps)+";\n"+"t.vars = "+JSON.stringify(vars)+";\n");var mapping=disableI18n?!1:_.extend(langMap,config.localeMapping),configHbs=config.hbs||{},options=_.extend(configHbs.compileOptions||{},{originalKeyFallback:configHbs.originalKeyFallback}),prec=precompile(text,mapping,options),tmplName=config.isBuild?"":"'"+name+"',";depStr&&(depStr=", '"+depStr+"'");var partialReferences=[];require.config.hbs._partials[name]&&(partialReferences=require.config.hbs._partials[name].references),text="/* START_TEMPLATE */\ndefine("+tmplName+"['hbs','hbs/handlebars'"+depStr+helpDepStr+"], function( hbs, Handlebars ){ \n"+"var t = Handlebars.template("+prec+");\n"+"Handlebars.registerPartial('"+name+"', t);\n";for(var i=0;i<partialReferences.length;i++)text+="Handlebars.registerPartial('"+partialReferences[i]+"', t);\n"
;text+=debugProperties+"return t;\n"+"});\n"+"/* END_TEMPLATE */\n",config.isBuild&&(buildMap[compiledName]=text),config.isBuild||(text+="\r\n//@ sourceURL="+path),config.isBuild?(load.fromText(name,text),parentRequire([name],function(value){load(value)})):require(deps,function(){load.fromText(text),parentRequire([name],function(value){load(value)})}),config.removeCombined&&path&&fs.unlinkSync(path)})}var path,omitExtension=config.hbs&&config.hbs.templateExtension===!1;omitExtension?path=parentRequire.toUrl(name):path=parentRequire.toUrl(name+"."+(config.hbs&&config.hbs.templateExtension?config.hbs.templateExtension:templateExtension));if(disableI18n)fetchAndRegister(!1);else{var langMapPath=(config.hbs&&config.hbs.i18nDirectory?config.hbs.i18nDirectory:i18nDirectory)+(config.locale||"en_us")+".json";try{fetchOrGetCached(parentRequire.toUrl(langMapPath),function(langMap){fetchAndRegister(JSON.parse(langMap))})}catch(er){if(!!config.hbs)throw er;console.warn("hbs: Error reading "+langMapPath+", disabling i18n. Ignore this if you're using jam, otherwise check your i18n configuration.\n"
),config.hbs={i18n:!1,helpers:true},fetchAndRegister(!1)}}}}}),define("templates/helpers/ifCond",["hbs/handlebars"],function(Handlebars){function ifCond(v1,v2,options){return v1===v2?options.fn(this):options.inverse(this)}return Handlebars.registerHelper("ifCond",ifCond),ifCond}),define("hbs!templates/cheats-template",["hbs","hbs/handlebars","templates/helpers/ifCond"],function(hbs,Handlebars){var t=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers);var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){return"\n  "}function program3(depth0,data){var buffer="",stack1,helper;buffer+='\n    <div class="content-block inset">\n      ',stack1=helpers["if"].call(depth0,depth0&&depth0.isBase,{hash:{},inverse:self.program(6,program6,data),fn:self.program(4,program4,data)});if(stack1||
stack1===0)buffer+=stack1;buffer+='\n    </div>\n\n    <div class="content-block inset">\n      ',stack1=helpers["if"].call(depth0,depth0&&depth0.numTrains,{hash:{},inverse:self.noop,fn:self.program(9,program9,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n\n      ",stack1=helpers["if"].call(depth0,depth0&&depth0.minPlayer,{hash:{},inverse:self.noop,fn:self.program(11,program11,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n\n      ",stack1=helpers["if"].call(depth0,depth0&&depth0.gameEnd,{hash:{},inverse:self.noop,fn:self.program(13,program13,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n\n      ",stack1=helpers["if"].call(depth0,depth0&&depth0.doubleActive,{hash:{},inverse:self.noop,fn:self.program(15,program15,data)});if(stack1||stack1===0)buffer+=stack1;buffer+='\n    </div>\n\n    <div class="content-block inset">\n      <h2>Destination Tickets (Pull / Keep)</h2>\n      <ul>\n        <li>Starting: ',(helper=helpers.startDestTicks)?stack1=helper.call(depth0
,{hash:{}}):(helper=depth0&&depth0.startDestTicks,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" / ",(helper=helpers.startDestTicksKeep)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.startDestTicksKeep,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+"</li>\n        <li>In-Game: ",(helper=helpers.pullDestTicks)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.pullDestTicks,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" / ",(helper=helpers.pullDestTicksKeep)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.pullDestTicksKeep,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'</li>\n      </ul>\n    </div>\n\n    <div class="content-block inset">\n      <h2>Train Tickets</h2>\n      <ul>\n        <li>Dealt: ',(helper=helpers
.trainTicks)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.trainTicks,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+"</li>\n        <li>Face-Up: 5</li>\n      </ul>\n    </div>\n\n    ",stack1=helpers["if"].call(depth0,depth0&&depth0.routesAvail,{hash:{},inverse:self.noop,fn:self.program(17,program17,data)});if(stack1||stack1===0)buffer+=stack1;buffer+="\n\n    ",stack1=helpers["if"].call(depth0,depth0&&depth0.bonus,{hash:{},inverse:self.noop,fn:self.program(20,program20,data)});if(stack1||stack1===0)buffer+=stack1;return buffer+="\n\n  ",buffer}function program4(depth0,data){return"\n      <h2>TTR Base Game</h2>\n      "}function program6(depth0,data){var buffer="",stack1;buffer+="\n        <h2>TTR Expansion</h2>\n        ",stack1=helpers["if"].call(depth0,depth0&&depth0.mapCollection,{hash:{},inverse:self.noop,fn:self.program(7,program7,data)});if(stack1||stack1===0)buffer+=stack1;return buffer+="\n      ",buffer
}function program7(depth0,data){var buffer="",stack1,helper;return buffer+="\n          <ul>\n            <li>Map Collection: #",(helper=helpers.mapCollection)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.mapCollection,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+"</li>\n          </ul>\n        ",buffer}function program9(depth0,data){var buffer="",stack1,helper;return buffer+="\n      <h2># of Trains: ",(helper=helpers.numTrains)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.numTrains,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+"</h2>\n      ",buffer}function program11(depth0,data){var buffer="",stack1,helper;return buffer+="\n      <h2># of Players: ",(helper=helpers.minPlayer)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.minPlayer,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression
(stack1)+" - ",(helper=helpers.maxPlayer)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.maxPlayer,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+"</h2>\n      ",buffer}function program13(depth0,data){var buffer="",stack1,helper;return buffer+="\n      <h2>Final Turn: &lt;= ",(helper=helpers.gameEnd)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.gameEnd,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" trains</h2>\n      ",buffer}function program15(depth0,data){var buffer="",stack1,helper;return buffer+="\n      <h2>Double Routes: &gt;= ",(helper=helpers.doubleActive)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.doubleActive,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" players</h2>\n      ",buffer}function program17(depth0,data){var buffer="",stack1;buffer+='\n    <div class="content-block inset">\n      <h1>Route Lengths Available</h1>\n      <span>|\n        '
,stack1=helpers.each.call(depth0,depth0&&depth0.routesAvail,{hash:{},inverse:self.noop,fn:self.program(18,program18,data)});if(stack1||stack1===0)buffer+=stack1;return buffer+="\n      </span>\n    </div>\n    ",buffer}function program18(depth0,data){var buffer="";return buffer+=escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+" | ",buffer}function program20(depth0,data){var buffer="",stack1;buffer+='\n    <div class="content-block inset">\n      <h1>End-Game Bonuses</h1>\n      <ul>\n        ',stack1=helpers.each.call(depth0,depth0&&depth0.bonus,{hash:{},inverse:self.noop,fn:self.program(21,program21,data)});if(stack1||stack1===0)buffer+=stack1;return buffer+="\n      </ul>\n    </div>\n    ",buffer}function program21(depth0,data){var buffer="";return buffer+="\n        <li>"+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+"</li>\n        ",buffer}function program23(depth0,data){var buffer="",stack1;buffer+='\n  <div class="content-block inset">\n    <h1>Notes</h1>\n    <ul>\n      '
,stack1=helpers.each.call(depth0,depth0&&depth0.notes,{hash:{},inverse:self.noop,fn:self.program(24,program24,data)});if(stack1||stack1===0)buffer+=stack1;return buffer+="\n    </ul>\n  </div>\n  ",buffer}function program24(depth0,data){var buffer="";return buffer+="\n      <li>"+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+"</li>\n      ",buffer}buffer+='<a href="#" class="item-link item-content">\n  <div class="item-inner">\n    <div class="item-title">',(helper=helpers.version)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.version,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'</div>\n  </div>\n</a>\n\n<div class="accordion-item-content">\n\n\n  ',stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data)},helper?helper.call(depth0,depth0&&depth0.version,"Custom",options):helperMissing.call(depth0,"ifCond"
,depth0&&depth0.version,"Custom",options));if(stack1||stack1===0)buffer+=stack1;buffer+="\n\n  ",stack1=helpers["if"].call(depth0,depth0&&depth0.notes,{hash:{},inverse:self.noop,fn:self.program(23,program23,data)});if(stack1||stack1===0)buffer+=stack1;return buffer+="\n\n</div>\n",buffer});return Handlebars.registerPartial("templates/cheats-template",t),t}),define("views/CheatView",["Backbone","Marionette","models/Version","hbs!templates/cheats-template"],function(Backbone,Marionette,Version,template){return CheatView=Marionette.ItemView.extend({tagName:"li",className:"accordion-item",model:Version,render:function(){var self=this;return $(this.el).html(template(this.model.toJSON())),this}}),CheatView}),define("views/CheatCollectionView",["Backbone","Marionette","views/CheatView"],function(Backbone,Marionette,CheatView){return CheatCollectionView=Backbone.Marionette.CollectionView.extend({childView:CheatView,tagName:"ul",className:"cheats-list",initialize:function(){this.listenTo(this.collection
,"update",this.render)},getChildView:function(item){var temp=new CheatView;return temp},buildChildView:function(child,ChildViewClass,childViewOptions){var options=_.extend({model:child},childViewOptions),view=new CheatView(options);return view}}),CheatCollectionView}),function(root,factory){typeof exports=="object"&&typeof require=="function"?module.exports=factory(require("Backbone")):typeof define=="function"&&define.amd?define("backbone.localstorage",["Backbone"],function(Backbone){return factory(Backbone||root.Backbone)}):factory(Backbone)}(this,function(Backbone){function S4(){return((1+Math.random())*65536|0).toString(16).substring(1)}function guid(){return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()}function isObject(item){return item===Object(item)}function contains(array,item){var i=array.length;while(i--)if(array[i]===item)return true;return!1}function extend(obj,props){for(var key in props)obj[key]=props[key];return obj}return Backbone.LocalStorage=window.Store=function(
name,serializer){if(!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";this.name=name,this.serializer=serializer||{serialize:function(item){return isObject(item)?JSON.stringify(item):item},deserialize:function(data){return data&&JSON.parse(data)}};var store=this.localStorage().getItem(this.name);this.records=store&&store.split(",")||[]},extend(Backbone.LocalStorage.prototype,{save:function(){this.localStorage().setItem(this.name,this.records.join(","))},create:function(model){return model.id||(model.id=guid(),model.set(model.idAttribute,model.id)),this.localStorage().setItem(this._itemName(model.id),this.serializer.serialize(model)),this.records.push(model.id.toString()),this.save(),this.find(model)!==!1},update:function(model){this.localStorage().setItem(this._itemName(model.id),this.serializer.serialize(model));var modelId=model.id.toString();return contains(this.records,modelId)||(this.records.push(modelId),this.save()),this.find(model)!==!1},
find:function(model){return this.serializer.deserialize(this.localStorage().getItem(this._itemName(model.id)))},findAll:function(){var result=[];for(var i=0,id,data;i<this.records.length;i++)id=this.records[i],data=this.serializer.deserialize(this.localStorage().getItem(this._itemName(id))),data!=null&&result.push(data);return result},destroy:function(model){this.localStorage().removeItem(this._itemName(model.id));var modelId=model.id.toString();for(var i=0,id;i<this.records.length;i++)this.records[i]===modelId&&this.records.splice(i,1);return this.save(),model},localStorage:function(){return localStorage},_clear:function(){var local=this.localStorage(),itemRe=new RegExp("^"+this.name+"-");local.removeItem(this.name);for(var k in local)itemRe.test(k)&&local.removeItem(k);this.records.length=0},_storageSize:function(){return this.localStorage().length},_itemName:function(id){return this.name+"-"+id}}),Backbone.LocalStorage.sync=window.Store.sync=Backbone.localSync=function(method,model,options
){var store=model.localStorage||model.collection.localStorage,resp,errorMessage,syncDfd=Backbone.$?Backbone.$.Deferred&&Backbone.$.Deferred():Backbone.Deferred&&Backbone.Deferred();try{switch(method){case"read":resp=model.id!=undefined?store.find(model):store.findAll();break;case"create":resp=store.create(model);break;case"update":resp=store.update(model);break;case"delete":resp=store.destroy(model)}}catch(error){error.code===22&&store._storageSize()===0?errorMessage="Private browsing is unsupported":errorMessage=error.message}return resp?(options&&options.success&&(Backbone.VERSION==="0.9.10"?options.success(model,resp,options):options.success(resp)),syncDfd&&syncDfd.resolve(resp)):(errorMessage=errorMessage?errorMessage:"Record Not Found",options&&options.error&&(Backbone.VERSION==="0.9.10"?options.error(model,errorMessage,options):options.error(errorMessage)),syncDfd&&syncDfd.reject(errorMessage)),options&&options.complete&&options.complete(resp),syncDfd&&syncDfd.promise()},Backbone.
ajaxSync=Backbone.sync,Backbone.getSyncMethod=function(model){return model.localStorage||model.collection&&model.collection.localStorage?Backbone.localSync:Backbone.ajaxSync},Backbone.sync=function(method,model,options){return Backbone.getSyncMethod(model).apply(this,[method,model,options])},Backbone.LocalStorage}),define("models/VersionCollection",["Backbone","models/Version","backbone.localstorage"],function(Backbone,Version){return VersionCollection=Backbone.Collection.extend({model:Version,localStorage:new Backbone.LocalStorage("ttrVersions"),initialize:function(){this.on("fetch",function(){}),this.on("add",function(version){version.get("currentVersion")===true&&(ttrApp.currentVersion=version)})}}),VersionCollection}),define("hbs!templates/version-template",["hbs","hbs/handlebars"],function(hbs,Handlebars){var t=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers);var buffer="",stack1,helper
,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1,helper;return buffer+='\n    <input type="radio" name="ks-radio" value="',(helper=helpers.version)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.version,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'" checked="checked" />\n  ',buffer}function program3(depth0,data){var buffer="",stack1,helper;return buffer+='\n    <input type="radio" name="ks-radio" value="',(helper=helpers.version)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.version,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'" />\n  ',buffer}buffer+='<label class="label-radio item-content">\n  ',stack1=helpers["if"].call(depth0,depth0&&depth0.currentVersion,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data)});if(stack1||stack1===0
)buffer+=stack1;return buffer+='\n  <div class="item-inner ttr-version">\n    <div class="item-title">',(helper=helpers.version)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.version,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+"</div>\n  </div>\n</label>\n",buffer});return Handlebars.registerPartial("templates/version-template",t),t}),define("models/Route",["Backbone"],function(Backbone){return Route=Backbone.Model.extend({}),Route}),define("models/RouteCollection",["Backbone","models/Route","backbone.localstorage"],function(Backbone,Route){return RouteCollection=Backbone.Collection.extend({model:Route,comparator:function(route){return route.get("rt")},clearAll:function(){ttrApp.routesView.destroy(),_.invoke($(this.models).toArray(),"destroy")}}),RouteCollection}),define("hbs!templates/route-template",["hbs","hbs/handlebars"],function(hbs,Handlebars){var t=Handlebars.template(function(Handlebars,depth0,helpers,
partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers);var buffer="",stack1,helper,functionType="function",escapeExpression=this.escapeExpression;return(helper=helpers.rt)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.rt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" - ",(helper=helpers.pt)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.pt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" <span></span>\n",buffer});return Handlebars.registerPartial("templates/route-template",t),t}),define("views/RouteView",["Backbone","Marionette","models/Route","hbs!templates/route-template"],function(Backbone,Marionette,Route,template){return RouteView=Marionette.ItemView.extend({tagName:"li",className:"ttr-route nopull",attributes:function(){if(this.model&&this.model.attributes)return{"data-pt":this.model.get("pt"),"data-rt"
:this.model.get("rt")}},model:Route,events:{click:"routeToggle"},routeToggle:function(e){var $self=$(e.target);$self.hasClass("nopull")?$self.removeClass("nopull").addClass("green"):$self.hasClass("green")?$self.removeClass("green").addClass("red"):$self.removeClass("red").addClass("nopull")},render:function(){var self=this;return $(this.el).html(template(this.model.toJSON())),self.model.get("complete")===true?$(this.el).removeClass("nopull").addClass("green"):self.model.get("complete")===!1&&$(this.el).removeClass("nopull").addClass("red"),this}}),RouteView}),define("views/RouteCollectionView",["Backbone","Marionette","views/RouteView"],function(Backbone,Marionette,RouteView){return RouteCollectionView=Backbone.Marionette.CollectionView.extend({childView:RouteView,tagName:"ul",className:"ttr-routes",initialize:function(){},getChildView:function(item){var temp=new RouteView;return temp},buildChildView:function(child,ChildViewClass,childViewOptions){var options=_.extend({model:child},childViewOptions
),view=new RouteView(options);return view}}),RouteCollectionView}),define("views/VersionView",["Backbone","Marionette","models/Version","hbs!templates/version-template","models/RouteCollection","views/RouteCollectionView"],function(Backbone,Marionette,Version,template,RouteCollection,RouteCollectionView){return VersionView=Marionette.ItemView.extend({tagName:"li",model:Version,events:{"click .ttr-version":"radioToggle"},radioToggle:function(e){_.map(ttrApp.versionsCollection.models,function(vers){vers.save({currentVersion:!1})}),this.model.save({currentVersion:true}),ttrApp.currentVersion=this.model,ttrApp.scoresCollection.clearAllNoRender(),location.reload()},render:function(){var self=this;return $(this.el).html(template(this.model.toJSON())),this}}),VersionView}),define("views/VersionCollectionView",["Backbone","Marionette","views/VersionView"],function(Backbone,Marionette,VersionView){return VersionCollectionView=Backbone.Marionette.CollectionView.extend({childView:VersionView,tagName
:"ul",className:"settings-ttr-version",initialize:function(){this.listenTo(this.collection,"update",this.render)},getChildView:function(item){var temp=new VersionView;return temp},buildChildView:function(child,ChildViewClass,childViewOptions){var options=_.extend({model:child},childViewOptions),view=new VersionView(options);return view}}),VersionCollectionView}),define("models/Score",["Backbone"],function(Backbone){return Score=Backbone.Model.extend({defaults:{score:0,trains:0}}),Score}),define("models/ScoreCollection",["Backbone","models/Score","backbone.localstorage"],function(Backbone,Score){return ScoreCollection=Backbone.Collection.extend({localStorage:new Backbone.LocalStorage("ttrScores"),model:Score,initialize:function(){this.on("add",function(){}),this.on("reset",function(){ttrApp.playersView.remove(),ttrApp.playersView.render()})},clearAll:function(){_.invoke($(this.models).toArray(),"destroy"),ttrApp.playersView.$el.empty(),ttrApp.playersView.delegateEvents(),$("#player-list"
).append(ttrApp.playersView.render().el)},clearAllNoRender:function(){console.log("ScoreCollection - clearAllNoRender"),_.invoke($(this.models).toArray(),"destroy")},removePlayerScores:function(id){var toRemove=_.filter(this.models,function(score){return score.get("playerID")===id});_.invoke($(toRemove).toArray(),"destroy")},renameScores:function(id,name){_.each(this.models,function(score){score.get("playerID")===id&&score.set({player:name},{silent:true}).save()})}}),ScoreCollection}),define("models/Player",["Backbone","models/ScoreCollection"],function(Backbone,ScoreCollection){return Player=Backbone.Model.extend({defaults:{name:"Player",score:0,order:0,color:"grey"},addScore:function(score){this.scores.add(score).save()}}),Player}),define("models/PlayerCollection",["Backbone","models/Player","backbone.localstorage"],function(Backbone,Player){return PlayerCollection=Backbone.Collection.extend({localStorage:new Backbone.LocalStorage("ttrPlayers"),model:Player,comparator:function(player)
{return player.get("order")},initialize:function(){this.on("add",function(player){var self=this;if(player.get("order")===0){var withOrder=_.filter(self.models,function(plyr){return plyr.get("order")!==0});player.set({order:withOrder.length+1})}self.sort({silent:true})})},clearAll:function(){console.log("Collection - Clearing all players"),_.invoke($(this.models).toArray(),"destroy"),ttrApp.playersView.$el.empty(),ttrApp.playersView.delegateEvents(),$("#player-list").append(ttrApp.playersView.render().el)},reSort:function(){var self=this,ind=1,sorted=_.sortBy(self.models,function(player){return player.get("order")});_.each(self.models,function(player){player.set({order:ind}).save(),ind++})}}),PlayerCollection}),define("templates/helpers/capitalize",["hbs/handlebars"],function(Handlebars){function capitalize(str){if(str)return str.charAt(0).toUpperCase()+str.substring(1).toLowerCase()}return Handlebars.registerHelper("capitalize",capitalize),capitalize}),define("templates/helpers/exists",
["hbs/handlebars"],function(Handlebars){function exists(v,options){return ttrApp.currentVersion.get("numTrains")?options.fn(this):options.inverse(this)}return Handlebars.registerHelper("exists",exists),exists}),define("hbs!templates/player-template",["hbs","hbs/handlebars","templates/helpers/capitalize","templates/helpers/exists"],function(hbs,Handlebars){var t=Handlebars.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers);var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper;return buffer+="\n            ",(helper=helpers.trainsLeft)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.trainsLeft,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+" trains left\n          ",buffer}function program3
(depth0,data){return'\n            <span class="disabled">Train tracking disabled</span>\n          '}buffer+='<div data-color="',(helper=helpers.color)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.color,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'" class="label-checkbox item-content player-data" data-name="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'">\n  <div style="width: 100%;">\n    <div class="player-space">\n      <div class="name-space" data-id="',(helper=helpers.id)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.id,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'">'+escapeExpression((helper=helpers.capitalize||depth0&&depth0.capitalize,options={hash:{}},helper?helper.call(depth0,depth0&&
depth0.name,options):helperMissing.call(depth0,"capitalize",depth0&&depth0.name,options)))+'</div>\n      <div class="score-space">',(helper=helpers.score)?stack1=helper.call(depth0,{hash:{}}):(helper=depth0&&depth0.score,stack1=typeof helper===functionType?helper.call(depth0,{hash:{}}):helper),buffer+=escapeExpression(stack1)+'</div>\n        <div class="trains-space">\n          ',stack1=(helper=helpers.exists||depth0&&depth0.exists,options={hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data)},helper?helper.call(depth0,depth0&&depth0.trainsLeft,options):helperMissing.call(depth0,"exists",depth0&&depth0.trainsLeft,options));if(stack1||stack1===0)buffer+=stack1;return buffer+="\n        </div>\n    </div>\n  </div>\n</div>\n",buffer});return Handlebars.registerPartial("templates/player-template",t),t}),define("views/PlayerView",["Backbone","Marionette","models/Player","hbs!templates/player-template"],function(Backbone,Marionette,Player,template){return PlayerView=
Backbone.Marionette.ItemView.extend({tagName:"li",className:"",model:Player,events:{"click .player-data":"toggleActions"},initialize:function(){this.model.attributes},toggleActions:function(){var self=this,ar=self.buildAddPointsMenu();ttrTracker.actions([ar,[{text:"More Options...",onClick:function(){self.displayMoreMenu()}}],[{text:"Cancel",color:"red"}]])},deletePlayer:function(){$("div[data-name*="+this.model.get("id")+"]").closest("li.swipeout").remove(),ttrApp.scoresCollection.removePlayerScores(this.model.get("id")),this.model&&this.model.destroy({silent:true}),ttrApp.playersCollection.reSort()},removePlayer:function(){ttrApp.scoresCollection.removePlayerScores(this.model.get("id")),this.model&&this.model.destroy(),ttrApp.playersCollection.reSort()},editPlayerName:function(){var oldName=this.model.get("name"),self=this;ttrTracker.prompt("Please enter a name.",function(data){var name=data.replace(/[^\w]/ig,"");if(data===undefined||data===""){var num=ttrApp.playersCollection.length,
newName="Player "+num,tempPlayerNames=_.filter(ttrApp.playersCollection.models,function(p){return p.get("name")==newName});tempPlayerNames.length>0&&(newName+="X"),name=newName}ttrApp.scoresCollection.renameScores(self.model.get("id"),name),self.model.set({name:name},{silent:true}).save(),$(self.$el).find(".name-space").text(name),ttrTracker.modal({title:"Loading...",afterText:'<img src="css/img/loading-spinning-bubbles.svg" alt="Loading icon" />'}),setTimeout(function(){ttrTracker.closeModal()},1500)})},editPlayerColor:function(){var self=this;ttrTracker.modal({title:ttrTracker.params.modalTitle,text:"Please select a color for "+self.model.get("name"),afterText:'<div class="color-buttons"><a href="" class="button color-button" data-color="red">Red</a><a href="" class="button color-button" data-color="orange">Orange</a><a href="" class="button color-button" data-color="yellow">Yellow</a><a href="" class="button color-button" data-color="green">Green</a><a href="" class="button color-button" data-color="blue">Blue</a><a href="" class="button color-button" data-color="purple">Purple</a><a href="" class="button color-button" data-color="pink">Pink</a><a href="" class="button color-button" data-color="black">Black</a><a href="" class="button color-button" data-color="white">White</a></div>'
,buttons:[{text:"Cancel",color:"red",onClick:function(){},close:true}],onClick:function(){}}),$("a.color-button").one("click",function(f){self.model.set("color",$(this).data("color")),self.model.save(),$(self.$el).children(".player-data").attr("data-color",$(this).data("color")),ttrTracker.closeModal()})},buildAddPointsMenu:function(){var self=this,vers=ttrApp.versionsCollection.find(function(model){return model.get("currentVersion")===true});if(vers!==undefined){var ar=[{text:"Add points for "+_(self.model.get("name")).capitalize(),label:true}];return _.each(vers.get("routesAvail"),function(route){pts=self.mapTrainPoints(route),ar.push({text:route+" trains (+"+pts.score+")",onClick:function(){var pt=self.mapTrainPoints(route);self.applyPoints(pt)}}),pts=undefined}),ar}return[]},displayMoreMenu:function(){var self=this,name=self.model.get("name");name=name.charAt(0).toUpperCase()+name.substring(1);var t=$(".swipeout-opened");if(t.length>0)return!1;ttrTracker.actions([[{text:"Settings for "+
name,label:true},{text:"Edit Name",onClick:function(){self.editPlayerName()}},{text:"Change Color",onClick:function(){self.editPlayerColor()}},{text:"Remove Player",onClick:function(){self.removePlayer()}}],[{text:"Actions for "+name,label:true},{text:"Add Custom Points",onClick:function(){ttrTracker.prompt("Enter custom point value to add",function(value){value=value||0;if(!isNaN(value)){var score={score:parseInt(value,10),trains:0,date:Date.now(),player:self.model.get("name"),playerID:self.model.get("id")};self.applyPoints(score)}},null,"number")}},{text:"Subtract Points",onClick:function(){self.displayRemovePointsMenu()}},{text:"Review Points",onClick:function(){self.reviewPointsByName()}},{text:"Score Routes & Bonuses",onClick:function(){ttrApp.currentVersion.get("version")==="Custom"?ttrTracker.alert('Routes and bonuses are unavailable for the "Custom" game type. Please select a different version and try again.',"Routes & Bonuses"):self.scoreRoutesBonuses()}},{text:"* Fast Scoring *"
,onClick:function(){self.quickPoints()},bold:true}],[{text:"Go Back",onClick:function(){self.toggleActions()},color:"red"}]])},displayRemovePointsMenu:function(){var self=this,vers=ttrApp.versionsCollection.find(function(model){return model.get("currentVersion")===true});if(vers!==undefined){var ar=[{text:"Remove points for "+_(self.model.get("name")).capitalize(),label:true}];_.each(vers.get("routesAvail"),function(route){var pts=self.mapTrainPoints(route);ar.push({text:"-"+route+" trains (-"+pts.score+")",onClick:function(){var pt=self.mapTrainPoints(route);pt.trains*=-1,pt.score*=-1,self.applyPoints(pt)}})}),ar.push({text:"Remove Custom Points",onClick:function(){ttrTracker.prompt("Enter custom point value to remove",function(value){value=value||0;if(!isNaN(value)){var score={score:parseInt(value,10)*-1,trains:0,date:Date.now(),player:self.model.get("name"),playerID:self.model.get("id")};self.applyPoints(score)}},null,"number")}}),ttrTracker.actions([ar,[{text:"Go Back",onClick:function(
){self.displayMoreMenu()},color:"red"}]])}},applyPoints:function(score){var scr=new Score({trains:score.trains,score:score.score,date:score.date,player:score.player,playerID:score.playerID});ttrApp.scoresCollection.create(scr),this.render()},mapTrainPoints:function(numTrains){switch(numTrains){case 1:return{trains:1,score:1,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 2:return{trains:2,score:2,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 3:return{trains:3,score:4,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 4:return{trains:4,score:7,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 5:return{trains:5,score:10,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 6:return{trains:6,score:15,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 7:return{trains:7,score:18,date:Date.now(),player:this
.model.get("name"),playerID:this.model.get("id")};case 8:return{trains:8,score:21,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")};case 9:return{trains:9,score:27,date:Date.now(),player:this.model.get("name"),playerID:this.model.get("id")}}},reviewPointsByName:function(){var self=this,temp="",index=1;_.each(ttrApp.scoresCollection.models,function(score){if(score.get("playerID")===self.model.get("id")){var val=score.get("score")>0?"+"+score.get("score"):score.get("score"),scoreLabel=Math.abs(score.get("score"))===1?"point":"points",trainLabel=Math.abs(score.get("trains"))===1?"train":"trains",tempRouteClass;score.get("complete")===true?tempRouteClass="rtComplete":score.get("complete")===!1?tempRouteClass="rtIncomplete":tempRouteClass="";var trainPiece=score.get("route")!==undefined?'<span class="nobr '+tempRouteClass+'">('+score.get("route")+")</span>":"("+score.get("trains")+" "+trainLabel+")<br />";temp+="<b>#"+index++ +"</b>: "+val+" "+scoreLabel+" "+trainPiece
}}),temp===""&&(temp="No score history available."),ttrTracker.alert(temp,"Score History for "+self.model.get("name"))},scoreRoutesBonuses:function(){var self=this,a=_.union(ttrApp.currentVersion.get("routes"),ttrApp.currentVersion.get("bonuses")),rts=new RouteCollection(a),exst=_.filter(ttrApp.scoresCollection.models,function(score){return score.get("playerID")===self.model.get("id")&&score.get("route")!==undefined});rts.each(function(rt){var temp=_.filter(exst,function(el){return el.get("route")==rt.get("rt")});temp[0]&&rt.set({complete:temp[0].get("complete")})}),ttrApp.routesView=new RouteCollectionView({collection:rts}),ttrApp.routesView.render(),$("#routes").html(ttrApp.routesView.el),$("#close-routes").one("click",function(){self.tallyRoutes(),ttrApp.routesView.remove()}),ttrTracker.popup(".popup-routes")},tallyRoutes:function(){var self=this,old=_.filter(ttrApp.scoresCollection.models,function(score){return score.get("playerID")===self.model.get("id")&&score.get("route")!==undefined
});_.invoke(old,"destroy");var grn=0;$(".green").each(function(){grn+=$(this).data("pt");var score=new Score({score:parseInt($(this).data("pt"),10),trains:0,date:Date.now(),player:self.model.get("name"),playerID:self.model.get("id"),route:$(this).data("rt"),complete:true});ttrApp.scoresCollection.create(score)});var red=0;$(".red").each(function(){red+=$(this).data("pt");var score=new Score({score:parseInt($(this).data("pt"),10)*-1,trains:0,date:Date.now(),player:self.model.get("name"),playerID:self.model.get("id"),route:$(this).data("rt"),complete:!1});ttrApp.scoresCollection.create(score)}),red+grn!==0&&self.render()},quickPoints:function(){var self=this;ttrApp.currentVersion.get("version")==="Heart of Africa"?ttrTracker.alert("Fast Scoring is not available for the Africa expansion. <br /><br />Please score your routes as they are completed."):(ttrTracker.modal({title:ttrTracker.params.modalTitle,text:"Please select route values for "+self.model.get("name")+': <span id="quick-amt"></span>'
,afterText:'<div class="quick-buttons"><a href="" class="button quick-button" data-train="1" data-score="1" >1 train</a><a href="" class="button quick-button" data-train="2" data-score="2" >2 trains</a><a href="" class="button quick-button" data-train="3" data-score="4" >3 trains</a><a href="" class="button quick-button" data-train="4" data-score="7" >4 trains</a><a href="" class="button quick-button" data-train="5" data-score="10">5 trains</a><a href="" class="button quick-button" data-train="6" data-score="15">6 trains</a><a href="" class="button quick-button" data-train="7" data-score="18">7 trains</a><a href="" class="button quick-button" data-train="8" data-score="21">8 trains</a><a href="" class="button quick-button" data-train="9" data-score="27">9 trains</a><a href="" class="button undo-button">Undo</a></div>',buttons:[{text:"Close",color:"red",onClick:function(){$("a.quick-button").off("click"),$("a.undo-button").off("click")},close:true}],onClick:function(index){}}),$("a.quick-button"
).on("click",function(f){$("#quick-amt").append("  +"+$(this).data("train"));var score=new Score({score:$(this).data("score"),date:Date.now(),player:self.model.get("name"),playerID:self.model.get("id"),trains:$(this).data("train")});ttrApp.scoresCollection.create(score),self.render()}),$("a.undo-button").on("click",function(f){if($("#quick-amt").html().length>0){$("#quick-amt").html(function(i,h){return h.substring(0,h.length-4)});var remove=_.filter(ttrApp.scoresCollection.models,function(score){return score.get("playerID")===self.model.get("id")}),toRemove=remove.pop();toRemove.destroy(),self.render()}}))},calculateScoreValues:function(){var self=this,scores=_.filter(ttrApp.scoresCollection.models,function(score){return score.get("playerID")===self.model.get("id")}),score=_.reduce(scores,function(memo,score){return memo+score.get("score")},0),trains=_.reduce(scores,function(memo,score){return memo-score.get("trains")},ttrApp.currentVersion.get("numTrains"));this.model.set({trainsLeft:
trains,score:score},{silent:true}),this.model.set({trainsLeft:trains,score:score},{silent:true})},render:function(){this.calculateScoreValues();var self=this;return $(this.el).html(template(this.model.toJSON())),this}}),PlayerView}),define("views/PlayerCollectionView",["Backbone","Marionette","views/PlayerView"],function(Backbone,Marionette,PlayerView){return PlayerCollectionView=Backbone.Marionette.CollectionView.extend({childView:PlayerView,tagName:"ul",className:"players",initialize:function(){},getChildView:function(item){var temp=new PlayerView;return temp},buildChildView:function(child,ChildViewClass,childViewOptions){var options=_.extend({model:child},childViewOptions),view=new PlayerView(options);return view},addPlayer:function(){var self=this;ttrTracker.prompt("Please enter a name.",function(data){var name=data.replace(/[^\w]/ig,"");if(data===undefined||data===""){var num=self.collection.length+1,newName="Player "+num,tempPlayerNames=_.filter(self.collection.models,function(p){
return p.get("name")==newName});tempPlayerNames.length>0&&(newName+="X"),name=newName}self.collection.create({name:name}),ttrTracker.closeModal()})},renderDatShit:function(){ttrApp.playersView.remove(),ttrApp.playersView.render(),$("#player-list").html(ttrApp.playersView.el)}}),PlayerCollectionView}),function(){window.Framework7=function(params){var app=this;app.version="0.9.5",app.params={cache:true,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:true,pushState:!1,pushStateRoot:undefined,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:true,animateNavBackIcon:!1,swipeBackPage:true,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:true,ajaxLinks:undefined,externalLinks:["external"],sortable:true,swipeout:true,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectSearchbar
:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:true,searchbarHideGroups:true,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:true,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:true,modalTemplate:'<div class="modal {{noButtons}}"><div class="modal-inner">{{if title}}<div class="modal-title">{{title}}</div>{{/if title}}<div class="modal-text">{{text}}</div>{{afterText}}</div><div class="modal-buttons">{{buttons}}</div></div>',modalActionsTemplate:'<div class="actions-modal">{{buttons}}</div>',modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:true,popupCloseByOutside:true,modalPreloaderTitle:"Loading... ",init:true,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:true,animatePages:true};for(var param in params)app.params[param]=params[param];var $=Dom7;app
.touchEvents={start:app.support.touch?"touchstart":"mousedown",move:app.support.touch?"touchmove":"mousemove",end:app.support.touch?"touchend":"mouseup"},app.ls=localStorage,app.rtl=$("body").css("direction")==="rtl",app.rtl&&$("html").attr("dir","rtl"),typeof app.params.statusbarOverlay!="undefined"&&(app.params.statusbarOverlay?$("html").addClass("with-statusbar-overlay"):$("html").removeClass("with-statusbar-overlay")),app.views=[];var View=function(selector,params){var defaults={dynamicNavbar:!1,domCache:!1,linksView:undefined,swipeBackPage:app.params.swipeBackPage,swipeBackPageBoxShadow:app.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:app.params.swipeBackPageActiveArea,swipeBackPageThreshold:app.params.swipeBackPageThreshold,animatePages:app.params.animatePages};params=params||{};for(var def in defaults)typeof params[def]=="undefined"&&(params[def]=defaults[def]);var view=this;view.params=params,view.selector=selector;var container=$(selector);view.container=container[0];var docLocation=
document.location.href;view.history=[];var viewURL=docLocation,pushStateSeparator=app.params.pushStateSeparator,pushStateRoot=app.params.pushStateRoot;app.params.pushState&&(pushStateRoot?viewURL=pushStateRoot:viewURL.indexOf(pushStateSeparator)>=0&&viewURL.indexOf(pushStateSeparator+"#")<0&&(viewURL=viewURL.split(pushStateSeparator)[0])),view.url=container.attr("data-url")||view.params.url||viewURL,view.url&&view.history.push(view.url),view.contentCache={},container[0].f7View=view,view.pagesContainer=container.find(".pages")[0],view.allowPageChange=true;if(!view.activePage){var currentPage=$(view.pagesContainer).find(".page-on-center"),currentPageData;currentPage.length===0&&(currentPage=$(view.pagesContainer).find(".page"),currentPage=currentPage.eq(currentPage.length-1)),currentPage.length>0&&(currentPageData=currentPage[0].f7PageData),currentPageData&&(currentPageData.view=view,view.url&&(currentPageData.url=view.url),view.activePage=currentPageData,currentPage[0].f7PageData=currentPageData
)}view.main=container.hasClass(app.params.viewMainClass);var isTouched=!1,isMoved=!1,touchesStart={},isScrolling,activePage,previousPage,viewContainerWidth,touchesDiff,allowViewTouchMove=true,touchStartTime,activeNavbar,previousNavbar,activeNavElements,previousNavElements,activeNavBackIcon,previousNavBackIcon,dynamicNavbar,el;view.handleTouchStart=function(e){if(!allowViewTouchMove||!view.params.swipeBackPage||isTouched||app.swipeoutOpenedEl)return;isMoved=!1,isTouched=true,isScrolling=undefined,touchesStart.x=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,touchesStart.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,touchStartTime=(new Date).getTime(),dynamicNavbar=view.params.dynamicNavbar&&container.find(".navbar-inner").length>1},view.handleTouchMove=function(e){if(!isTouched)return;var pageX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,pageY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;typeof isScrolling=="undefined"&&(isScrolling=!!(isScrolling||Math
.abs(pageY-touchesStart.y)>Math.abs(pageX-touchesStart.x)));if(isScrolling||e.f7PreventSwipeBack){isTouched=!1;return}e.f7PreventPanelSwipe=true;if(!isMoved){var cancel=!1;viewContainerWidth=container.width();var target=$(e.target);activePage=target.is(".page")?target:target.parents(".page"),activePage.hasClass("no-swipeback")&&(cancel=true),previousPage=container.find(".page-on-left:not(.cached)");var notFromBorder=touchesStart.x-container.offset().left>view.params.swipeBackPageActiveArea;app.rtl?notFromBorder=touchesStart.x<container.offset().left-container[0].scrollLeft+viewContainerWidth-view.params.swipeBackPageActiveArea:notFromBorder=touchesStart.x-container.offset().left>view.params.swipeBackPageActiveArea,notFromBorder&&(cancel=true);if(previousPage.length===0||activePage.length===0)cancel=true;if(cancel){isTouched=!1;return}dynamicNavbar&&(activeNavbar=container.find(".navbar-on-center:not(.cached)"),previousNavbar=container.find(".navbar-on-left:not(.cached)"),activeNavElements=
activeNavbar.find(".left, .center, .right"),previousNavElements=previousNavbar.find(".left, .center, .right"),app.params.animateNavBackIcon&&(activeNavBackIcon=activeNavbar.find(".left.sliding .back .icon"),previousNavBackIcon=previousNavbar.find(".left.sliding .back .icon")))}isMoved=true,e.preventDefault();var inverter=app.rtl?-1:1;touchesDiff=(pageX-touchesStart.x-view.params.swipeBackPageThreshold)*inverter,touchesDiff<0&&(touchesDiff=0);var percentage=touchesDiff/viewContainerWidth,callbackData={percentage:percentage,activePage:activePage[0],previousPage:previousPage[0],activeNavbar:activeNavbar[0],previousNavbar:previousNavbar[0]};view.params.onSwipeBackMove&&view.params.onSwipeBackMove(callbackData),container.trigger("swipebackmove",callbackData);var activePageTranslate=touchesDiff*inverter,previousPageTranslate=(touchesDiff/5-viewContainerWidth/5)*inverter;app.device.pixelRatio===1&&(activePageTranslate=Math.round(activePageTranslate),previousPageTranslate=Math.round(previousPageTranslate
)),activePage.transform("translate3d("+activePageTranslate+"px,0,0)"),view.params.swipeBackPageBoxShadow&&app.device.os!=="android"&&(activePage[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*percentage)+")"),previousPage.transform("translate3d("+previousPageTranslate+"px,0,0)"),previousPage[0].style.opacity=.9+.1*percentage;if(dynamicNavbar){var i;for(i=0;i<activeNavElements.length;i++){el=$(activeNavElements[i]),el[0].style.opacity=1-percentage*1.3;if(el[0].className.indexOf("sliding")>=0){var activeNavTranslate=percentage*el[0].f7NavbarRightOffset;app.device.pixelRatio===1&&(activeNavTranslate=Math.round(activeNavTranslate)),el.transform("translate3d("+activeNavTranslate+"px,0,0)"),app.params.animateNavBackIcon&&el[0].className.indexOf("left")>=0&&activeNavBackIcon.length>0&&activeNavBackIcon.transform("translate3d("+ -activeNavTranslate+"px,0,0)")}}for(i=0;i<previousNavElements.length;i++){el=$(previousNavElements[i]),el[0].style.opacity=percentage*1.3-.3;if(el[0].className.indexOf
("sliding")>=0){var previousNavTranslate=el[0].f7NavbarLeftOffset*(1-percentage);app.device.pixelRatio===1&&(previousNavTranslate=Math.round(previousNavTranslate)),el.transform("translate3d("+previousNavTranslate+"px,0,0)"),app.params.animateNavBackIcon&&el[0].className.indexOf("left")>=0&&previousNavBackIcon.length>0&&previousNavBackIcon.transform("translate3d("+ -previousNavTranslate+"px,0,0)")}}}},view.handleTouchEnd=function(e){if(!isTouched||!isMoved){isTouched=!1,isMoved=!1;return}isTouched=!1,isMoved=!1;if(touchesDiff===0){$([activePage[0],previousPage[0]]).transform("").css({opacity:"",boxShadow:""}),dynamicNavbar&&(activeNavElements.transform("").css({opacity:""}),previousNavElements.transform("").css({opacity:""}),activeNavBackIcon&&activeNavBackIcon.length>0&&activeNavBackIcon.transform(""),previousNavBackIcon&&activeNavBackIcon.length>0&&previousNavBackIcon.transform(""));return}var timeDiff=(new Date).getTime()-touchStartTime,pageChanged=!1;if(timeDiff<300&&touchesDiff>10||
timeDiff>=300&&touchesDiff>viewContainerWidth/2)activePage.removeClass("page-on-center").addClass("page-on-right"),previousPage.removeClass("page-on-left").addClass("page-on-center"),dynamicNavbar&&(activeNavbar.removeClass("navbar-on-center").addClass("navbar-on-right"),previousNavbar.removeClass("navbar-on-left").addClass("navbar-on-center")),pageChanged=true;$([activePage[0],previousPage[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),dynamicNavbar&&(activeNavElements.css({opacity:""}).each(function(){var translate=pageChanged?this.f7NavbarRightOffset:0,sliding=$(this);sliding.transform("translate3d("+translate+"px,0,0)"),app.params.animateNavBackIcon&&sliding.hasClass("left")&&activeNavBackIcon.length>0&&activeNavBackIcon.addClass("page-transitioning").transform("translate3d("+ -translate+"px,0,0)")}).addClass("page-transitioning"),previousNavElements.transform("").css({opacity:""}).each(function(){var translate=pageChanged?0:this.f7NavbarLeftOffset,
sliding=$(this);sliding.transform("translate3d("+translate+"px,0,0)"),app.params.animateNavBackIcon&&sliding.hasClass("left")&&previousNavBackIcon.length>0&&previousNavBackIcon.addClass("page-transitioning").transform("translate3d("+ -translate+"px,0,0)")}).addClass("page-transitioning")),allowViewTouchMove=!1,view.allowPageChange=!1;if(pageChanged){var url=view.history[view.history.length-2];view.url=url,app.pageAnimCallbacks("before",view,{pageContainer:previousPage[0],url:url,position:"left",newPage:previousPage,oldPage:activePage,swipeBack:true})}activePage.transitionEnd(function(){$([activePage[0],previousPage[0]]).removeClass("page-transitioning"),dynamicNavbar&&(activeNavElements.removeClass("page-transitioning").css({opacity:""}),previousNavElements.removeClass("page-transitioning").css({opacity:""}),activeNavBackIcon&&activeNavBackIcon.length>0&&activeNavBackIcon.removeClass("page-transitioning"),previousNavBackIcon&&previousNavBackIcon.length>0&&previousNavBackIcon.removeClass
("page-transitioning")),allowViewTouchMove=true,view.allowPageChange=true,pageChanged&&(app.params.pushState&&history.back(),app.pageAnimCallbacks("after",view,{pageContainer:previousPage[0],url:url,position:"left",newPage:previousPage,oldPage:activePage,swipeBack:true}),app.afterGoBack(view,activePage,previousPage))})},view.attachEvents=function(detach){var action=detach?"off":"on";container[action](app.touchEvents.start,view.handleTouchStart),container[action](app.touchEvents.move,view.handleTouchMove),container[action](app.touchEvents.end,view.handleTouchEnd)},view.detachEvents=function(){view.attachEvents(true)},view.params.swipeBackPage&&view.attachEvents(),app.views.push(view),view.main&&(app.mainView=view),view.loadPage=function(url,animatePages){return app.loadPage(view,url,animatePages)},view.loadContent=function(content,animatePages){return app.loadContent(view,content,animatePages)},view.goBack=function(url,animatePages){return app.goBack(view,url,animatePages)},view.hideNavbar=
function(){return app.hideNavbar(container)},view.showNavbar=function(){return app.showNavbar(container)},view.hideToolbar=function(){return app.hideToolbar(container)},view.showToolbar=function(){return app.showToolbar(container)};if(app.params.pushState&&view.main){var pushStateUrl;pushStateRoot?pushStateUrl=docLocation.split(app.params.pushStateRoot+pushStateSeparator)[1]:docLocation.indexOf(pushStateSeparator)>=0&&docLocation.indexOf(pushStateSeparator+"#")<0&&(pushStateUrl=docLocation.split(pushStateSeparator)[1]);var pushStateAnimatePages;app.params.pushStateNoAnimation===true&&(pushStateAnimatePages=!1),pushStateUrl&&app.loadPage(view,pushStateUrl,pushStateAnimatePages,!1)}return view.destroy=function(){view.detachEvents(),view=undefined},app.pluginHook("addView",view),view};app.addView=function(selector,params){return new View(selector,params)},app.navbarInitCallback=function(view,pageContainer,navbar,navbarInnerContainer,url,position){var _navbar={container:navbar,innerContainer
:navbarInnerContainer},_page={url:url,query:$.parseUrlQuery(url||""),container:pageContainer,name:$(pageContainer).attr("data-page"),view:view,from:position},eventData={navbar:_navbar,page:_page};app.pluginHook("navbarInit",_navbar,_page),$(navbarInnerContainer).trigger("navbarInit",eventData)},app.sizeNavbars=function(viewContainer){var navbarInner=viewContainer?$(viewContainer).find(".navbar .navbar-inner:not(.cached)"):$(".navbar .navbar-inner:not(.cached)");navbarInner.each(function(){var tt=$(this),left=app.rtl?tt.find(".right"):tt.find(".left"),right=app.rtl?tt.find(".left"):tt.find(".right"),center=tt.find(".center"),noLeft=left.length===0,noRight=right.length===0,leftWidth=noLeft?0:left.outerWidth(true),rightWidth=noRight?0:right.outerWidth(true),centerWidth=center.outerWidth(true),navbarWidth=tt.width(),onLeft=tt.hasClass("navbar-on-left"),currLeft,diff;noRight&&(currLeft=navbarWidth-centerWidth),noLeft&&(currLeft=0),!noLeft&&!noRight&&(currLeft=(navbarWidth-rightWidth-centerWidth+
leftWidth)/2);var requiredLeft=(navbarWidth-centerWidth)/2;navbarWidth-leftWidth-rightWidth>centerWidth?(requiredLeft<leftWidth&&(requiredLeft=leftWidth),requiredLeft+centerWidth>navbarWidth-rightWidth&&(requiredLeft=navbarWidth-rightWidth-centerWidth),diff=requiredLeft-currLeft):diff=0;var inverter=app.rtl?-1:1,centerLeft=diff;app.rtl&&noLeft&&noRight&&center.length>0&&(centerLeft=-centerLeft),center.css({left:centerLeft+"px"}),center.hasClass("sliding")&&(center[0].f7NavbarLeftOffset=-(currLeft+diff)*inverter,center[0].f7NavbarRightOffset=(navbarWidth-currLeft-diff-centerWidth)*inverter,onLeft&&center.transform("translate3d("+center[0].f7NavbarLeftOffset+"px, 0, 0)")),!noLeft&&left.hasClass("sliding")&&(app.rtl?(left[0].f7NavbarLeftOffset=-(navbarWidth-left.outerWidth())/2*inverter,left[0].f7NavbarRightOffset=leftWidth*inverter):(left[0].f7NavbarLeftOffset=-leftWidth,left[0].f7NavbarRightOffset=(navbarWidth-left.outerWidth())/2),onLeft&&left.transform("translate3d("+left[0].f7NavbarLeftOffset+"px, 0, 0)"
)),!noRight&&right.hasClass("sliding")&&(app.rtl?(right[0].f7NavbarLeftOffset=-rightWidth*inverter,right[0].f7NavbarRightOffset=(navbarWidth-right.outerWidth())/2*inverter):(right[0].f7NavbarLeftOffset=-(navbarWidth-right.outerWidth())/2,right[0].f7NavbarRightOffset=rightWidth),onLeft&&right.transform("translate3d("+right[0].f7NavbarLeftOffset+"px, 0, 0)"))})},app.hideNavbar=function(viewContainer){return $(viewContainer).addClass("hidden-navbar"),true},app.showNavbar=function(viewContainer){var vc=$(viewContainer);return vc.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){vc.removeClass("hiding-navbar")}),true},app.hideToolbar=function(viewContainer){return $(viewContainer).addClass("hidden-toolbar"),true},app.showToolbar=function(viewContainer){var vc=$(viewContainer);vc.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){vc.removeClass("hiding-toolbar")})},app.initSearchbar=function(pageContainer
){pageContainer=$(pageContainer);var searchbar=pageContainer.hasClass("searchbar")?pageContainer:pageContainer.find(".searchbar");if(searchbar.length===0)return;pageContainer.hasClass("page")||(pageContainer=searchbar.parents(".page").eq(0));var searchbarOverlay=pageContainer.hasClass("page")?pageContainer.find(".searchbar-overlay"):$(".searchbar-overlay"),input=searchbar.find('input[type="search"]'),clear=searchbar.find(".searchbar-clear"),cancel=searchbar.find(".searchbar-cancel"),searchList=$(searchbar.attr("data-search-list")),searchIn=searchbar.attr("data-search-in"),searchBy=searchbar.attr("data-search-by"),found=searchbar.attr("data-searchbar-found");found?found=$(found):(found=pageContainer.find(".searchbar-found"),found.length===0&&(found=$(".searchbar-found")));var notFound=searchbar.attr("data-searchbar-not-found");notFound?notFound=$(notFound):(notFound=pageContainer.find(".searchbar-not-found"),notFound.length===0&&(notFound=$(".searchbar-not-found")));var cancelWidth,cancelMarginProp=
app.rtl?"margin-left":"margin-right";cancel.length>0&&(cancelWidth=cancel.width(),cancel.css(cancelMarginProp,-cancelWidth+"px"));function disableSearchbar(){input.val("").trigger("change"),searchbar.removeClass("searchbar-active searchbar-not-empty"),cancel.length>0&&cancel.css(cancelMarginProp,-cancelWidth+"px"),searchList&&searchbarOverlay.removeClass("searchbar-overlay-active"),app.device.ios?setTimeout(function(){input.blur()},400):input.blur()}function enableSearchbar(){app.device.ios?setTimeout(function(){searchList&&!searchbar.hasClass("searchbar-active")&&searchbarOverlay.addClass("searchbar-overlay-active"),searchbar.addClass("searchbar-active"),cancel.length>0&&cancel.css(cancelMarginProp,"0px"),searchList.trigger("enableSearch")},400):(searchList&&!searchbar.hasClass("searchbar-active")&&searchbarOverlay.addClass("searchbar-overlay-active"),searchbar.addClass("searchbar-active"),cancel.length>0&&cancel.css(cancelMarginProp,"0px"),searchList.trigger("disableSearch"))}function clearSearchbar
(){input.val("").trigger("change"),searchList.trigger("clearSearch")}function searchValue(){setTimeout(function(){var value=input.val().trim();value.length===0?(searchbar.removeClass("searchbar-not-empty"),searchList&&searchbar.hasClass("searchbar-active")&&searchbarOverlay.addClass("searchbar-overlay-active")):(searchbar.addClass("searchbar-not-empty"),searchList&&searchbar.hasClass("searchbar-active")&&searchbarOverlay.removeClass("searchbar-overlay-active")),searchList.length>0&&searchIn&&search(value)},0)}function preventSubmit(e){e.preventDefault()}function attachEvents(destroy){var method=destroy?"off":"on";searchbar[method]("submit",preventSubmit),cancel[method]("click",disableSearchbar),searchbarOverlay[method]("click",disableSearchbar),input[method]("focus",enableSearchbar),input[method]("change keydown keypress keyup",searchValue),clear[method]("click",clearSearchbar)}function detachEvents(){attachEvents(true)}searchbar[0].f7DestroySearchbar=detachEvents,attachEvents();function search
(query){var values=query.trim().toLowerCase().split(" ");searchList.find("li").removeClass("hidden-by-searchbar");var foundItems=[];searchList.find("li").each(function(index,el){el=$(el);var compareWithEl=el.find(searchIn);if(compareWithEl.length===0)return;var compareWith;compareWith=compareWithEl.text().trim().toLowerCase();var wordsMatch=0;for(var i=0;i<values.length;i++)compareWith.indexOf(values[i])>=0&&wordsMatch++;wordsMatch!==values.length?el.addClass("hidden-by-searchbar"):foundItems.push(el[0])}),app.params.searchbarHideDividers&&searchList.find(".item-divider, .list-group-title").each(function(){var title=$(this),nextElements=title.nextAll("li"),hide=true;for(var i=0;i<nextElements.length;i++){var nextEl=$(nextElements[i]);if(nextEl.hasClass("list-group-title")||nextEl.hasClass("item-divider"))break;nextEl.hasClass("hidden-by-searchbar")||(hide=!1)}hide?title.addClass("hidden-by-searchbar"):title.removeClass("hidden-by-searchbar")}),app.params.searchbarHideGroups&&searchList.
find(".list-group").each(function(){var group=$(this),notHidden=group.find("li:not(.hidden-by-searchbar)");notHidden.length===0?group.addClass("hidden-by-searchbar"):group.removeClass("hidden-by-searchbar")}),searchList.trigger("search",{query:query,foundItems:foundItems}),foundItems.length===0?(notFound.show(),found.hide()):(notFound.hide(),found.show())}function pageBeforeRemove(){detachEvents(),pageContainer.off("pageBeforeRemove",pageBeforeRemove)}pageContainer.hasClass("page")&&pageContainer.on("pageBeforeRemove",pageBeforeRemove)},app.destroySearchbar=function(pageContainer){pageContainer=$(pageContainer);var searchbar=pageContainer.hasClass("searchbar")?pageContainer:pageContainer.find(".searchbar");if(searchbar.length===0)return;searchbar[0].f7DestroySearchbar&&searchbar[0].f7DestroySearchbar()},app.initMessagebar=function(pageContainer){pageContainer=$(pageContainer);var messagebar=pageContainer.hasClass("messagebar")?pageContainer:pageContainer.find(".messagebar");if(messagebar
.length===0)return;var textarea=messagebar.find("textarea"),pageContent=messagebar.parents(".page").find(".page-content"),initialBarHeight=messagebar[0].offsetHeight,initialAreaHeight=textarea[0].offsetHeight;function preventSubmit(e){e.preventDefault()}function sizeTextarea(){textarea.css({height:""});var height=textarea[0].offsetHeight,diff=height-textarea[0].clientHeight,scrollHeight=textarea[0].scrollHeight;if(scrollHeight+diff>height){var newAreaHeight=scrollHeight+diff,newBarHeight=initialBarHeight+(newAreaHeight-initialAreaHeight),maxBarHeight=messagebar.attr("data-max-height")||messagebar.parents(".view")[0].offsetHeight-88;newBarHeight>maxBarHeight&&(newBarHeight=maxBarHeight,newAreaHeight=newBarHeight-initialBarHeight+initialAreaHeight),textarea.css("height",newAreaHeight+"px"),messagebar.css("height",newBarHeight+"px"),pageContent.length>0&&(pageContent.css("padding-bottom",newBarHeight+"px"),pageContent.scrollTop(pageContent[0].scrollHeight-pageContent[0].offsetHeight))}else pageContent
.length>0&&(messagebar.css({height:""}),pageContent.css({"padding-bottom":""}))}var to;function handleKey(e){clearTimeout(to),to=setTimeout(function(){sizeTextarea()},0)}function attachEvents(destroy){var method=destroy?"off":"on";messagebar[method]("submit",preventSubmit),textarea[method]("change keydown keypress keyup paste cut",handleKey)}function detachEvents(){attachEvents(true)}messagebar[0].f7DestroyMessagebar=detachEvents,attachEvents();function pageBeforeRemove(){detachEvents(),pageContainer.off("pageBeforeRemove",pageBeforeRemove)}pageContainer.hasClass("page")&&pageContainer.on("pageBeforeRemove",pageBeforeRemove)},app.destroyMessagebar=function(pageContainer){pageContainer=$(pageContainer);var messagebar=pageContainer.hasClass("messagebar")?pageContainer:pageContainer.find(".messagebar");if(messagebar.length===0)return;messagebar[0].f7DestroyMessagebar&&messagebar[0].f7DestroyMessagebar()},app.cache=[],app.removeFromCache=function(url){var index=!1;for(var i=0;i<app.cache.length
;i++)app.cache[i].url===url&&(index=i);index!==!1&&app.cache.splice(index,1)},app.xhr=!1,app.get=function(url,view,callback){var _url=url;app.params.cacheIgnoreGetParameters&&url.indexOf("?")>=0&&(_url=url.split("?")[0]);if(app.params.cache&&url.indexOf("nocache")<0&&app.params.cacheIgnore.indexOf(_url)<0)for(var i=0;i<app.cache.length;i++)if(app.cache[i].url===_url&&(new Date).getTime()-app.cache[i].time<app.params.cacheDuration)return callback(app.cache[i].data),!1;return app.xhr=$.ajax({url:url,method:"GET",start:app.params.onAjaxStart,complete:function(xhr){xhr.status===200||xhr.status===0?(callback(xhr.responseText,!1),app.params.cache&&(app.removeFromCache(_url),app.cache.push({url:_url,time:(new Date).getTime(),data:xhr.responseText}))):callback(xhr.responseText,true),app.params.onAjaxComplete&&app.params.onAjaxComplete(xhr)},error:function(xhr){callback(xhr.responseText,true),app.params.onAjaxError&&app.params.onAjaxonAjaxError(xhr)}}),view&&(view.xhr=app.xhr),app.xhr},app.pageCallbacks=
{},app.onPage=function(callbackName,pageName,callback){if(pageName&&pageName.split(" ").length>1){var pageNames=pageName.split(" "),returnCallbacks=[];for(var i=0;i<pageNames.length;i++)returnCallbacks.push(app.onPage(callbackName,pageNames[i],callback));return returnCallbacks.remove=function(){for(var i=0;i<returnCallbacks.length;i++)returnCallbacks[i].remove()},returnCallbacks.trigger=function(){for(var i=0;i<returnCallbacks.length;i++)returnCallbacks[i].trigger()},returnCallbacks}var callbacks=app.pageCallbacks[callbackName][pageName];return callbacks||(callbacks=app.pageCallbacks[callbackName][pageName]=[]),app.pageCallbacks[callbackName][pageName].push(callback),{remove:function(){var removeIndex;for(var i=0;i<callbacks.length;i++)callbacks[i].toString()===callback.toString()&&(removeIndex=i);typeof removeIndex!="undefined"&&callbacks.splice(removeIndex,1)},trigger:callback}};function createPageCallback(callbackName){var capitalized=callbackName.replace(/^./,function(match){return match
.toUpperCase()});app["onPage"+capitalized]=function(pageName,callback){return app.onPage(callbackName,pageName,callback)}}var pageCallbacksNames="beforeInit init beforeAnimation afterAnimation beforeRemove".split(" ");for(var i=0;i<pageCallbacksNames.length;i++)app.pageCallbacks[pageCallbacksNames[i]]={},createPageCallback(pageCallbacksNames[i]);app.triggerPageCallbacks=function(callbackName,pageName,pageData){var allPagesCallbacks=app.pageCallbacks[callbackName]["*"];if(allPagesCallbacks)for(var j=0;j<allPagesCallbacks.length;j++)allPagesCallbacks[j](pageData);var callbacks=app.pageCallbacks[callbackName][pageName];if(!callbacks||callbacks.length===0)return;for(var i=0;i<callbacks.length;i++)callbacks[i](pageData)},app.pageInitCallback=function(view,pageContainer,url,position,navbarInnerContainer){if(pageContainer.f7PageInitialized)return;pageContainer.f7PageInitialized=true;var pageData={container:pageContainer,url:url,query:$.parseUrlQuery(url||""),name:$(pageContainer).attr("data-page"
),view:view,from:position,navbarInnerContainer:navbarInnerContainer};pageContainer.f7PageData=pageData,view&&(view.activePage=pageData),app.pluginHook("pageBeforeInit",pageData),app.params.onPageBeforeInit&&app.params.onPageBeforeInit(app,pageData),app.triggerPageCallbacks("beforeInit",pageData.name,pageData),$(pageData.container).trigger("pageBeforeInit",{page:pageData}),app.initPage(pageContainer),app.pluginHook("pageInit",pageData),app.params.onPageInit&&app.params.onPageInit(app,pageData),app.triggerPageCallbacks("init",pageData.name,pageData),$(pageData.container).trigger("pageInit",{page:pageData})},app.pageRemoveCallback=function(view,pageContainer,position){var pageData={container:pageContainer,name:$(pageContainer).attr("data-page"),view:view,from:position};app.pluginHook("pageBeforeRemove",pageData),app.params.onPageBeforeRemove&&app.params.onPageBeforeRemove(app,pageData),app.triggerPageCallbacks("beforeRemove",pageData.name,pageData),$(pageData.container).trigger("pageBeforeRemove"
,{page:pageData})},app.pageAnimCallbacks=function(callback,view,params){var pageData={container:params.pageContainer,url:params.url,query:$.parseUrlQuery(params.url||""),name:$(params.pageContainer).attr("data-page"),view:view,from:params.position,swipeBack:params.swipeBack},oldPage=params.oldPage,newPage=params.newPage;params.pageContainer.f7PageData=pageData,callback==="after"&&(app.pluginHook("pageAfterAnimation",pageData),app.params.onPageAfterAnimation&&app.params.onPageAfterAnimation(app,pageData),app.triggerPageCallbacks("afterAnimation",pageData.name,pageData),$(pageData.container).trigger("pageAfterAnimation",{page:pageData})),callback==="before"&&($(view.container).attr("data-page",pageData.name),view&&(view.activePage=pageData),newPage.hasClass("no-navbar")&&!oldPage.hasClass("no-navbar")&&view.hideNavbar(),!newPage.hasClass("no-navbar")&&oldPage.hasClass("no-navbar")&&view.showNavbar(),newPage.hasClass("no-toolbar")&&!oldPage.hasClass("no-toolbar")&&view.hideToolbar(),!newPage
.hasClass("no-toolbar")&&oldPage.hasClass("no-toolbar")&&view.showToolbar(),app.pluginHook("pageBeforeAnimation",pageData),app.params.onPageBeforeAnimation&&app.params.onPageBeforeAnimation(app,pageData),app.triggerPageCallbacks("beforeAnimation",pageData.name,pageData),$(pageData.container).trigger("pageBeforeAnimation",{page:pageData}))},app.initPage=function(pageContainer){app.sizeNavbars&&app.sizeNavbars($(pageContainer).parents("."+app.params.viewClass)[0]),app.initMessages&&app.initMessages(pageContainer),app.initFormsStorage&&app.initFormsStorage(pageContainer),app.initSmartSelects&&app.initSmartSelects(pageContainer),app.initSlider&&app.initSlider(pageContainer),app.initPullToRefresh&&app.initPullToRefresh(pageContainer),app.initInfiniteScroll&&app.initInfiniteScroll(pageContainer),app.initSearchbar&&app.initSearchbar(pageContainer),app.initMessagebar&&app.initMessagebar(pageContainer)},app.allowPageChange=true,app._tempDomElement=document.createElement("div");function _findElement
(selector,container,view){container=$(container);var found=container.find(selector);return found.length>1&&(typeof view.selector=="string"&&(found=container.find(view.selector+" "+selector)),found.length>1&&(found=container.find("."+app.params.viewMainClass+" "+selector))),found.length===1?found:undefined}function _animatePages(leftPage,rightPage,direction,view){direction==="to-left"&&(leftPage.removeClass("page-on-center").addClass("page-from-center-to-left"),rightPage.addClass("page-from-right-to-center")),direction==="to-right"&&(leftPage.removeClass("page-on-left").addClass("page-from-left-to-center"),rightPage.removeClass("page-on-center").addClass("page-from-center-to-right"))}function _animateNavbars(leftNavbarInner,rightNavbarInner,direction,view){direction==="to-left"&&(rightNavbarInner.removeClass("navbar-on-right").addClass("navbar-from-right-to-center"),rightNavbarInner.find(".sliding").each(function(){var sliding=$(this);sliding.transform("translate3d(0px,0,0)"),app.params.
animateNavBackIcon&&sliding.hasClass("left")&&sliding.find(".back .icon").length>0&&sliding.find(".back .icon").transform("translate3d(0px,0,0)")}),leftNavbarInner.removeClass("navbar-on-center").addClass("navbar-from-center-to-left"),leftNavbarInner.find(".sliding").each(function(){var sliding=$(this);app.params.animateNavBackIcon&&(sliding.hasClass("center")&&rightNavbarInner.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=rightNavbarInner.find(".sliding.left .back span")[0].offsetLeft),sliding.hasClass("left")&&sliding.find(".back .icon").length>0&&sliding.find(".back .icon").transform("translate3d("+ -this.f7NavbarLeftOffset+"px,0,0)")),sliding.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),direction==="to-right"&&(leftNavbarInner.removeClass("navbar-on-left").addClass("navbar-from-left-to-center"),leftNavbarInner.find(".sliding").each(function(){var sliding=$(this);sliding.transform("translate3d(0px,0,0)"),app.params.animateNavBackIcon&&sliding
.hasClass("left")&&sliding.find(".back .icon").length>0&&sliding.find(".back .icon").transform("translate3d(0px,0,0)")}),rightNavbarInner.removeClass("navbar-on-center").addClass("navbar-from-center-to-right"),rightNavbarInner.find(".sliding").each(function(){var sliding=$(this);app.params.animateNavBackIcon&&sliding.hasClass("left")&&sliding.find(".back .icon").length>0&&sliding.find(".back .icon").transform("translate3d("+ -this.f7NavbarRightOffset+"px,0,0)"),sliding.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))}function _load(view,url,content,animatePages){var viewContainer=$(view.container),pagesContainer=$(view.pagesContainer),newPage,oldPage,pagesInView,i,oldNavbarInner,newNavbarInner,navbar,dynamicNavbar;typeof animatePages=="undefined"&&(animatePages=view.params.animatePages),app.pluginHook("loadPage",view,url,content),app._tempDomElement.innerHTML="";if(url||typeof content=="string")app._tempDomElement.innerHTML=content;else if("length"in content&&content.length>1
)for(var ci=0;ci<content.length;ci++)$(app._tempDomElement).append(content[ci]);else $(app._tempDomElement).append(content);newPage=_findElement(".page",app._tempDomElement,view);if(!newPage){view.allowPageChange=true;return}newPage.addClass("page-on-right"),pagesInView=pagesContainer.children(".page:not(.cached)");if(pagesInView.length>1){for(i=0;i<pagesInView.length-2;i++)view.params.domCache?$(pagesInView[i]).addClass("cached"):(app.pageRemoveCallback(view,pagesInView[i],"left"),$(pagesInView[i]).remove());view.params.domCache?$(pagesInView[i]).addClass("cached"):(app.pageRemoveCallback(view,pagesInView[i],"left"),$(pagesInView[i]).remove())}oldPage=pagesContainer.children(".page:not(.cached)");if(view.params.dynamicNavbar){dynamicNavbar=true,newNavbarInner=_findElement(".navbar-inner",app._tempDomElement,view),newNavbarInner||(dynamicNavbar=!1),navbar=viewContainer.find(".navbar"),oldNavbarInner=navbar.find(".navbar-inner:not(.cached)");if(oldNavbarInner.length>0){for(i=0;i<oldNavbarInner
.length-1;i++)view.params.domCache?$(oldNavbarInner[i]).addClass("cached"):$(oldNavbarInner[i]).remove();!newNavbarInner&&oldNavbarInner.length===1&&(view.params.domCache?$(oldNavbarInner[0]).addClass("cached"):$(oldNavbarInner[0]).remove()),oldNavbarInner=navbar.find(".navbar-inner:not(.cached)")}}dynamicNavbar&&(newNavbarInner.addClass("navbar-on-right"),navbar.append(newNavbarInner[0])),url||(url="#content-"+view.history.length,view.params.domCache||(view.history.length===1&&(view.contentCache[view.history[0]]={nav:oldNavbarInner,page:oldPage}),view.contentCache[url]={nav:newNavbarInner,page:newPage})),view.url=url,view.history.push(url),pagesContainer.append(newPage[0]),app.pageInitCallback(view,newPage[0],url,"right",dynamicNavbar?newNavbarInner[0]:undefined),dynamicNavbar&&app.navbarInitCallback(view,newPage[0],navbar[0],newNavbarInner[0],url,"right"),dynamicNavbar&&animatePages&&newNavbarInner.find(".sliding").each(function(){var sliding=$(this);sliding.transform("translate3d("+this
.f7NavbarRightOffset+"px,0,0)"),app.params.animateNavBackIcon&&sliding.hasClass("left")&&sliding.find(".back .icon").length>0&&sliding.find(".back .icon").transform("translate3d("+ -this.f7NavbarRightOffset+"px,0,0)")});var clientLeft=newPage[0].clientLeft;app.pageAnimCallbacks("before",view,{pageContainer:newPage[0],url:url,position:"right",oldPage:oldPage,newPage:newPage});function afterAnimation(){view.allowPageChange=true,newPage.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),oldPage.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),dynamicNavbar&&(newNavbarInner.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),oldNavbarInner.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),app.pageAnimCallbacks("after",view,{pageContainer:newPage[0],url:url,position:"right",oldPage:oldPage,newPage:newPage}),app.params.pushState&&app.pushStateClearQueue()}animatePages?
(_animatePages(oldPage,newPage,"to-left",view),dynamicNavbar&&setTimeout(function(){_animateNavbars(oldNavbarInner,newNavbarInner,"to-left",view)},0),newPage.animationEnd(function(e){afterAnimation()})):afterAnimation()}function preprocess(content,url,next){app.pluginHook("preprocess",content,url,next),content=app.pluginProcess("preprocess",content),app.params.preprocess?(content=app.params.preprocess(content,url,next),typeof content!="undefined"&&next(content)):next(content)}app.loadContent=function(view,content,animatePages,pushState){if(!view.allowPageChange)return!1;view.allowPageChange=!1,app.xhr&&view.xhr&&view.xhr===app.xhr&&(app.xhr.abort(),app.xhr=!1);if(app.params.pushState){typeof pushState=="undefined"&&(pushState=true);var pushStateRoot=app.params.pushStateRoot||"";pushState&&history.pushState({content:content,url:"#content-"+view.history.length},"",pushStateRoot+app.params.pushStateSeparator+"#content-"+view.history.length)}preprocess(content,null,function(content){_load(view
,null,content,animatePages)})},app.loadPage=function(view,url,animatePages,pushState){if(!view.allowPageChange)return!1;if(view.url===url)return!1;view.allowPageChange=!1,app.xhr&&view.xhr&&view.xhr===app.xhr&&(app.xhr.abort(),app.xhr=!1),app.get(url,view,function(data,error){if(error){view.allowPageChange=true;return}if(app.params.pushState){typeof pushState=="undefined"&&(pushState=true);var pushStateRoot=app.params.pushStateRoot||"";pushState&&history.pushState({url:url},"",pushStateRoot+app.params.pushStateSeparator+url)}preprocess(data,url,function(data){_load(view,url,data,animatePages)})})},app.goBack=function(view,url,animatePages,preloadOnly,pushState){if(!view.allowPageChange)return!1;view.allowPageChange=!1,app.xhr&&view.xhr&&view.xhr===app.xhr&&(app.xhr.abort(),app.xhr=!1),app.pluginHook("goBack",view,url,preloadOnly),app.params.pushState&&(typeof pushState=="undefined"&&(pushState=true),!preloadOnly&&history.state&&pushState&&history.back());var viewContainer=$(view.container
),pagesContainer=$(view.pagesContainer),pagesInView=pagesContainer.children(".page"),oldPage,newPage,oldNavbarInner,newNavbarInner,navbar,dynamicNavbar;typeof animatePages=="undefined"&&(animatePages=view.params.animatePages);function _animate(){app.pageAnimCallbacks("before",view,{pageContainer:newPage[0],url:url,position:"left",oldPage:oldPage,newPage:newPage});function afterAnimation(){app.afterGoBack(view,oldPage[0],newPage[0]),app.pageAnimCallbacks("after",view,{pageContainer:newPage[0],url:url,position:"left",oldPage:oldPage,newPage:newPage})}animatePages?(_animatePages(newPage,oldPage,"to-right",view),dynamicNavbar&&setTimeout(function(){_animateNavbars(newNavbarInner,oldNavbarInner,"to-right",view)},0),newPage.animationEnd(function(){afterAnimation()})):(newNavbarInner.find(".sliding, .sliding .back .icon").transform(""),afterAnimation())}function _preload(){newPage=_findElement(".page",app._tempDomElement,view);if(!newPage){view.allowPageChange=true;return}newPage.addClass("page-on-left"
),oldPage=$(pagesInView[0]),view.params.dynamicNavbar&&(dynamicNavbar=true,newNavbarInner=_findElement(".navbar-inner",app._tempDomElement,view),newNavbarInner||(dynamicNavbar=!1)),dynamicNavbar&&(navbar=viewContainer.find(".navbar"),oldNavbarInner=navbar.find(".navbar-inner"),newNavbarInner.addClass(oldNavbarInner.length>0?"navbar-on-left":"navbar-on-center"),oldNavbarInner.length>1&&($(oldNavbarInner[0]).remove(),oldNavbarInner=navbar.find(".navbar-inner")),navbar.prepend(newNavbarInner[0])),pagesContainer.prepend(newPage[0]),app.pageInitCallback(view,newPage[0],url,"left",dynamicNavbar?newNavbarInner[0]:undefined),dynamicNavbar&&app.navbarInitCallback(view,newPage[0],navbar[0],newNavbarInner[0],url,"right"),dynamicNavbar&&newNavbarInner.hasClass("navbar-on-left")&&animatePages&&newNavbarInner.find(".sliding").each(function(){var sliding=$(this);app.params.animateNavBackIcon&&(sliding.hasClass("left")&&sliding.find(".back .icon").length>0&&sliding.find(".back .icon").transform("translate3d("+ -
this.f7NavbarLeftOffset+"px,0,0)"),sliding.hasClass("center")&&oldNavbarInner.find(".left .back .icon").length>0&&(this.f7NavbarLeftOffset+=oldNavbarInner.find(".left .back span")[0].offsetLeft)),sliding.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")});if(preloadOnly){newPage.addClass("page-on-left"),view.allowPageChange=true;return}view.url=url;var clientLeft=newPage[0].clientLeft;_animate()}if(pagesInView.length>1){if(preloadOnly){view.allowPageChange=true;return}view.url=view.history[view.history.length-2],newPage=$(pagesInView[pagesInView.length-2]),oldPage=$(pagesInView[pagesInView.length-1]);if(view.params.dynamicNavbar){dynamicNavbar=true;var inners=viewContainer.find(".navbar-inner:not(.cached)");newNavbarInner=$(inners[0]),oldNavbarInner=$(inners[1])}_animate()}else{url&&url.indexOf("#")===0&&(url=undefined),view.history.length>1&&(url=view.history[view.history.length-2]);if(!url){view.allowPageChange=true;return}if(!view.params.domCache&&url in view.contentCache){
var _cache=view.contentCache[url];app._tempDomElement.innerHTML="",$(app._tempDomElement).append(_cache.nav[0]).append(_cache.page[0]),_preload();return}app.get(url,view,function(data,error){if(error){view.allowPageChange=true;return}preprocess(data,null,function(data){app._tempDomElement.innerHTML=data,_preload()})})}},app.afterGoBack=function(view,oldPage,newPage){oldPage=$(oldPage),newPage=$(newPage),app.pageRemoveCallback(view,oldPage[0],"right"),oldPage.remove(),newPage.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),view.allowPageChange=true;if(view.params.dynamicNavbar){var inners=$(view.container).find(".navbar-inner:not(.cached)"),oldNavbar=$(inners[1]).remove(),newNavbar=$(inners[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center");if(app.params.preloadPreviousPage&&view.params.domCache){var cachedNavs=$(view.container).find(".navbar-inner.cached");$(cachedNavs[cachedNavs.length-1]).removeClass("cached")}}var previousURL=
view.history.pop();!view.params.domCache&&previousURL&&previousURL.indexOf("#content-")>-1&&previousURL in view.contentCache&&(view.contentCache[previousURL]=null,delete view.contentCache[previousURL]),app.params.pushState&&app.pushStateClearQueue();if(app.params.preloadPreviousPage){if(view.params.domCache){var cachedPages=$(view.container).find(".page.cached");$(cachedPages[cachedPages.length-1]).removeClass("cached")}app.goBack(view,!1,undefined,true)}};var _modalTemplateTempDiv=document.createElement("div");app.modal=function(params){params=params||{};var buttonsHTML="";if(params.buttons&&params.buttons.length>0)for(var i=0;i<params.buttons.length;i++)buttonsHTML+='<span class="modal-button'+(params.buttons[i].bold?" modal-button-bold":"")+'">'+params.buttons[i].text+"</span>";var modalTemplate=app.params.modalTemplate;params.title?modalTemplate=modalTemplate.replace(/{{if\ title}}/g,"").replace(/{{\/if\ title}}/g,""):modalTemplate=modalTemplate.split("{{if title}}")[0]+modalTemplate
.split("{{/if title}}")[1];var modalHTML=modalTemplate.replace(/{{title}}/g,params.title||"").replace(/{{text}}/g,params.text||"").replace(/{{afterText}}/g,params.afterText||"").replace(/{{buttons}}/g,buttonsHTML).replace(/{{noButtons}}/g,!params.buttons||params.buttons.length===0?"modal-no-buttons":"");_modalTemplateTempDiv.innerHTML=modalHTML;var modal=$(_modalTemplateTempDiv).children();return $("body").append(modal[0]),modal.find(".modal-button").each(function(index,el){$(el).on("click",function(e){params.buttons[index].close!==!1&&app.closeModal(modal),params.buttons[index].onClick&&params.buttons[index].onClick(modal,e),params.onClick&&params.onClick(modal,index)})}),app.openModal(modal),modal[0]},app.alert=function(text,title,callbackOk){return typeof title=="function"&&(callbackOk=arguments[1],title=undefined),app.modal({text:text||"",title:typeof title=="undefined"?app.params.modalTitle:title,buttons:[{text:app.params.modalButtonOk,bold:true,onClick:callbackOk}]})},app.confirm=
function(text,title,callbackOk,callbackCancel){return typeof title=="function"&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=undefined),app.modal({text:text||"",title:typeof title=="undefined"?app.params.modalTitle:title,buttons:[{text:app.params.modalButtonCancel,onClick:callbackCancel},{text:app.params.modalButtonOk,bold:true,onClick:callbackOk}]})},app.prompt=function(text,title,callbackOk,callbackCancel){return typeof title=="function"&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=undefined),app.modal({text:text||"",title:typeof title=="undefined"?app.params.modalTitle:title,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:app.params.modalButtonCancel},{text:app.params.modalButtonOk,bold:true}],onClick:function(modal,index){index===0&&callbackCancel&&callbackCancel($(modal).find(".modal-text-input").val()),index===1&&callbackOk&&callbackOk($(modal).find(".modal-text-input").val())}})},app.modalLogin=function(text,title,callbackOk,callbackCancel
){return typeof title=="function"&&(callbackCancel=arguments[2],callbackOk=arguments[1],title=undefined),app.modal({text:text||"",title:typeof title=="undefined"?app.params.modalTitle:title,afterText:'<input type="text" name="modal-username" placeholder="'+app.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+app.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:app.params.modalButtonCancel},{text:app.params.modalButtonOk,bold:true}],onClick:function(modal,index){var username=$(modal).find('.modal-text-input[name="modal-username"]').val(),password=$(modal).find('.modal-text-input[name="modal-password"]').val();index===0&&callbackCancel&&callbackCancel(username,password),index===1&&callbackOk&&callbackOk(username,password)}})},app.modalPassword=function(text,title,callbackOk,callbackCancel){return typeof title=="function"&&(callbackCancel=arguments
[2],callbackOk=arguments[1],title=undefined),app.modal({text:text||"",title:typeof title=="undefined"?app.params.modalTitle:title,afterText:'<input type="password" name="modal-password" placeholder="'+app.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:app.params.modalButtonCancel},{text:app.params.modalButtonOk,bold:true}],onClick:function(modal,index){var password=$(modal).find('.modal-text-input[name="modal-password"]').val();index===0&&callbackCancel&&callbackCancel(password),index===1&&callbackOk&&callbackOk(password)}})},app.showPreloader=function(title){return app.modal({title:title||app.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},app.hidePreloader=function(){app.closeModal(".modal.modal-in")},app.showIndicator=function(){$("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},app.hideIndicator=function(){$(".preloader-indicator-overlay, .preloader-indicator-modal"
).remove()},app.actions=function(params){params=params||[],params.length>0&&!$.isArray(params[0])&&(params=[params]);var actionsTemplate=app.params.modalActionsTemplate,buttonsHTML="";for(var i=0;i<params.length;i++)for(var j=0;j<params[i].length;j++){j===0&&(buttonsHTML+='<div class="actions-modal-group">');var button=params[i][j],buttonClass=button.label?"actions-modal-label":"actions-modal-button";button.bold&&(buttonClass+=" actions-modal-button-bold"),button.color&&(buttonClass+=" color-"+button.color),buttonsHTML+='<span class="'+buttonClass+'">'+button.text+"</span>",j===params[i].length-1&&(buttonsHTML+="</div>")}var modalHTML=actionsTemplate.replace(/{{buttons}}/g,buttonsHTML);_modalTemplateTempDiv.innerHTML=modalHTML;var modal=$(_modalTemplateTempDiv).children();$("body").append(modal[0]);var groups=modal.find(".actions-modal-group");return groups.each(function(index,el){var groupIndex=index;$(el).children().each(function(index,el){var buttonIndex=index,buttonParams=params[groupIndex
][buttonIndex];$(el).hasClass("actions-modal-button")&&$(el).on("click",function(e){buttonParams.close!==!1&&app.closeModal(modal),buttonParams.onClick&&buttonParams.onClick(modal,e)})})}),app.openModal(modal),modal[0]},app.popover=function(modal,target,removeOnClose){typeof removeOnClose=="undefined"&&(removeOnClose=true);if(typeof modal=="string"&&modal.indexOf("<")>=0){var _modal=document.createElement("div");_modal.innerHTML=$.trim(modal);if(!(_modal.childNodes.length>0))return!1;modal=_modal.childNodes[0],removeOnClose&&modal.classList.add("remove-on-close"),$("body").append(modal)}modal=$(modal),target=$(target);if(modal.length===0||target.length===0)return!1;modal.find(".popover-angle").length===0&&modal.append('<div class="popover-angle"></div>'),modal.show();function sizePopover(){modal.css({left:"",top:""});var modalWidth=modal.width(),modalHeight=modal.height(),modalAngle=modal.find(".popover-angle"),modalAngleSize=modalAngle.width()/2;modalAngle.removeClass("on-left on-right on-top on-bottom"
).css({left:"",top:""});var targetWidth=target.outerWidth(),targetHeight=target.outerHeight(),targetOffset=target.offset(),targetParentPage=target.parents(".page");targetParentPage.length>0&&(targetOffset.top=targetOffset.top-targetParentPage[0].scrollTop);var windowHeight=$(window).height(),windowWidth=$(window).width(),modalTop=0,modalLeft=0,diff=0,modalPosition="top";modalHeight+modalAngleSize<targetOffset.top?modalTop=targetOffset.top-modalHeight-modalAngleSize:modalHeight+modalAngleSize<windowHeight-targetOffset.top-targetHeight?(modalPosition="bottom",modalTop=targetOffset.top+targetHeight+modalAngleSize):(modalPosition="middle",modalTop=targetHeight/2+targetOffset.top-modalHeight/2,diff=modalTop,modalTop<0?modalTop=5:modalTop+modalHeight>windowHeight&&(modalTop=windowHeight-modalHeight-5),diff-=modalTop),modalPosition==="top"||modalPosition==="bottom"?(modalLeft=targetWidth/2+targetOffset.left-modalWidth/2,diff=modalLeft,modalLeft<5&&(modalLeft=5),modalLeft+modalWidth>windowWidth&&
(modalLeft=windowWidth-modalWidth-5),modalPosition==="top"&&modalAngle.addClass("on-bottom"),modalPosition==="bottom"&&modalAngle.addClass("on-top"),diff-=modalLeft,modalAngle.css({left:modalWidth/2-modalAngleSize+diff+"px"})):modalPosition==="middle"&&(modalLeft=targetOffset.left-modalWidth-modalAngleSize,modalAngle.addClass("on-right"),modalLeft<5&&(modalLeft=targetOffset.left+targetWidth+modalAngleSize,modalAngle.removeClass("on-right").addClass("on-left")),modalLeft+modalWidth>windowWidth&&(modalLeft=windowWidth-modalWidth-5,modalAngle.removeClass("on-right").addClass("on-left")),modalAngle.css({top:modalHeight/2-modalAngleSize+diff+"px"})),modal.css({top:modalTop+"px",left:modalLeft+"px"})}return sizePopover(),$(window).on("resize",sizePopover),modal.on("close",function(){$(window).off("resize",sizePopover)}),modal.find("."+app.params.viewClass).length>0&&app.sizeNavbars(modal.find("."+app.params.viewClass)[0]),app.openModal(modal),modal[0]},app.popup=function(modal,removeOnClose){typeof 
removeOnClose=="undefined"&&(removeOnClose=true);if(typeof modal=="string"&&modal.indexOf("<")>=0){var _modal=document.createElement("div");_modal.innerHTML=$.trim(modal);if(!(_modal.childNodes.length>0))return!1;modal=_modal.childNodes[0],removeOnClose&&modal.classList.add("remove-on-close"),$("body").append(modal)}return modal=$(modal),modal.length===0?!1:(modal.show(),modal.find("."+app.params.viewClass).length>0&&app.sizeNavbars(modal.find("."+app.params.viewClass)[0]),app.openModal(modal),modal[0])},app.loginScreen=function(modal){return modal||(modal=".login-screen"),modal=$(modal),modal.length===0?!1:(modal.show(),modal.find("."+app.params.viewClass).length>0&&app.sizeNavbars(modal.find("."+app.params.viewClass)[0]),app.openModal(modal),modal[0])},app.openModal=function(modal){modal=$(modal);var isPopover=modal.hasClass("popover"),isPopup=modal.hasClass("popup"),isLoginScreen=modal.hasClass("login-screen");!isPopover&&!isPopup&&!isLoginScreen&&modal.css({marginTop:-Math.round(modal
.outerHeight()/2)+"px"});var overlay;isLoginScreen||($(".modal-overlay").length===0&&!isPopup&&$("body").append('<div class="modal-overlay"></div>'),$(".popup-overlay").length===0&&isPopup&&$("body").append('<div class="popup-overlay"></div>'),overlay=isPopup?$(".popup-overlay"):$(".modal-overlay"));var clientLeft=modal[0].clientLeft;return modal.trigger("open"),isLoginScreen||overlay.addClass("modal-overlay-visible"),modal.removeClass("modal-out").addClass("modal-in").transitionEnd(function(e){modal.hasClass("modal-out")?modal.trigger("closed"):modal.trigger("opened")}),true},app.closeModal=function(modal){modal=$(modal||".modal-in");if(typeof modal!="undefined"&&modal.length===0)return;var isPopover=modal.hasClass("popover"),isPopup=modal.hasClass("popup"),isLoginScreen=modal.hasClass("login-screen"),removeOnClose=modal.hasClass("remove-on-close"),overlay=isPopup?$(".popup-overlay"):$(".modal-overlay");return overlay.removeClass("modal-overlay-visible"),modal.trigger("close"),isPopover?
(modal.removeClass("modal-in modal-out").trigger("closed").hide(),removeOnClose&&modal.remove()):modal.removeClass("modal-in").addClass("modal-out").transitionEnd(function(e){modal.hasClass("modal-out")?modal.trigger("closed"):modal.trigger("opened"),isPopup||isLoginScreen?(modal.removeClass("modal-out").hide(),removeOnClose&&modal.length>0&&modal.remove()):modal.remove()}),true},app.allowPanelOpen=true,app.openPanel=function(panelPosition){if(!app.allowPanelOpen)return!1;var panel=$(".panel-"+panelPosition);if(panel.length===0||panel.hasClass("active"))return!1;app.closePanel(),app.allowPanelOpen=!1;var effect=panel.hasClass("panel-reveal")?"reveal":"cover";panel.css({display:"block"}).addClass("active"),panel.trigger("open"),panel.find("."+app.params.viewClass).length>0&&app.sizeNavbars&&app.sizeNavbars(panel.find("."+app.params.viewClass)[0]);var clientLeft=panel[0].clientLeft,transitionEndTarget=effect==="reveal"?$("."+app.params.viewsClass):panel,openedTriggered=!1;function panelTransitionEnd
(){transitionEndTarget.transitionEnd(function(e){$(e.target).is(transitionEndTarget)?(panel.hasClass("active")?panel.trigger("opened"):panel.trigger("closed"),app.allowPanelOpen=true):panelTransitionEnd()})}return panelTransitionEnd(),$("body").addClass("with-panel-"+panelPosition+"-"+effect),true},app.closePanel=function(){var activePanel=$(".panel.active");if(activePanel.length===0)return!1;var effect=activePanel.hasClass("panel-reveal")?"reveal":"cover",panelPosition=activePanel.hasClass("panel-left")?"left":"right";activePanel.removeClass("active");var transitionEndTarget=effect==="reveal"?$("."+app.params.viewsClass):activePanel;activePanel.trigger("close"),app.allowPanelOpen=!1,transitionEndTarget.transitionEnd(function(){if(activePanel.hasClass("active"))return;activePanel.css({display:""}),activePanel.trigger("closed"),$("body").removeClass("panel-closing"),app.allowPanelOpen=true}),$("body").addClass("panel-closing").removeClass("with-panel-"+panelPosition+"-"+effect)},app.initSwipePanels=
function(){var panel=$(".panel.panel-"+app.params.swipePanel);if(panel.length===0)return;var panelOverlay=$(".panel-overlay"),isTouched,isMoved,isScrolling,touchesStart={},touchStartTime,touchesDiff,translate,opened,panelWidth,effect,direction,side,views=$("."+app.params.viewsClass);side=app.params.swipePanel;function handleTouchStart(e){if(!app.allowPanelOpen||!app.params.swipePanel||isTouched)return;if($(".modal-in, .photo-browser-in").length>0)return;if(!app.params.swipePanelCloseOpposite&&$(".panel.active").length>0&&!panel.hasClass("active"))return;touchesStart.x=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,touchesStart.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,app.params.swipePanelCloseOpposite&&($(".panel.active").length>0?side=$(".panel.active").hasClass("panel-left")?"left":"right":side=app.params.swipePanel),panel=$(".panel.panel-"+side);if(app.params.swipePanelActiveArea){if(side==="left"&&touchesStart.x>app.params.swipePanelActiveArea)return;if(side==="right"&&
touchesStart.x<window.innerWidth-app.params.swipePanelActiveArea)return}isMoved=!1,isTouched=true,isScrolling=undefined,touchStartTime=(new Date).getTime(),direction=undefined}function handleTouchMove(e){if(!isTouched)return;if(e.f7PreventPanelSwipe)return;var pageX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,pageY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;typeof isScrolling=="undefined"&&(isScrolling=!!(isScrolling||Math.abs(pageY-touchesStart.y)>Math.abs(pageX-touchesStart.x)));if(isScrolling){isTouched=!1;return}if(!direction){pageX>touchesStart.x?direction="to-right":direction="to-left";if(side==="left"&&direction==="to-left"&&!panel.hasClass("active")||side==="right"&&direction==="to-right"&&!panel.hasClass("active")){isTouched=!1;return}}if(app.params.swipePanelNoFollow){var timeDiff=(new Date).getTime()-touchStartTime;timeDiff<300&&(direction==="to-left"&&(side==="right"&&app.openPanel(side),side==="left"&&panel.hasClass("active")&&app.closePanel()),direction==="to-right"&&
(side==="left"&&app.openPanel(side),side==="right"&&panel.hasClass("active")&&app.closePanel())),isTouched=!1,isMoved=!1;return}isMoved||(effect=panel.hasClass("panel-cover")?"cover":"reveal",panel.show(),panelOverlay.show(),opened=panel.hasClass("active"),panelWidth=panel.width(),panel.transition(0),panel.find("."+app.params.viewClass).length>0&&app.sizeNavbars&&app.sizeNavbars(panel.find("."+app.params.viewClass)[0])),isMoved=true,e.preventDefault();var threshold=opened?0:-app.params.swipePanelThreshold;side==="right"&&(threshold=-threshold),touchesDiff=pageX-touchesStart.x+threshold,side==="right"?(translate=touchesDiff-(opened?panelWidth:0),translate>0&&(translate=0),translate<-panelWidth&&(translate=-panelWidth)):(translate=touchesDiff+(opened?panelWidth:0),translate<0&&(translate=0),translate>panelWidth&&(translate=panelWidth)),effect==="reveal"?(views.transform("translate3d("+translate+"px,0,0)").transition(0),panelOverlay.transform("translate3d("+translate+"px,0,0)"),app.pluginHook
("swipePanelSetTransform",views[0],panel[0],Math.abs(translate/panelWidth))):(panel.transform("translate3d("+translate+"px,0,0)").transition(0),app.pluginHook("swipePanelSetTransform",views[0],panel[0],Math.abs(translate/panelWidth)))}function handleTouchEnd(e){if(!isTouched||!isMoved){isTouched=!1,isMoved=!1;return}isTouched=!1,isMoved=!1;var timeDiff=(new Date).getTime()-touchStartTime,action,edge=translate===0||Math.abs(translate)===panelWidth;opened?translate===-panelWidth?action="reset":timeDiff<300&&Math.abs(translate)>=0||timeDiff>=300&&Math.abs(translate)<=panelWidth/2?side==="left"&&translate===panelWidth?action="reset":action="swap":action="reset":translate===0?action="reset":timeDiff<300&&Math.abs(translate)>0||timeDiff>=300&&Math.abs(translate)>=panelWidth/2?action="swap":action="reset",action==="swap"&&(app.allowPanelOpen=true,opened?(app.closePanel(),edge&&(panel.css({display:""}),$("body").removeClass("panel-closing"))):app.openPanel(side),edge&&(app.allowPanelOpen=true))
;if(action==="reset")if(opened)app.allowPanelOpen=true,app.openPanel(side);else{app.closePanel();if(edge)app.allowPanelOpen=true,panel.css({display:""});else{var target=effect==="reveal"?views:panel;$("body").addClass("panel-closing"),target.transitionEnd(function(){app.allowPanelOpen=true,panel.css({display:""}),$("body").removeClass("panel-closing")})}}effect==="reveal"&&(views.transition(""),views.transform("")),panel.transition("").transform(""),panelOverlay.css({display:""}).transform("")}$(document).on(app.touchEvents.start,handleTouchStart),$(document).on(app.touchEvents.move,handleTouchMove),$(document).on(app.touchEvents.end,handleTouchEnd)},app.initMessages=function(pageContainer){var page=$(pageContainer),messages=page.find(".messages");if(messages.length===0)return;var pageContent=page.find(".page-content");messages.hasClass("new-messages-first")||(pageContent[0].scrollTop=messages.height()-pageContent.height()),app.updateMessagesAngles(messages)},app.addMessage=function(props
){props=props||{},props.type=props.type||"sent";if(!props.text||props.length===0)return!1;var messagesContent=$(".messages-content");if(messagesContent.length===0)return!1;var messages=messagesContent.find(".messages"),newOnTop=messages.hasClass("new-messages-first"),html="";props.day&&(html+='<div class="messages-date">'+props.day+(props.time?",":"")+(props.time?" <span>"+props.time+"</span>":"")+"</div>");var isPic=props.text.indexOf("<img")>=0?"message-pic":"",withAvatar=props.avatar?"message-with-avatar":"",messageClass="message message-"+props.type+isPic+" "+withAvatar+" message-appear";html+='<div class="'+messageClass+'">'+(props.name?'<div class="message-name">'+props.name+"</div>":"")+'<div class="message-text">'+props.text+"</div>"+(props.avatar?'<div class="message-avatar" style="background-image:url('+props.avatar+')"></div>':"")+"</div>",newOnTop?messages.prepend(html):messages.append(html),app.updateMessagesAngles(messages),app.scrollMessagesContainer(messagesContent)},app
.updateMessagesAngles=function(messages){messages.find(".message").each(function(){var message=$(this);message.find(".message-text img").length>0&&message.addClass("message-pic"),message.find(".message-avatar").length>0&&message.addClass("message-with-avatar")}),messages.find(".message-sent").each(function(){var message=$(this),next=message.next(".message-sent"),prev=message.prev(".message-sent");next.length===0?message.addClass("message-last"):message.removeClass("message-last"),prev.length===0?message.addClass("message-first"):message.removeClass("message-first"),prev.length>0&&prev.find(".message-name").length>0&&message.find(".message-name").length>0&&prev.find(".message-name").text()!==message.find(".message-name").text()&&(prev.addClass("message-last"),message.addClass("message-first"))}),messages.find(".message-received").each(function(){var message=$(this),next=message.next(".message-received"),prev=message.prev(".message-received");next.length===0?message.addClass("message-last"
):message.removeClass("message-last"),prev.length===0?message.addClass("message-first"):message.removeClass("message-first"),prev.length>0&&prev.find(".message-name").length>0&&message.find(".message-name").length>0&&prev.find(".message-name").text()!==message.find(".message-name").text()&&(prev.addClass("message-last"),message.addClass("message-first"))})},app.scrollMessagesContainer=function(messagesContent){messagesContent=$(messagesContent||".messages-content");if(messagesContent.length===0)return;var messages=messagesContent.find(".messages"),newOnTop=messages.hasClass("new-messages-first"),currentScroll=messagesContent[0].scrollTop,newScroll=newOnTop?0:messages.height()-messagesContent.height();if(newScroll===currentScroll)return;messagesContent.scrollTop(newScroll,300)},app.swipeoutOpenedEl=undefined,app.allowSwipeout=true,app.initSwipeout=function(swipeoutEl){var isTouched,isMoved,isScrolling,touchesStart={},touchStartTime,touchesDiff,swipeOutEl,swipeOutContent,swipeOutActions,swipeOutActionsWidth
,translate,opened;$(document).on(app.touchEvents.start,function(e){if(app.swipeoutOpenedEl){var target=$(e.target);app.swipeoutOpenedEl.is(target[0])||target.parents(".swipeout").is(app.swipeoutOpenedEl)||target.hasClass("modal-in")||target.parents(".modal-in").length>0||target.hasClass("modal-overlay")||app.swipeoutClose(app.swipeoutOpenedEl)}});function handleTouchStart(e){if(!app.allowSwipeout)return;isMoved=!1,isTouched=true,isScrolling=undefined,touchesStart.x=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,touchesStart.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,touchStartTime=(new Date).getTime()}function handleTouchMove(e){if(!isTouched)return;var pageX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,pageY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;typeof isScrolling=="undefined"&&(isScrolling=!!(isScrolling||Math.abs(pageY-touchesStart.y)>Math.abs(pageX-touchesStart.x)));if(isScrolling){isTouched=!1;return}if(!isMoved){if($(".list-block.sortable-opened"
).length>0)return;swipeOutEl=$(this),swipeOutContent=swipeOutEl.find(".swipeout-content"),swipeOutActions=swipeOutEl.find(".swipeout-actions-inner"),swipeOutActionsWidth=swipeOutActions.width(),opened=swipeOutEl.hasClass("swipeout-opened"),swipeOutEl.removeClass("transitioning")}isMoved=true,e.preventDefault(),app.rtl&&(e.f7PreventSwipeBack=true),touchesDiff=pageX-touchesStart.x,translate=touchesDiff-(opened?swipeOutActionsWidth:0);if(translate>0){if(!opened){isTouched=isMoved=!1;return}translate=0}translate<-swipeOutActionsWidth&&(translate=-swipeOutActionsWidth-Math.pow(-translate-swipeOutActionsWidth,.8)),e.f7PreventPanelSwipe=true;if(app.params.swipeoutNoFollow){if(touchesDiff<0&&!opened){app.swipeoutOpen(swipeOutEl),isTouched=!1,isMoved=!1;return}if(touchesDiff>0&&opened){app.swipeoutClose(swipeOutEl),isTouched=!1,isMoved=!1;return}}else swipeOutEl.trigger("swipeout",{progress:Math.abs(translate/swipeOutActionsWidth)}),swipeOutContent.transform("translate3d("+translate+"px,0,0)")}function handleTouchEnd
(e){if(!isTouched||!isMoved){isTouched=!1,isMoved=!1;return}isTouched=!1,isMoved=!1;var timeDiff=(new Date).getTime()-touchStartTime;translate!==0&&translate!==-swipeOutActionsWidth&&(app.allowSwipeout=!1);var action;opened?timeDiff<300&&translate>-(swipeOutActionsWidth-10)||timeDiff>=300&&translate>-swipeOutActionsWidth/2?action="close":action="open":timeDiff<300&&translate<-10||timeDiff>=300&&translate<-swipeOutActionsWidth/2?action="open":action="close";if(action==="open"){app.swipeoutOpenedEl=swipeOutEl,swipeOutEl.trigger("open"),swipeOutEl.addClass("swipeout-opened transitioning");var newTranslate=-swipeOutActionsWidth;swipeOutContent.transform("translate3d("+newTranslate+"px,0,0)")}else swipeOutEl.trigger("close"),app.swipeoutOpenedEl=undefined,swipeOutEl.addClass("transitioning").removeClass("swipeout-opened"),swipeOutContent.transform("translate3d(0px,0,0)");translate<=-swipeOutActionsWidth?(opened||swipeOutEl.trigger("opened"),app.allowSwipeout=true):translate>=0?(opened&&swipeOutEl
.trigger("closed"),app.allowSwipeout=true):swipeOutContent.transitionEnd(function(){app.allowSwipeout=true,swipeOutEl.trigger(action==="open"?"opened":"closed")})}swipeoutEl?($(swipeoutEl).on(app.touchEvents.start,handleTouchStart),$(swipeoutEl).on(app.touchEvents.move,handleTouchMove),$(swipeoutEl).on(app.touchEvents.end,handleTouchEnd)):($(document).on(app.touchEvents.start,".list-block li.swipeout",handleTouchStart),$(document).on(app.touchEvents.move,".list-block li.swipeout",handleTouchMove),$(document).on(app.touchEvents.end,".list-block li.swipeout",handleTouchEnd))},app.swipeoutOpen=function(el){el=$(el);if(!el.hasClass("swipeout"))return;if(el.length===0)return;el.length>1&&(el=$(el[0])),el.trigger("open").addClass("transitioning swipeout-opened");var swipeOutActions=el.find(".swipeout-actions-inner"),translate=-swipeOutActions.width();el.find(".swipeout-content").transform("translate3d("+translate+"px,0,0)").transitionEnd(function(){el.trigger("opened")}),app.swipeoutOpenedEl=
el},app.swipeoutClose=function(el){el=$(el);if(el.length===0)return;app.allowSwipeout=!1,el.trigger("close"),el.removeClass("swipeout-opened").addClass("transitioning").find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){el.trigger("closed"),app.allowSwipeout=true}),app.swipeoutOpenedEl&&app.swipeoutOpenedEl[0]===el[0]&&(app.swipeoutOpenedEl=undefined)},app.swipeoutDelete=function(el){el=$(el);if(el.length===0)return;el.length>1&&(el=$(el[0])),app.swipeoutOpenedEl=undefined,el.trigger("delete"),el.css({height:el.outerHeight()+"px"});var clientLeft=el[0].clientLeft;el.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){el.trigger("deleted"),el.remove()});var translate="-100%";el.find(".swipeout-content").transform("translate3d("+translate+",0,0)")},app.sortableToggle=function(sortableContainer){return sortableContainer=$(sortableContainer),sortableContainer.length===0&&(sortableContainer=$(".list-block.sortable")),sortableContainer
.toggleClass("sortable-opened"),sortableContainer.hasClass("sortable-opened")?sortableContainer.trigger("open"):sortableContainer.trigger("close"),sortableContainer},app.sortableOpen=function(sortableContainer){return sortableContainer=$(sortableContainer),sortableContainer.length===0&&(sortableContainer=$(".list-block.sortable")),sortableContainer.addClass("sortable-opened"),sortableContainer.trigger("open"),sortableContainer},app.sortableClose=function(sortableContainer){return sortableContainer=$(sortableContainer),sortableContainer.length===0&&(sortableContainer=$(".list-block.sortable")),sortableContainer.removeClass("sortable-opened"),sortableContainer.trigger("close"),sortableContainer},app.initSortable=function(){var isTouched,isMoved,touchStartY,touchesDiff,sortingEl,sortingItems,minTop,maxTop,insertAfter,insertBefore,sortableContainer;function handleTouchStart(e){isMoved=!1,isTouched=true,touchStartY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,sortingEl=$(this).parent
(),sortingItems=sortingEl.parent().find("li"),sortableContainer=sortingEl.parents(".sortable"),e.preventDefault(),app.allowsPanelOpen=app.allowSwipeout=!1}function handleTouchMove(e){if(!isTouched||!sortingEl)return;var pageX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,pageY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;isMoved||(sortingEl.addClass("sorting"),sortableContainer.addClass("sortable-sorting"),minTop=sortingEl[0].offsetTop,maxTop=sortingEl.parent().height()-sortingEl[0].offsetTop-sortingEl.height()),isMoved=true,e.preventDefault(),e.f7PreventPanelSwipe=true,touchesDiff=pageY-touchStartY;var translate=touchesDiff;translate<-minTop&&(translate=-minTop),translate>maxTop&&(translate=maxTop),sortingEl.transform("translate3d(0,"+translate+"px,0)"),insertBefore=insertAfter=undefined,sortingItems.each(function(){var currentEl=$(this);if(currentEl[0]===sortingEl[0])return;var currentElOffset=currentEl[0].offsetTop,currentElHeight=currentEl.height(),sortingElOffset=sortingEl
[0].offsetTop+translate;sortingElOffset>=currentElOffset-currentElHeight/2&&sortingEl.index()<currentEl.index()?(currentEl.transform("translate3d(0,-100%,0)"),insertAfter=currentEl,insertBefore=undefined):sortingElOffset<=currentElOffset+currentElHeight/2&&sortingEl.index()>currentEl.index()?($(this).transform("translate3d(0,100%,0)"),insertAfter=undefined,insertBefore||(insertBefore=currentEl)):$(this).transform("translate3d(0, 0%,0)")})}function handleTouchEnd(e){app.allowsPanelOpen=app.allowSwipeout=true;if(!isTouched||!isMoved){isTouched=!1,isMoved=!1;return}e.preventDefault(),sortingItems.transform(""),sortingEl.removeClass("sorting"),sortableContainer.removeClass("sortable-sorting"),insertAfter&&(sortingEl.insertAfter(insertAfter),sortingEl.trigger("sort")),insertBefore&&(sortingEl.insertBefore(insertBefore),sortingEl.trigger("sort")),insertAfter=insertBefore=undefined,isTouched=!1,isMoved=!1}$(document).on(app.touchEvents.start,".list-block.sortable .sortable-handler",handleTouchStart
),app.support.touch?($(document).on(app.touchEvents.move,".list-block.sortable .sortable-handler",handleTouchMove),$(document).on(app.touchEvents.end,".list-block.sortable .sortable-handler",handleTouchEnd)):($(document).on(app.touchEvents.move,handleTouchMove),$(document).on(app.touchEvents.end,handleTouchEnd))},app.initSmartSelects=function(pageContainer){var page=$(pageContainer);if(page.length===0)return;var selects=page.find(".smart-select");if(selects.length===0)return;selects.each(function(){var smartSelect=$(this),$select=smartSelect.find("select");if($select.length===0)return;var select=$select[0];if(select.length===0)return;var valueText=[];for(var i=0;i<select.length;i++)select[i].selected&&valueText.push(select[i].textContent.trim());var itemAfter=smartSelect.find(".item-after");itemAfter.length===0?smartSelect.find(".item-inner").append('<div class="item-after">'+valueText.join(", ")+"</div>"):itemAfter.text(valueText)})},app.smartSelectOpen=function(smartSelect){smartSelect=
$(smartSelect);if(smartSelect.length===0)return;var view=smartSelect.parents("."+app.params.viewClass);if(view.length===0)return;view=view[0].f7View;if(!view)return;var select=smartSelect.find("select")[0],$select=$(select);if(select.disabled||smartSelect.hasClass("disabled")||$select.hasClass("disabled"))return;var values={};values.length=select.length;var option;for(var i=0;i<select.length;i++)option=$(select[i]),values[i]={value:select[i].value,text:select[i].textContent.trim(),selected:select[i].selected,group:option.parent("optgroup")[0],image:option.attr("data-option-image")||$select.attr("data-option-image"),icon:option.attr("data-option-icon")||$select.attr("data-option-icon"),disabled:select[i].disabled};var pageTitle=smartSelect.attr("data-page-title")||smartSelect.find(".item-title").text(),backText=smartSelect.attr("data-back-text")||app.params.smartSelectBackText,backOnSelect=smartSelect.attr("data-back-onselect")?smartSelect.attr("data-back-onselect")==="true"?true:!1:app.
params.smartSelectBackOnSelect,id=(new Date).getTime(),inputType=select.multiple?"checkbox":"radio",inputName=inputType+"-"+id,inputsHTML="",previousGroup;for(var j=0;j<values.length;j++){if(values[j].disabled)continue;var checked=values[j].selected?"checked":"";values[j].group&&values[j].group!==previousGroup&&(inputsHTML+='<li class="item-divider">'+values[j].group.label+"</li>",previousGroup=values[j].group);var media="";inputType==="checkbox"&&(media+='<i class="icon icon-form-checkbox"></i>'),values[j].icon&&(media+='<i class="icon '+values[j].icon+'"></i>'),values[j].image&&(media+='<img src="'+values[j].image+'">'),inputsHTML+='<li><label class="label-'+inputType+' item-content">'+'<input type="'+inputType+'" name="'+inputName+'" value="'+values[j].value+'" '+checked+">"+(media!==""?'<div class="item-media">'+media+"</div>":"")+'<div class="item-inner">'+'<div class="item-title">'+values[j].text+"</div>"+"</div>"+"</label>"+"</li>"}var navbarHTML='<div class="navbar">  <div class="navbar-inner">'+
app.params.smartSelectBackTemplate.replace(/{{backText}}/g,backText)+'    <div class="center sliding">'+pageTitle+"</div>"+"  </div>"+"</div>",navbarLayout="static";smartSelect.parents(".navbar-through").length>0&&(navbarLayout="through"),smartSelect.parents(".navbar-fixed").length>0&&(navbarLayout="fixed");var pageName="smart-select-"+inputName,noToolbar=smartSelect.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",noNavbar=smartSelect.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+navbarLayout,useSearchbar=typeof smartSelect.data("searchbar")=="undefined"?app.params.smartSelectSearchbar:smartSelect.data("searchbar")==="true"?true:!1,searchbarPlaceholder,searchbarCancel;useSearchbar&&(searchbarPlaceholder=smartSelect.data("searchbar-placeholder")||"Search",searchbarCancel=smartSelect.data("searchbar-cancel")||"Cancel");var searchbarHTML='<form class="searchbar" data-search-list=".smart-select-list-'+id+'" data-search-in=".item-title">'+'<div class="searchbar-input">'+'<input type="search" placeholder="'+
searchbarPlaceholder+'">'+'<a href="#" class="searchbar-clear"></a>'+"</div>"+'<a href="#" class="searchbar-cancel">'+searchbarCancel+"</a>"+"</form>"+'<div class="searchbar-overlay"></div>',pageHTML=(navbarLayout==="through"?navbarHTML:"")+'<div class="pages">'+'  <div data-page="'+pageName+'" class="page smart-select-page '+noNavbar+" "+noToolbar+'">'+(navbarLayout==="fixed"?navbarHTML:"")+(useSearchbar?searchbarHTML:"")+'    <div class="page-content">'+(navbarLayout==="static"?navbarHTML:"")+'      <div class="list-block smart-select-list-'+id+'">'+"        <ul>"+inputsHTML+"        </ul>"+"      </div>"+"    </div>"+"  </div>"+"</div>";function handleInputs(e){var page=e.detail.page;page.name===pageName&&($(document).off("pageInit",handleInputs),$(page.container).find('input[name="'+inputName+'"]').on("change",function(){var input=this,value=input.value,optionText=[];if(input.type==="checkbox"){var values=[];for(var i=0;i<select.options.length;i++){var option=select.options[i];option
.value===value&&(option.selected=input.checked),option.selected&&optionText.push(option.textContent.trim())}}else optionText=[smartSelect.find('option[value="'+value+'"]').text()],select.value=value;$select.trigger("change"),smartSelect.find(".item-after").text(optionText.join(", ")),backOnSelect&&inputType==="radio"&&view.goBack()}))}$(document).on("pageInit",handleInputs),view.loadContent(pageHTML)},app.initPullToRefresh=function(pageContainer){var eventsTarget=$(pageContainer);eventsTarget.hasClass("pull-to-refresh-content")||(eventsTarget=eventsTarget.find(".pull-to-refresh-content"));if(eventsTarget.length===0)return;var isTouched,isMoved,touchesStart={},isScrolling,touchesDiff,touchStartTime,container,refresh=!1,useTranslate=!1,startTranslate=0,translate,scrollTop;container=eventsTarget;function handleTouchStart(e){if(isTouched){if(app.device.os!=="android")return;if("targetTouches"in e&&e.targetTouches.length>1)return}isMoved=!1,isTouched=true,isScrolling=undefined,touchesStart.x=
e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,touchesStart.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,touchStartTime=(new Date).getTime()}function handleTouchMove(e){if(!isTouched)return;var pageX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,pageY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;typeof isScrolling=="undefined"&&(isScrolling=!!(isScrolling||Math.abs(pageY-touchesStart.y)>Math.abs(pageX-touchesStart.x)));if(!isScrolling){isTouched=!1;return}scrollTop=container[0].scrollTop;if(!isMoved){container.removeClass("transitioning");if(scrollTop>container[0].offsetHeight){isTouched=!1;return}startTranslate=container.hasClass("refreshing")?44:0,container[0].scrollHeight===container[0].offsetHeight||app.device.os!=="ios"?useTranslate=true:useTranslate=!1}isMoved=true,touchesDiff=pageY-touchesStart.y;if(!(touchesDiff>0&&scrollTop<=0||scrollTop<0)){container.removeClass("pull-up"),refresh=!1;return}useTranslate&&(e.preventDefault(),translate=Math.pow
(touchesDiff,.85)+startTranslate,container.transform("translate3d(0,"+translate+"px,0)")),useTranslate&&Math.pow(touchesDiff,.85)>44||!useTranslate&&touchesDiff>=88?(refresh=true,container.addClass("pull-up")):(refresh=!1,container.removeClass("pull-up"))}function handleTouchEnd(e){if(!isTouched||!isMoved){isTouched=!1,isMoved=!1;return}translate&&(container.addClass("transitioning"),translate=0),container.transform(""),refresh&&(container.addClass("refreshing"),container.trigger("refresh",{done:function(){app.pullToRefreshDone(container)}})),isTouched=!1,isMoved=!1}eventsTarget.on(app.touchEvents.start,handleTouchStart),eventsTarget.on(app.touchEvents.move,handleTouchMove),eventsTarget.on(app.touchEvents.end,handleTouchEnd);var page=eventsTarget.hasClass("page")?eventsTarget:eventsTarget.parents(".page");if(page.length===0)return;function detachEvents(){eventsTarget.off(app.touchEvents.start,handleTouchStart),eventsTarget.off(app.touchEvents.move,handleTouchMove),eventsTarget.off(app.touchEvents
.end,handleTouchEnd),page.off("pageBeforeRemove",detachEvents)}page.on("pageBeforeRemove",detachEvents)},app.pullToRefreshDone=function(container){container=$(container),container.length===0&&(container=$(".pull-to-refresh-content.refreshing")),container.removeClass("refreshing").addClass("transitioning"),container.transitionEnd(function(){container.removeClass("transitioning pull-up")})},app.pullToRefreshTrigger=function(container){container=$(container),container.length===0&&(container=$(".pull-to-refresh-content"));if(container.hasClass("refreshing"))return;container.addClass("transitioning refreshing"),container.trigger("refresh",{done:function(){app.pullToRefreshDone(container)}})};function handleInfiniteScroll(){var inf=this,scrollTop=inf.scrollTop,scrollHeight=inf.scrollHeight,height=inf.offsetHeight,distance=inf.getAttribute("data-distance");distance||(distance=50),typeof distance=="string"&&distance.indexOf("%")>=0&&(distance=parseInt(distance,10)/100*height),distance>height&&(
distance=height),scrollTop+height>=scrollHeight-distance&&$(inf).trigger("infinite")}app.attachInfiniteScroll=function(infiniteContent){$(infiniteContent).on("scroll",handleInfiniteScroll)},app.detachInfiniteScroll=function(infiniteContent){$(infiniteContent).off("scroll",handleInfiniteScroll)},app.initInfiniteScroll=function(pageContainer){pageContainer=$(pageContainer);var infiniteContent=pageContainer.find(".infinite-scroll");app.attachInfiniteScroll(infiniteContent);function detachEvents(){app.detachInfiniteScroll(infiniteContent),pageContainer.off("pageBeforeRemove",detachEvents)}pageContainer.on("pageBeforeRemove",detachEvents)},app.showTab=function(tab,tabLink){var newTab=$(tab);if(newTab.hasClass("active"))return!1;if(newTab.length===0)return!1;var tabs=newTab.parent(".tabs");if(tabs.length===0)return!1;app.allowSwipeout=true;var isAnimatedTabs=tabs.parent().hasClass("tabs-animated-wrap");isAnimatedTabs&&tabs.transform("translate3d("+ -newTab.index()*100+"%,0,0)");var oldTab=tabs
.children(".tab.active").removeClass("active");newTab.addClass("active"),newTab.trigger("show");if(!isAnimatedTabs&&newTab.find(".navbar").length>0){var viewContainer;newTab.hasClass(app.params.viewClass)?viewContainer=newTab[0]:viewContainer=newTab.parents("."+app.params.viewClass)[0],app.sizeNavbars(viewContainer)}tabLink?tabLink=$(tabLink):(typeof tab=="string"?tabLink=$('.tab-link[href="'+tab+'"]'):tabLink=$('.tab-link[href="#'+newTab.attr("id")+'"]'),tabLink.length===0&&$("[data-tab]").each(function(){newTab.is($(this).attr("data-tab"))&&(tabLink=$(this))}));if(tabLink.length===0)return;var oldTabLink;if(oldTab&&oldTab.length>0){var oldTabId=oldTab.attr("id");oldTabId&&(oldTabLink=$('.tab-link[href="#'+oldTabId+'"]')),oldTabLink.length===0&&$("[data-tab]").each(function(){oldTab.is($(this).attr("data-tab"))&&(oldTabLink=$(this))})}return tabLink&&tabLink.length>0&&tabLink.addClass("active"),oldTabLink&&oldTabLink.length>0&&oldTabLink.removeClass("active"),true},app.accordionToggle=
function(item){item=$(item);if(item.length===0)return;item.hasClass("accordion-item-expanded")?app.accordionClose(item):app.accordionOpen(item)},app.accordionOpen=function(item){item=$(item);var list=item.parents(".accordion-list"),content=item.find(".accordion-item-content"),expandedItem=list.find(".accordion-item-expanded");expandedItem.length>0&&app.accordionClose(expandedItem),content.css("height",content[0].scrollHeight+"px").transitionEnd(function(){if(item.hasClass("accordion-item-expanded")){content.transition(0),content.css("height","auto");var clientLeft=content[0].clientLeft;content.transition("")}else content.css("height","")}),item.addClass("accordion-item-expanded")},app.accordionClose=function(item){item=$(item);var content=item.find(".accordion-item-content");item.removeClass("accordion-item-expanded"),content.transition(0),content.css("height",content[0].scrollHeight+"px");var clientLeft=content[0].clientLeft;content.transition(""),content.css("height","").transitionEnd
(function(){if(item.hasClass("accordion-item-expanded")){content.transition(0),content.css("height","auto");var clientLeft=content[0].clientLeft;content.transition("")}else content.css("height","")})},app.initFastClicks=function(){if(!app.support.touch)return;var touchStartX,touchStartY,touchStartTime,targetElement,trackClick,activeSelection,scrollParent,lastClickTime,isMoved;function androidNeedsBlur(el){var noBlur="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&el!==document.activeElement&&document.activeElement!==document.body?noBlur.indexOf(el.nodeName.toLowerCase())>=0?!1:true:!1}function targetNeedsFocus(el){if(document.activeElement===el)return!1;var tag=el.nodeName.toLowerCase(),skipInputs="button checkbox file image radio submit".split(" ");if(el.disabled||el.readOnly)return!1;if(tag==="textarea")return true;if(tag==="select")return app.device.os==="android"?!1:true;if(tag==="input"&&skipInputs.indexOf(el.type)<0)return true}function targetNeedsPrevent
(el){el=$(el);if(el.is("label")||el.parents("label").length>0){if(app.device.os==="android"){var osv=app.device.osVersion.split(".");return osv[0]*1>4||osv[0]*1===4&&osv[1]*1>=4?!1:true}return!1}return true}function handleTouchStart(e){isMoved=!1;if(e.targetTouches.length>1)return true;if(app.device.os==="ios"){var selection=window.getSelection();if(selection.rangeCount&&(!selection.isCollapsed||document.activeElement===selection.focusNode))return activeSelection=true,true;activeSelection=!1}app.device.os==="android"&&androidNeedsBlur(e.target)&&document.activeElement.blur(),trackClick=true,targetElement=e.target,touchStartTime=(new Date).getTime(),touchStartX=e.targetTouches[0].pageX,touchStartY=e.targetTouches[0].pageY,app.device.os==="ios"&&(scrollParent=undefined,$(targetElement).parents().each(function(){var parent=this;parent.scrollHeight>parent.offsetHeight&&!scrollParent&&(scrollParent=parent,scrollParent.f7ScrollTop=scrollParent.scrollTop)})),e.timeStamp-lastClickTime<200&&e.preventDefault
()}function handleTouchMove(e){if(!trackClick)return;trackClick=!1,targetElement=null,isMoved=true}function handleTouchEnd(e){if(!trackClick)return activeSelection||e.preventDefault(),true;if(document.activeElement===e.target)return true;activeSelection||e.preventDefault();if(e.timeStamp-lastClickTime<200)return true;lastClickTime=e.timeStamp,touchStartTime=0,trackClick=!1;if(app.device.os==="ios"&&scrollParent&&scrollParent.scrollTop!==scrollParent.f7ScrollTop)return!1;targetNeedsFocus(targetElement)&&targetElement.focus(),e.preventDefault();var touch=e.changedTouches[0],evt=document.createEvent("MouseEvents"),eventType="click";return app.device.os==="android"&&targetElement.nodeName.toLowerCase()==="select"&&(eventType="mousedown"),evt.initMouseEvent(eventType,true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),evt.forwardedTouchEvent=true,targetElement.dispatchEvent(evt),!1}function handleTouchCancel(e){trackClick=!1,targetElement=null}function handleClick
(e){var allowClick=!1;return trackClick?(targetElement=null,trackClick=!1,true):e.target.type==="submit"&&e.detail===0?true:(targetElement||(allowClick=true),document.activeElement===targetElement&&(allowClick=true),e.forwardedTouchEvent&&(allowClick=true),e.cancelable||(allowClick=true),allowClick||(e.stopImmediatePropagation(),e.stopPropagation(),targetElement?(targetNeedsPrevent(targetElement)||isMoved)&&e.preventDefault():e.preventDefault(),targetElement=null),allowClick)}document.addEventListener("click",handleClick,true),$(document).on("touchstart",handleTouchStart),$(document).on("touchmove",handleTouchMove),$(document).on("touchend",handleTouchEnd),$(document).on("touchcancel",handleTouchCancel)},app.initClickEvents=function(){function handleClicks(e){var clicked=$(this),url=clicked.attr("href"),isLink=clicked[0].nodeName.toLowerCase()==="a";if(isLink)for(var i=0;i<app.params.externalLinks.length;i++){if(clicked.hasClass(app.params.externalLinks[i]))return;if(clicked[0].rel===app
.params.externalLinks[i])return}clicked.hasClass("smart-select")&&app.smartSelectOpen&&app.smartSelectOpen(clicked),clicked.hasClass("open-panel")&&($(".panel").length===1?$(".panel").hasClass("panel-left")?app.openPanel("left"):app.openPanel("right"):clicked.attr("data-panel")==="right"?app.openPanel("right"):app.openPanel("left")),clicked.hasClass("close-panel")&&app.closePanel(),clicked.hasClass("panel-overlay")&&app.params.panelsCloseByOutside&&app.closePanel();if(clicked.hasClass("open-popover")){var popover;clicked.attr("data-popover")?popover=clicked.attr("data-popover"):popover=".popover",app.popover(popover,clicked)}clicked.hasClass("close-popover")&&app.closeModal(".popover.modal-in");var popup;clicked.hasClass("open-popup")&&(clicked.attr("data-popup")?popup=clicked.attr("data-popup"):popup=".popup",app.popup(popup)),clicked.hasClass("close-popup")&&(clicked.attr("data-popup")?popup=clicked.attr("data-popup"):popup=".popup.modal-in",app.closeModal(popup));var loginScreen;clicked
.hasClass("open-login-screen")&&(clicked.attr("data-login-screen")?loginScreen=clicked.attr("data-login-screen"):loginScreen=".login-screen",app.loginScreen(loginScreen)),clicked.hasClass("close-login-screen")&&app.closeModal(".login-screen.modal-in"),clicked.hasClass("modal-overlay")&&($(".modal.modal-in").length>0&&app.params.modalCloseByOutside&&app.closeModal(".modal.modal-in"),$(".actions-modal.modal-in").length>0&&app.params.actionsCloseByOutside&&app.closeModal(".actions-modal.modal-in"),$(".popover.modal-in").length>0&&app.closeModal(".popover.modal-in")),clicked.hasClass("popup-overlay")&&$(".popup.modal-in").length>0&&app.params.popupCloseByOutside&&app.closeModal(".popup.modal-in"),clicked.hasClass("tab-link")&&app.showTab(clicked.attr("data-tab")||clicked.attr("href"),clicked);if(clicked.hasClass("swipeout-delete"))if(clicked.attr("data-confirm")){var text=clicked.attr("data-confirm"),title=clicked.attr("data-confirm-title");title?app.confirm(text,title,function(){app.swipeoutDelete
(clicked.parents(".swipeout"))}):app.confirm(text,function(){app.swipeoutDelete(clicked.parents(".swipeout"))})}else app.swipeoutDelete(clicked.parents(".swipeout"));clicked.hasClass("toggle-sortable")&&app.sortableToggle(clicked.data("sortable")),clicked.hasClass("open-sortable")&&app.sortableOpen(clicked.data("sortable")),clicked.hasClass("close-sortable")&&app.sortableClose(clicked.data("sortable"));if(clicked.hasClass("accordion-item-toggle")||clicked.hasClass("item-link")&&clicked.parent().hasClass("accordion-item")){var accordionItem=clicked.parents(".accordion-item");accordionItem.length===0&&(accordionItem=clicked.parents("li")),app.accordionToggle(accordionItem)}if(app.params.ajaxLinks&&!clicked.is(app.params.ajaxLinks)||!isLink)return;isLink&&e.preventDefault();var validUrl=url&&url.length>0&&url.indexOf("#")!==0;if(validUrl||clicked.hasClass("back")){var view;clicked.attr("data-view")?view=$(clicked.attr("data-view"))[0].f7View:(view=clicked.parents("."+app.params.viewClass)[0
]&&clicked.parents("."+app.params.viewClass)[0].f7View,view&&view.params.linksView&&(view=$(view.params.linksView)[0].f7View));if(!view)for(var i=0;i<app.views.length;i++)app.views[i].main&&(view=app.views[i]);if(!view)return;var animatePages;clicked.hasClass("no-animation")&&(animatePages=!1),clicked.hasClass("with-animation")&&(animatePages=true),clicked.hasClass("back")?view.goBack(clicked.attr("href"),animatePages):view.loadPage(clicked.attr("href"),animatePages)}}$(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",handleClicks)};function _fixIpadBodyScrolLeft(){app.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}app.initResize=function(){$(window).on("resize",app.resize),$(window).on("orientationchange"
,app.orientationchange)},app.resize=function(){app.sizeNavbars&&app.sizeNavbars(),_fixIpadBodyScrolLeft()},app.orientationchange=function(){app.device&&app.device.minimalUi&&(window.orientation===90||window.orientation===-90)&&(document.body.scrollTop=0),_fixIpadBodyScrolLeft()},app.formsData={},app.formStoreData=function(formId,formJSON){app.formsData[formId]=formJSON,app.ls["f7form-"+formId]=JSON.stringify(formJSON)},app.formDeleteData=function(formId){app.formsData[formId]&&(app.formsData[formId]="",delete app.formsData[formId]),app.ls["f7form-"+formId]&&(app.ls["f7form-"+formId]="",delete app.ls["f7form-"+formId])},app.formGetData=function(formId){if(app.ls["f7form-"+formId])return JSON.parse(app.ls["f7form-"+formId]);if(app.formsData[formId])return app.formsData[formId]},app.formToJSON=function(form){form=$(form);if(form.length!==1)return!1;var formData={},skipTypes=["submit","image","button","file"],skipNames=[];return form.find("input, select, textarea").each(function(){var input=
$(this),name=input.attr("name"),type=input.attr("type"),tag=this.nodeName.toLowerCase();if(skipTypes.indexOf(type)>=0)return;if(skipNames.indexOf(name)>=0||!name)return;if(tag==="select"&&input.attr("multiple"))skipNames.push(name),formData[name]=[],form.find('select[name="'+name+'"] option').each(function(){this.selected&&formData[name].push(this.value)});else switch(type){case"checkbox":skipNames.push(name),formData[name]=[],form.find('input[name="'+name+'"]').each(function(){this.checked&&formData[name].push(this.value)});break;case"radio":skipNames.push(name),form.find('input[name="'+name+'"]').each(function(){this.checked&&(formData[name]=this.value)});break;default:formData[name]=input.val()}}),formData},app.formFromJSON=function(form,formData){form=$(form);if(form.length!==1)return!1;var skipTypes=["submit","image","button","file"],skipNames=[];form.find("input, select, textarea").each(function(){var input=$(this),name=input.attr("name"),type=input.attr("type"),tag=this.nodeName.
toLowerCase();if(!formData[name])return;if(skipTypes.indexOf(type)>=0)return;if(skipNames.indexOf(name)>=0||!name)return;if(tag==="select"&&input.attr("multiple"))skipNames.push(name),form.find('select[name="'+name+'"] option').each(function(){formData[name].indexOf(this.value)>=0?this.selected=true:this.selected=!1});else switch(type){case"checkbox":skipNames.push(name),form.find('input[name="'+name+'"]').each(function(){formData[name].indexOf(this.value)>=0?this.checked=true:this.checked=!1});break;case"radio":skipNames.push(name),form.find('input[name="'+name+'"]').each(function(){formData[name]===this.value?this.checked=true:this.checked=!1});break;default:input.val(formData[name])}})},app.initFormsStorage=function(pageContainer){pageContainer=$(pageContainer);if(pageContainer.length===0)return;var forms=pageContainer.find("form.store-data");if(forms.length===0)return;forms.each(function(){var id=this.getAttribute("id");if(!id)return;var formData=app.formGetData(id);formData&&app.formFromJSON
(this,formData)});function storeForm(){var form=$(this),formId=form[0].id;if(!formId)return;var formJSON=app.formToJSON(form);if(!formJSON)return;app.formStoreData(formId,formJSON),form.trigger("store",{data:formJSON})}forms.on("change submit",storeForm);function pageBeforeRemove(){forms.off("change submit",storeForm),pageContainer.off("pageBeforeRemove",pageBeforeRemove)}pageContainer.on("pageBeforeRemove",pageBeforeRemove)},$(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var form=$(this);if(e.type==="change"&&!form.hasClass("ajax-submit-onchange"))return;e.type==="submit"&&e.preventDefault();var method=form.attr("method")||"GET",contentType=form.attr("enctype"),url=form.attr("action");if(!url)return;var data;method==="POST"?data=new FormData(form[0]):data=$.serializeObject(app.formToJSON(form[0]));var xhr=$.ajax({method:method,url:url,contentType:contentType,data:data,success:function(data){form.trigger("submitted",{data:data,xhr:xhr})}})}),app
.pushStateQueue=[],app.pushStateClearQueue=function(){if(app.pushStateQueue.length===0)return;var queue=app.pushStateQueue.pop(),animatePages;app.params.pushStateNoAnimation===true&&(animatePages=!1),queue.action==="goBack"&&app.goBack(queue.view,undefined,animatePages,!1,!1),queue.action==="loadPage"&&app.loadPage(queue.view,queue.stateUrl,animatePages,!1),queue.action==="loadContent"&&app.loadContent(queue.view,queue.stateContent,animatePages,!1)},app.initPushState=function(){var blockPopstate=true;$(window).on("load",function(){setTimeout(function(){blockPopstate=!1},0)});function handlePopState(e){if(blockPopstate)return;var mainView;for(var i=0;i<app.views.length;i++)app.views[i].main&&(mainView=app.views[i]);if(!mainView)return;var state=e.state;state||(state={url:mainView.history[0]});var stateUrl=state&&state.url||undefined,stateContent=state&&state.content||undefined,animatePages;app.params.pushStateNoAnimation===true&&(animatePages=!1),stateUrl!==mainView.url&&(mainView.history
.indexOf(stateUrl)>=0?mainView.allowPageChange?app.goBack(mainView,undefined,animatePages,!1,!1):app.pushStateQueue.push({action:"goBack",view:mainView}):stateUrl&&!stateContent?mainView.allowPageChange?app.loadPage(mainView,stateUrl,animatePages,!1):app.pushStateQueue.unshift({action:"loadPage",stateUrl:stateUrl,view:mainView}):stateContent&&(mainView.allowPageChange?app.loadContent(mainView,stateContent,animatePages,!1):app.pushStateQueue.unshift({action:"loadContent",stateContent:stateContent,view:mainView})))}$(window).on("popstate",handlePopState)};var Slider=function(container,params){var defaults={initialSlide:0,spaceBetween:0,speed:300,slidesPerView:1,direction:"horizontal",paginationHide:true,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:true,preventClicksPropagation
:true,autoplay:!1,autoplayDisableOnInteraction:true};params=params||{};for(var def in defaults)typeof params[def]=="undefined"&&(params[def]=defaults[def]);var s=this;s.params=params,s.container=$(container);if(s.container.length===0)return;s.container[0].f7Slider=s,s.params.direction==="vertical"?s.container.addClass("slider-container-vertical"):s.container.addClass("slider-container-horizontal"),s.wrapper=s.container.children("."+s.params.wrapperClass),s.params.pagination&&(s.paginationContainer=$(s.params.pagination)),s.activeSlideIndex=s.previousSlideIndex=s.params.initialSlide||0;var isH=s.params.direction==="horizontal",inverter=isH?app.rtl?-1:1:1;s.updateSlides=function(){s.slides=s.wrapper.children("."+s.params.slideClass);if(s.params.spaceBetween!==0){var marginProp=app.rtl?"margin-left":"margin-right";isH?s.slides.css(marginProp,s.params.spaceBetween+"px"):s.slides.css({marginBottom:s.params.spaceBetween+"px"})}if(s.params.slidesPerView>1){var sizeValue="(100% - "+(s.params.slidesPerView-1
)*params.spaceBetween+"px)/"+s.params.slidesPerView;isH?(s.slides.css("width","-webkit-calc("+sizeValue+")"),s.slides.css("width","-moz-calc("+sizeValue+")"),s.slides.css("width","calc("+sizeValue+")")):(s.slides.css("height","-webkit-calc("+sizeValue+")"),s.slides.css("height","-moz-calc("+sizeValue+")"),s.slides.css("height","calc("+sizeValue+")"))}},s.updatePagination=function(){if(s.paginationContainer&&s.paginationContainer.length>0){var bulletsHTML="";for(var i=0;i<s.slides.length-s.params.slidesPerView+1;i++)bulletsHTML+='<span class="'+s.params.bulletClass+'"></span>';s.paginationContainer.html(bulletsHTML),s.bullets=s.paginationContainer.find("."+s.params.bulletClass)}},s.updateSize=function(){s.width=s.container[0].offsetWidth,s.height=s.container[0].offsetHeight,s.size=isH?s.width:s.height},s.attachEvents=function(detach){var action=detach?"off":"on";s.container[action](app.touchEvents.start,s.onTouchStart),s.container[action](app.touchEvents.move,s.onTouchMove),s.container[action
](app.touchEvents.end,s.onTouchEnd),$(window)[action]("resize",s.onResize),s.params.nextButton&&$(s.params.nextButton)[action]("click",s.onClickNext),s.params.prevButton&&$(s.params.prevButton)[action]("click",s.onClickPrev),s.params.indexButton&&$(s.params.indexButton)[action]("click",s.onClickIndex),s.params.preventClicks&&s.container[action]("click",s.onClick)},s.detachEvents=function(){s.attachEvents(true)},s.onResize=function(){s.updateSize(),s.slideTo(s.activeSlideIndex,0,!1)};var isTouched,isMoved,touchesStart={},touchesCurrent={},touchStartTime,isScrolling,currentTranslate,animating=!1,lastClickTime=Date.now(),clickTimeout;s.allowClick=true,s.onClick=function(e){s.params.preventClicks&&!s.allowClick&&(e.preventDefault(),s.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},s.onTouchStart=function(e){isTouched=true,isMoved=!1,isScrolling=undefined,touchesStart.x=touchesCurrent.x=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,touchesStart.
y=touchesCurrent.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY,touchStartTime=Date.now(),s.allowClick=true,s.updateSize(),s.params.onTouchStart&&s.params.onTouchStart(s,e),e.type==="mousedown"&&e.preventDefault()},s.onTouchMove=function(e){s.params.onTouchMove&&s.params.onTouchMove(s,e),s.allowClick=!1;if(e.targetTouches&&e.targetTouches.length>1)return;touchesCurrent.x=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,touchesCurrent.y=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY,typeof isScrolling=="undefined"&&(isScrolling=!!(isScrolling||Math.abs(touchesCurrent.y-touchesStart.y)>Math.abs(touchesCurrent.x-touchesStart.x))),(isH&&isScrolling||!isH&&!isScrolling)&&s.params.onOppositeTouchMove&&s.params.onOppositeTouchMove(s,e);if(!isTouched)return;if(isH&&isScrolling||!isH&&!isScrolling){isTouched=!1;return}s.params.onSliderMove&&s.params.onSliderMove(s,e),e.preventDefault(),e.stopPropagation(),isMoved||(currentTranslate=$.getTranslate(s.wrapper[0],isH?"x":"y")*inverter
,s.wrapper.transition(0),animating&&s.onSlideChangeEnd(),params.autoplay&&autoplay&&(s.params.autoplayDisableOnInteraction?s.stopAutoplay():autoplayTimeout&&clearTimeout(autoplayTimeout))),isMoved=true;var diff=isH?(touchesCurrent.x-touchesStart.x)*inverter:touchesCurrent.y-touchesStart.y;diff>0&&s.activeSlideIndex===0?diff=Math.pow(diff,.85):diff<0&&s.activeSlideIndex===s.slides.length-s.params.slidesPerView&&(diff=-Math.pow(-diff,.85));var translateX=isH?(diff+currentTranslate)*inverter:0,translateY=isH?0:diff+currentTranslate;s.wrapper.transform("translate3d("+translateX+"px, "+translateY+"px,0)")},s.onTouchEnd=function(e){s.params.onTouchEnd&&s.params.onTouchEnd(s,e);var touchEndTime=Date.now(),timeDiff=touchEndTime-touchStartTime;s.allowClick&&(timeDiff<300&&touchEndTime-lastClickTime>300&&(clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(function(){if(!s)return;s.params.paginationHide&&s.paginationContainer&&s.paginationContainer.toggleClass("slider-pagination-hidden"
),s.params.onClick&&s.params.onClick(s,e)},300)),timeDiff<300&&touchEndTime-lastClickTime<300&&(clickTimeout&&clearTimeout(clickTimeout),s.params.onDoubleTap&&s.params.onDoubleTap(s,e)),s.params.onTap&&s.params.onTap(s,e)),lastClickTime=Date.now();if(!isTouched||!isMoved){isTouched=isMoved=!1;return}isTouched=isMoved=!1;var touchesDiff=isH?(touchesCurrent.x-touchesStart.x)*inverter:touchesCurrent.y-touchesStart.y;Math.abs(touchesDiff)<5&&timeDiff<300&&s.allowClick===!1&&(s.allowClick=true),setTimeout(function(){if(!s)return;s.allowClick=true},100);var continueAutoplay=s.params.autoplay&&autoplay&&!s.params.autoplayDisableOnInteraction;if(touchesDiff===0){continueAutoplay&&s.startAutoplay();return}var skipSlides=1,slideSize=s.size/s.params.slidesPerView;s.params.slidesPerView>1&&(skipSlides=Math.abs((Math.abs(touchesDiff)+slideSize/2)/slideSize)),continueAutoplay&&s.wrapper.transitionEnd(function(){s.startAutoplay()}),timeDiff>300?touchesDiff<=-slideSize/2?s.slideTo(s.activeSlideIndex+Math
.floor(skipSlides)):touchesDiff>slideSize/2?s.slideTo(s.activeSlideIndex-Math.floor(skipSlides)):s.slideReset():Math.abs(touchesDiff)<10?s.slideReset():touchesDiff<0?s.slideTo(s.activeSlideIndex+Math.round(skipSlides)):s.slideTo(s.activeSlideIndex-Math.round(skipSlides))},s.slideTo=function(index,speed,runCallbacks){typeof index=="undefined"&&(index=0),index<0&&(index=0),index>s.slides.length-s.params.slidesPerView&&(index=s.slides.length-s.params.slidesPerView);var translate=-(s.size+s.params.spaceBetween)*index/s.params.slidesPerView;typeof speed=="undefined"&&(speed=s.params.speed),s.previousSlideIndex=s.activeSlideIndex,s.activeSlideIndex=Math.round(index),s.isFirst=s.activeSlideIndex===0,s.isLast=s.activeSlideIndex===s.slides.length-s.params.slidesPerView,s.onSlideChangeStart();var translateX=isH?translate*inverter:0,translateY=isH?0:translate;speed===0?(s.wrapper.transition(0).transform("translate3d("+translateX+"px,"+translateY+"px,0)"),runCallbacks!==!1&&s.onSlideChangeEnd()):(animating=
true,s.wrapper.transition(speed).transform("translate3d("+translateX+"px,"+translateY+"px,0)").transitionEnd(function(){runCallbacks!==!1&&s.onSlideChangeEnd()}))},s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeSlideIndex);activeSlide.addClass(s.params.slideActiveClass),activeSlide.next().addClass(s.params.slideNextClass),activeSlide.prev().addClass(s.params.slidePrevClass),s.bullets&&s.bullets.length>0&&(s.bullets.removeClass(s.params.bulletActiveClass),s.bullets.eq(s.activeSlideIndex).addClass(s.params.bulletActiveClass))},s.onSlideChangeStart=function(){s.updateClasses(),s.params.onSlideChangeStart&&s.params.onSlideChangeStart(s)},s.onSlideChangeEnd=function(){animating=!1,s.wrapper.transition(0),s.params.onSlideChangeEnd&&s.params.onSlideChangeEnd(s)},s.slideNext=function(){s.slideTo(s.activeSlideIndex+1)},s.slidePrev=function(){s.slideTo(s.activeSlideIndex-1)},s.slideReset=
function(){s.slideTo(s.activeSlideIndex)},s.onClickNext=function(e){e.preventDefault(),s.slideNext()},s.onClickPrev=function(e){e.preventDefault(),s.slidePrev()},s.onClickIndex=function(e){e.preventDefault(),s.slideTo($(this).index())};var autoplayTimeout,autoplay;return s.startAutoplay=function(){if(!s.params.autoplay)return;autoplay=true,autoplayTimeout&&clearTimeout(autoplayTimeout),autoplayTimeout=setTimeout(function(){s.wrapper.transitionEnd(function(){s.startAutoplay()});var index=s.activeSlideIndex+1;index>s.slides.length-s.params.slidesPerView&&(index=0),s.slideTo(index)},s.params.autoplay)},s.stopAutoplay=function(){autoplay=!1,autoplayTimeout&&clearTimeout(autoplayTimeout)},s.resetAutoplay=function(){s.stopAutoplay(),s.startAutoplay()},s.init=function(){s.updateSlides(),s.updatePagination(),s.updateSize(),s.slideTo(s.params.initialSlide,0),s.attachEvents(),s.params.autoplay&&s.startAutoplay()},s.destroy=function(){s.detachEvents(),s.params.onDestroy&&s.params.onDestroy(),s=undefined
},s.init(),s};app.slider=function(container,params){return new Slider(container,params)},app.initSlider=function(pageContainer){var page=$(pageContainer),sliders=page.find(".slider-init");if(sliders.length===0)return;function destroySliderOnRemove(slider){function destroySlider(){slider.destroy(),page.off("pageBeforeRemove",destroySlider)}page.on("pageBeforeRemove",destroySlider)}for(var i=0;i<sliders.length;i++){var slider=sliders.eq(i),params;slider.data("slider")?params=JSON.parse(slider.data("slider")):params={initialSlide:parseInt(slider.data("initialSlide"),10)||undefined,spaceBetween:parseInt(slider.data("spaceBetween"),10)||undefined,speed:parseInt(slider.data("speed"),10)||undefined,slidesPerView:slider.data("slidesPerView"),direction:slider.data("direction"),pagination:slider.data("pagination"),paginationHide:slider.data("paginationHide")&&(slider.data("paginationHide")==="true"?true:!1),slideClass:slider.data("slideClass"),slideActiveClass:slider.data("slideActiveClass"),slideNextClass
:slider.data("slideNextClass"),slidePrevClass:slider.data("slidePrevClass"),wrapperClass:slider.data("wrapperClass"),bulletClass:slider.data("bulletClass"),bulletActiveClass:slider.data("bulletActiveClass"),nextButton:slider.data("nextButton"),prevButton:slider.data("prevButton"),indexButton:slider.data("indexButton"),autoplay:slider.data("autoplay")};var _slider=app.slider(slider[0],params);destroySliderOnRemove(_slider)}};var PhotoBrowser=function(params){var pb=this,i,defaults={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:true,maxZoom:3,minZoom:1,exposition:true,expositionHideCaptions:!1,type:"standalone",navbar:true,toolbar:true,theme:"light",swipeToClose:true,backLinkText:"Close",ofText:"of"};params=params||{};for(var def in defaults)typeof params[def]=="undefined"&&(params[def]=defaults[def]);pb.params=params;function findView(){var view;for(i=0;i<app.views.length;i++)app.views[i].main&&(view=app.views[i]);return view}var iconColor=pb.params.theme==="dark"?"color-white"
:"",navbarTemplate=pb.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+(pb.params.type==="page"&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+iconColor+'"></i><span>'+pb.params.backLinkText+"</span></a></div>"+'<div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+pb.params.ofText+'</span> <span class="photo-browser-total"></span></div>'+'<div class="right"></div>'+"</div>"+"</div>",prevIconClassName=app.rtl?"next":"prev",nextIconClassName=app.rtl?"prev":"next",toolbarTemplate=pb.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+prevIconClassName+" "+iconColor+'"></i></a>'+'<a href="#" class="link photo-browser-next"><i class="icon icon-'+nextIconClassName+" "+iconColor+'"></i></a>'+"</div>"+"</div>",template=
pb.params.template||'<div class="photo-browser photo-browser-'+pb.params.theme+'">'+'<div class="view navbar-fixed toolbar-fixed">'+"{{navbar}}"+'<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">'+"{{toolbar}}"+"{{captions}}"+'<div class="photo-browser-slider-container slider-container">'+'<div class="photo-browser-slider-wrapper slider-wrapper">'+"{{photos}}"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>",photoTemplate=pb.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',captionsTheme=pb.params.captionsTheme||pb.params.theme,captionsTemplate=pb.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+captionsTheme+'">{{captions}}</div>',captionTemplate=pb.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',objectTemplate=pb.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>'
,photosHtml="",captionsHtml="";for(i=0;i<pb.params.photos.length;i++){var photo=pb.params.photos[i],thisTemplate="";typeof photo=="string"||photo instanceof String?photo.indexOf("<")>=0||photo.indexOf(">")>=0?thisTemplate=objectTemplate.replace(/{{html}}/g,photo):thisTemplate=photoTemplate.replace(/{{url}}/g,photo):typeof photo=="object"&&(photo.hasOwnProperty("html")&&photo.html.length>0?thisTemplate=objectTemplate.replace(/{{html}}/g,photo.html):photo.hasOwnProperty("url")&&photo.url.length>0&&(thisTemplate=photoTemplate.replace(/{{url}}/g,photo.url)),photo.hasOwnProperty("caption")&&photo.caption.length>0?captionsHtml+=captionTemplate.replace(/{{caption}}/g,photo.caption).replace(/{{captionIndex}}/g,i):thisTemplate=thisTemplate.replace(/{{caption}}/g,"")),photosHtml+=thisTemplate}var htmlTemplate=template.replace("{{navbar}}",pb.params.navbar?navbarTemplate:"").replace("{{noNavbar}}",pb.params.navbar?"":"no-navbar").replace("{{photos}}",photosHtml).replace("{{captions}}",captionsTemplate
.replace(/{{captions}}/g,captionsHtml)).replace("{{toolbar}}",pb.params.toolbar?toolbarTemplate:"");pb.activeSlideIndex=pb.params.initialSlide,pb.openIndex=pb.activeSlideIndex,pb.opened=!1,pb.open=function(index){typeof index=="undefined"&&(index=pb.activeSlideIndex),index=parseInt(index,10);if(pb.opened&&pb.slider){pb.slider.slideTo(index);return}pb.opened=true,pb.openIndex=index,pb.params.type==="standalone"&&$("body").append(htmlTemplate),pb.params.type==="popup"&&(pb.popup=app.popup('<div class="popup photo-browser-popup">'+htmlTemplate+"</div>"),$(pb.popup).on("closed",pb.onPopupClose));if(pb.params.type==="page"){$(document).on("pageBeforeInit",pb.onPageBeforeInit),$(document).on("pageBeforeRemove",pb.onPageBeforeRemove),pb.params.view||(pb.params.view=findView()),pb.params.view.loadContent(htmlTemplate);return}pb.layout(pb.openIndex),pb.params.onOpen&&pb.params.onOpen(pb)},pb.close=function(){pb.opened=!1;if(!pb.sliderContainer||pb.sliderContainer.length===0)return;pb.params.onClose&&
pb.params.onClose(pb),pb.attachEvents(true),pb.params.type==="standalone"&&pb.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){pb.container.remove()}),pb.slider.destroy(),pb.slider=pb.sliderContainer=pb.sliderWrapper=pb.slides=gestureSlide=gestureImg=gestureImgWrap=undefined},pb.onPopupClose=function(e){pb.close(),$(pb.popup).off("pageBeforeInit",pb.onPopupClose)},pb.onPageBeforeInit=function(e){e.detail.page.name==="photo-browser-slides"&&pb.layout(pb.openIndex),$(document).off("pageBeforeInit",pb.onPageBeforeInit)},pb.onPageBeforeRemove=function(e){e.detail.page.name==="photo-browser-slides"&&pb.close(),$(document).off("pageBeforeRemove",pb.onPageBeforeRemove)},pb.layout=function(index){pb.params.type==="page"?pb.container=$(".photo-browser-slider-container").parents(".view"):pb.container=$(".photo-browser"),pb.params.type==="standalone"&&(pb.container.addClass("photo-browser-in"),app.sizeNavbars(pb.container)),pb.sliderContainer=pb.container
.find(".photo-browser-slider-container"),pb.sliderWrapper=pb.container.find(".photo-browser-slider-wrapper"),pb.slides=pb.container.find(".photo-browser-slide"),pb.captionsContainer=pb.container.find(".photo-browser-captions"),pb.captions=pb.container.find(".photo-browser-caption");var sliderSettings={nextButton:pb.params.nextButton||".photo-browser-next",prevButton:pb.params.prevButton||".photo-browser-prev",indexButton:pb.params.indexButton,initialSlide:index,spaceBetween:pb.params.spaceBetween,speed:pb.params.speed,onTap:function(slider,e){pb.params.onTap&&pb.params.onTap(slider,e)},onClick:function(slider,e){pb.params.exposition&&pb.toggleExposition(),pb.params.onClick&&pb.params.onClick(slider,e)},onDoubleTap:function(slider,e){pb.toggleZoom($(e.target).parents(".photo-browser-slide")),pb.params.onDoubleTap&&pb.params.onDoubleTap(slider,e)},onSlideChangeStart:function(slider){pb.activeSlideIndex=slider.activeSlideIndex,pb.container.find(".photo-browser-current").text(slider.activeSlideIndex+1
),pb.container.find(".photo-browser-total").text(slider.slides.length),$(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),slider.isFirst&&$(".photo-browser-prev").addClass("photo-browser-link-inactive"),slider.isLast&&$(".photo-browser-next").addClass("photo-browser-link-inactive"),pb.captions.length>0&&(pb.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),pb.captionsContainer.find('[data-caption-index="'+pb.activeSlideIndex+'"]').addClass("photo-browser-caption-active"));var previousSlideVideo=slider.slides.eq(slider.previousSlideIndex).find("video");previousSlideVideo.length>0&&"pause"in previousSlideVideo[0]&&previousSlideVideo[0].pause(),pb.params.onSlideChangeStart&&pb.params.onSlideChangeStart(slider)},onSlideChangeEnd:function(slider){pb.params.zoom&&gestureSlide&&slider.previousSlideIndex!==slider.activeSlideIndex&&(gestureImg.transform("translate3d(0,0,0) scale(1)"),gestureImgWrap.transform("translate3d(0,0,0)"
),gestureSlide=gestureImg=gestureImgWrap=undefined,scale=currentScale=1),pb.params.onSlideChangeEnd&&pb.params.onSlideChangeEnd(slider)}};pb.params.swipeToClose&&pb.params.type!=="page"&&(sliderSettings.onTouchStart=pb.swipeCloseTouchStart,sliderSettings.onOppositeTouchMove=pb.swipeCloseTouchMove,sliderSettings.onTouchEnd=pb.swipeCloseTouchEnd),pb.slider=app.slider(pb.sliderContainer,sliderSettings),pb.attachEvents()},pb.attachEvents=function(detach){var action=detach?"off":"on";pb.params.zoom&&(pb.slides[action]("gesturestart",pb.onSlideGestureStart),pb.slides[action]("gesturechange",pb.onSlideGestureChange),pb.slides[action]("gestureend",pb.onSlideGestureEnd),pb.slides[action](app.touchEvents.start,pb.onSlideTouchStart),pb.slides[action](app.touchEvents.move,pb.onSlideTouchMove),pb.slides[action](app.touchEvents.end,pb.onSlideTouchEnd)),pb.container.find(".photo-browser-close-link")[action]("click",pb.close)};var isTouched,isMoved,touchesStart={},touchesCurrent={},touchStartTime,isScrolling
,animating=!1,currentTranslate,allowClick=true;pb.exposed=!1,pb.toggleExposition=function(){pb.container&&pb.container.toggleClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.toggleClass("photo-browser-captions-exposed"),pb.exposed=!pb.exposed},pb.expositionOn=function(){pb.container&&pb.container.addClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.addClass("photo-browser-captions-exposed"),pb.exposed=true},pb.expositionOff=function(){pb.container&&pb.container.removeClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.removeClass("photo-browser-captions-exposed"),pb.exposed=!1};var gestureSlide,gestureImg,gestureImgWrap,scale=1,currentScale=1,isScaling=!1;pb.onSlideGestureStart=function(e){gestureSlide||(gestureSlide=$(this),gestureImg=gestureSlide.find("img"),gestureImgWrap=gestureImg.parent()),gestureImg.transition(0),isScaling=true},pb.onSlideGestureChange=function(e){scale=e.scale*
currentScale,scale>pb.params.maxZoom&&(scale=pb.params.maxZoom-1+Math.pow(scale-pb.params.maxZoom+1,.5)),scale<pb.params.minZoom&&(scale=pb.params.minZoom+1-Math.pow(pb.params.minZoom-scale+1,.5)),gestureImg.transform("translate3d(0,0,0) scale("+scale+")")},pb.onSlideGestureEnd=function(e){scale=Math.max(Math.min(scale,pb.params.maxZoom),pb.params.minZoom),gestureImg.transition(pb.params.speed).transform("translate3d(0,0,0) scale("+scale+")"),currentScale=scale,isScaling=!1,scale===1&&(gestureSlide=undefined)},pb.toggleZoom=function(){gestureSlide||(gestureSlide=pb.slides.eq(pb.slider.activeSlideIndex),gestureImg=gestureSlide.find("img"),gestureImgWrap=gestureImg.parent()),gestureImgWrap.transition(300).transform("translate3d(0,0,0)"),scale&&scale!==1?(scale=currentScale=1,gestureImg.transition(300).transform("translate3d(0,0,0) scale(1)"),gestureSlide=undefined):(scale=currentScale=pb.params.maxZoom,gestureImg.transition(300).transform("translate3d(0,0,0) scale("+scale+")"))};var imageIsTouched
,imageIsMoved,imageCurrentX,imageCurrentY,imageMinX,imageMinY,imageMaxX,imageMaxY,imageWidth,imageHeight,imageTouchesStart={},imageTouchesCurrent={},imageStartX,imageStartY,velocityPrevPositionX,velocityPrevTime,velocityX,velocityPrevPositionY,velocityY;pb.onSlideTouchStart=function(e){if(imageIsTouched)return;app.device.os==="android"&&e.preventDefault(),imageIsTouched=true,imageTouchesStart.x=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX,imageTouchesStart.y=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY},pb.onSlideTouchMove=function(e){pb.slider.allowClick=!1;if(!imageIsTouched||!gestureSlide)return;imageIsMoved||(imageWidth=gestureImg[0].offsetWidth,imageHeight=gestureImg[0].offsetHeight,imageStartX=$.getTranslate(gestureImgWrap[0],"x")||0,imageStartY=$.getTranslate(gestureImgWrap[0],"y")||0,gestureImgWrap.transition(0));var scaledWidth=imageWidth*scale,scaledHeight=imageHeight*scale;if(scaledWidth<pb.slider.width&&scaledHeight<pb.slider.height)return;imageMinX=Math.
min(pb.slider.width/2-scaledWidth/2,0),imageMaxX=-imageMinX,imageMinY=Math.min(pb.slider.height/2-scaledHeight/2,0),imageMaxY=-imageMinY,imageTouchesCurrent.x=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX,imageTouchesCurrent.y=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(!imageIsMoved&&!isScaling)if(Math.floor(imageMinX)===Math.floor(imageStartX)&&imageTouchesCurrent.x<imageTouchesStart.x||Math.floor(imageMaxX)===Math.floor(imageStartX)&&imageTouchesCurrent.x>imageTouchesStart.x){imageIsTouched=!1;return}e.stopPropagation(),imageIsMoved=true,imageCurrentX=imageTouchesCurrent.x-imageTouchesStart.x+imageStartX,imageCurrentY=imageTouchesCurrent.y-imageTouchesStart.y+imageStartY,imageCurrentX<imageMinX&&(imageCurrentX=imageMinX+1-Math.pow(imageMinX-imageCurrentX+1,.8)),imageCurrentX>imageMaxX&&(imageCurrentX=imageMaxX-1+Math.pow(imageCurrentX-imageMaxX+1,.8)),imageCurrentY<imageMinY&&(imageCurrentY=imageMinY+1-Math.pow(imageMinY-imageCurrentY+1,.8)),imageCurrentY>imageMaxY&&
(imageCurrentY=imageMaxY-1+Math.pow(imageCurrentY-imageMaxY+1,.8)),velocityPrevPositionX||(velocityPrevPositionX=imageTouchesCurrent.x),velocityPrevPositionY||(velocityPrevPositionY=imageTouchesCurrent.y),velocityPrevTime||(velocityPrevTime=Date.now()),velocityX=(imageTouchesCurrent.x-velocityPrevPositionX)/(Date.now()-velocityPrevTime)/2,velocityY=(imageTouchesCurrent.y-velocityPrevPositionY)/(Date.now()-velocityPrevTime)/2,Math.abs(imageTouchesCurrent.x-velocityPrevPositionX)<2&&(velocityX=0),Math.abs(imageTouchesCurrent.y-velocityPrevPositionY)<2&&(velocityY=0),velocityPrevPositionX=imageTouchesCurrent.x,velocityPrevPositionY=imageTouchesCurrent.y,velocityPrevTime=Date.now(),gestureImgWrap.transform("translate3d("+imageCurrentX+"px, "+imageCurrentY+"px,0)")},pb.onSlideTouchEnd=function(e){if(!imageIsTouched||!imageIsMoved){imageIsTouched=!1,imageIsMoved=!1;return}imageIsTouched=!1,imageIsMoved=!1;var momentumDurationX=300,momentumDurationY=300,momentumDistanceX=velocityX*momentumDurationX
,newPositionX=imageCurrentX+momentumDistanceX,momentumDistanceY=velocityY*momentumDurationY,newPositionY=imageCurrentY+momentumDistanceY;velocityX!==0&&(momentumDurationX=Math.abs((newPositionX-imageCurrentX)/velocityX)),velocityY!==0&&(momentumDurationY=Math.abs((newPositionY-imageCurrentY)/velocityY));var momentumDuration=Math.max(momentumDurationX,momentumDurationY);imageCurrentX=newPositionX,imageCurrentY=newPositionY;var scaledWidth=imageWidth*scale,scaledHeight=imageHeight*scale;imageMinX=Math.min(pb.slider.width/2-scaledWidth/2,0),imageMaxX=-imageMinX,imageMinY=Math.min(pb.slider.height/2-scaledHeight/2,0),imageMaxY=-imageMinY,imageCurrentX=Math.max(Math.min(imageCurrentX,imageMaxX),imageMinX),imageCurrentY=Math.max(Math.min(imageCurrentY,imageMaxY),imageMinY),gestureImgWrap.transition(momentumDuration).transform("translate3d("+imageCurrentX+"px, "+imageCurrentY+"px,0)")};var swipeToCloseIsTouched=!1,allowSwipeToClose=true,swipeToCloseDiff,swipeToCloseStart,swipeToCloseCurrent,swipeToCloseStarted=!1
,swipeToCloseActiveSlide,swipeToCloseTimeStart;return pb.swipeCloseTouchStart=function(slider,e){if(!allowSwipeToClose)return;swipeToCloseIsTouched=true},pb.swipeCloseTouchMove=function(slider,e){if(!swipeToCloseIsTouched)return;swipeToCloseStarted||(swipeToCloseStarted=true,swipeToCloseStart=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY,swipeToCloseActiveSlide=pb.slider.slides.eq(pb.slider.activeSlideIndex),swipeToCloseTimeStart=(new Date).getTime()),e.preventDefault(),swipeToCloseCurrent=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY,swipeToCloseDiff=swipeToCloseStart-swipeToCloseCurrent;var opacity=1-Math.abs(swipeToCloseDiff)/300;swipeToCloseActiveSlide.transform("translate3d(0,"+ -swipeToCloseDiff+"px,0)"),pb.slider.container.css("opacity",opacity).transition(0)},pb.swipeCloseTouchEnd=function(slider,e){swipeToCloseIsTouched=!1;if(!swipeToCloseStarted){swipeToCloseStarted=!1;return}swipeToCloseStarted=!1,allowSwipeToClose=!1;var diff=Math.abs(swipeToCloseDiff),timeDiff=
(new Date).getTime()-swipeToCloseTimeStart;if(timeDiff<300&&diff>20||timeDiff>=300&&diff>100){setTimeout(function(){pb.params.type==="standalone"&&pb.close(),pb.params.type==="popup"&&app.closeModal(pb.popup),pb.params.onSwipeToClose&&pb.params.onSwipeToClose(pb),allowSwipeToClose=true},0);return}diff!==0?swipeToCloseActiveSlide.addClass("transitioning").transitionEnd(function(){allowSwipeToClose=true,swipeToCloseActiveSlide.removeClass("transitioning")}):allowSwipeToClose=true,pb.slider.container.css("opacity","").transition(""),swipeToCloseActiveSlide.transform("")},pb};app.photoBrowser=function(params){return new PhotoBrowser(params)};var _tempNotificationElement;app.addNotification=function(params){if(!params)return;typeof params.media=="undefined"&&(params.media=app.params.notificationMedia),typeof params.title=="undefined"&&(params.title=app.params.notificationTitle),typeof params.subtitle=="undefined"&&(params.subtitle=app.params.notificationSubtitle),typeof params.closeIcon=="undefined"&&
(params.closeIcon=app.params.notificationCloseIcon),typeof params.hold=="undefined"&&(params.hold=app.params.notificationHold),typeof params.closeOnClick=="undefined"&&(params.closeOnClick=app.params.notificationCloseOnClick),_tempNotificationElement||(_tempNotificationElement=document.createElement("div"));var container=$(".notifications");container.length===0&&($("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),container=$(".notifications"));var list=container.children("ul"),itemHTML;params.custom?itemHTML="<li>"+params.custom+"</li>":itemHTML='<li class="notification-item notification-hidden"><div class="item-content">'+(params.media?'<div class="item-media">'+params.media+"</div>":"")+'<div class="item-inner">'+'<div class="item-title-row">'+(params.title?'<div class="item-title">'+params.title+"</div>":"")+(params.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(params.subtitle?'<div class="item-subtitle">'+
params.subtitle+"</div>":"")+(params.message?'<div class="item-text">'+params.message+"</div>":"")+"</div>"+"</div></li>",_tempNotificationElement.innerHTML=itemHTML;var item=$(_tempNotificationElement).children();item.on("click",function(e){params.onClick&&params.onClick(e,item[0]),params.closeOnClick?app.closeNotification(item[0]):($(e.target).is(".close-notification")||$(e.target).parents(".close-notification").length>0)&&app.closeNotification(item[0])}),params.onClose&&item.data("f7NotificationOnClose",function(){params.onClose(item[0])}),params.additionalClass&&item.addClass(params.additionalClass),params.hold&&setTimeout(function(){item.length>0&&app.closeNotification(item[0])},params.hold),list.prepend(item[0]),container.show();var itemHeight=item.height();item.css("marginTop",-itemHeight+"px"),item.transition(0);var clientLeft=item[0].clientLeft;return item.transition(""),item.css("marginTop","0px"),container.transform("translate3d(0, 0,0)"),item.removeClass("notification-hidden"
),item[0]},app.closeNotification=function(item){item=$(item);if(item.length===0)return;if(item.hasClass("notification-item-removing"))return;var container=$(".notifications"),itemHeight=item.height();item.css("height",itemHeight+"px").transition(0);var clientLeft=item[0].clientLeft;item.css("height","0px").transition("").addClass("notification-item-removing"),item.data("f7NotificationOnClose")&&item.data("f7NotificationOnClose")(),container.find(".notification-item:not(.notification-item-removing)").length===0&&container.transform(""),item.addClass("notification-hidden").transitionEnd(function(){item.remove(),container.find(".notification-item").length===0&&container.hide()})};var _plugins=[];return app.initPlugins=function(){for(var plugin in app.plugins){var p=app.plugins[plugin](app,app.params[plugin]);p&&_plugins.push(p)}},app.pluginHook=function(hook){for(var i=0;i<_plugins.length;i++)_plugins[i].hooks&&hook in _plugins[i].hooks&&_plugins[i].hooks[hook](arguments[1],arguments[2],arguments
[3],arguments[4],arguments[5])},app.pluginPrevent=function(action){var prevent=!1;for(var i=0;i<_plugins.length;i++)_plugins[i].prevents&&action in _plugins[i].prevents&&_plugins[i].prevents[action](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(prevent=true);return prevent},app.pluginProcess=function(action,data){var processed=data;for(var i=0;i<_plugins.length;i++)_plugins[i].preprocess&&process in _plugins[i].preprocess&&(processed=_plugins[i].preprocess[process](data,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return processed},app.init=function(){app.initPlugins&&app.initPlugins(),app.getDeviceInfo&&app.getDeviceInfo(),app.initFastClicks&&app.params.fastClicks&&app.initFastClicks(),app.initClickEvents&&app.initClickEvents(),$(".page").each(function(){var pageContainer=$(this),viewContainer=pageContainer.parents("."+app.params.viewClass);if(viewContainer.length===0)return;var view=viewContainer[0].f7View||!1,url=view&&view.url?view.url:!1;
viewContainer&&viewContainer.attr("data-page",pageContainer.attr("data-page")||undefined),app.pageInitCallback(view,this,url,"center")}),app.initResize&&app.initResize(),app.initPushState&&app.params.pushState&&app.initPushState(),app.initSwipeout&&app.params.swipeout&&app.initSwipeout(),app.initSortable&&app.params.sortable&&app.initSortable(),app.initSwipePanels&&app.params.swipePanel&&app.initSwipePanels(),app.params.onAppInit&&app.params.onAppInit(),app.pluginHook("appInit")},app.params.init&&app.init(),app};var Dom7=function(){var Dom7=function(arr){var _this=this,i=0;for(i=0;i<arr.length;i++)_this[i]=arr[i];return _this.length=arr.length,this},$=function(selector,context){var arr=[],i=0;if(selector&&!context&&selector instanceof Dom7)return selector;if(selector)if(typeof selector=="string"){var els=(context||document).querySelectorAll(selector);for(i=0;i<els.length;i++)arr.push(els[i])}else if(selector.nodeType||selector===window||selector===document)arr.push(selector);else if(selector
.length>0&&selector[0].nodeType)for(i=0;i<selector.length;i++)arr.push(selector[i]);return new Dom7(arr)};Dom7.prototype={addClass:function(className){if(typeof className=="undefined")return this;var classes=className.split(" ");for(var i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.add(classes[i]);return this},removeClass:function(className){if(typeof className=="undefined")return this.removeAttr("class");var classes=className.split(" ");for(var i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.remove(classes[i]);return this},hasClass:function(className){return this[0]?this[0].classList.contains(className):!1},toggleClass:function(className){var classes=className.split(" ");for(var i=0;i<classes.length;i++)for(var j=0;j<this.length;j++)this[j].classList.toggle(classes[i]);return this},attr:function(attr,value){if(typeof value=="undefined")return this[0]?this[0].getAttribute(attr):undefined;for(var i=0;i<this.length;i++)this[i].setAttribute
(attr,value);return this},removeAttr:function(attr){for(var i=0;i<this.length;i++)this[i].removeAttribute(attr)},prop:function(prop,value){if(typeof value=="undefined")return this[0]?this[0][prop]:undefined;for(var i=0;i<this.length;i++)this[i][prop]=value;return this},data:function(key,value){if(typeof value=="undefined"){if(this[0]){var dataKey=this[0].getAttribute("data-"+key);return dataKey?dataKey:this[0].dom7ElementDataStorage&&key in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[key]:undefined}return undefined}for(var i=0;i<this.length;i++){var el=this[i];el.dom7ElementDataStorage||(el.dom7ElementDataStorage={}),el.dom7ElementDataStorage[key]=value}return this},val:function(value){if(typeof value=="undefined")return this[0]?this[0].value:null;for(var i=0;i<this.length;i++)this[i].value=value;return this},transform:function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=
elStyle.OTransform=elStyle.transform=transform}return this},transition:function(duration){typeof duration!="string"&&(duration+="ms");for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration}return this},on:function(eventName,targetSelector,listener){function handleLiveEvent(e){var target=e.target;if($(target).is(targetSelector))listener.call(target,e);else{var parents=$(target).parents();for(var k=0;k<parents.length;k++)$(parents[k]).is(targetSelector)&&listener.call(parents[k],e)}}var events=eventName.split(" "),i,j;for(i=0;i<this.length;i++)if(arguments.length===2||targetSelector===!1){arguments.length===2&&(listener=arguments[1]);for(j=0;j<events.length;j++)this[i].addEventListener(events[j],listener,!1)}else for(j=0;j<events.length;j++)this[i].dom7LiveListeners||(this[i].dom7LiveListeners=[]),this[i]
.dom7LiveListeners.push({listener:listener,liveListener:handleLiveEvent}),this[i].addEventListener(events[j],handleLiveEvent,!1);return this},off:function(eventName,listener){var events=eventName.split(" ");for(var i=0;i<events.length;i++)for(var j=0;j<this.length;j++)if(arguments.length===3){var _targetSelector=arguments[1],_listener=arguments[2];if(this[j].dom7LiveListeners)for(var k=0;k<this[j].dom7LiveListeners.length;k++)this[j].dom7LiveListeners[k].listener===_listener&&this[j].removeEventListener(events[i],this[j].dom7LiveListeners[k].liveListener,!1)}else this[j].removeEventListener(events[i],listener,!1);return this},trigger:function(eventName,eventData){for(var i=0;i<this.length;i++){var evt;try{evt=new CustomEvent(eventName,{detail:eventData,bubbles:true,cancelable:true})}catch(e){evt=document.createEvent("Event"),evt.initEvent(eventName,true,true),evt.detail=eventData}this[i].dispatchEvent(evt)}return this},transitionEnd:function(callback){var events=["webkitTransitionEnd","transitionend"
,"oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i,j,dom=this;function fireCallBack(e){callback.call(this,e);for(i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this},animationEnd:function(callback){var events=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],i,j,dom=this;function fireCallBack(e){callback(e);for(i=0;i<events.length;i++)dom.off(events[i],fireCallBack)}if(callback)for(i=0;i<events.length;i++)dom.on(events[i],fireCallBack);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(margins){return this.length>0?margins?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?
this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(margins){return this.length>0?margins?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var el=this[0],box=el.getBoundingClientRect(),body=document.body,clientTop=el.clientTop||body.clientTop||0,clientLeft=el.clientLeft||body.clientLeft||0,scrollTop=window.pageYOffset||el.scrollTop,scrollLeft=window.pageXOffset||el.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}}return null},hide:function(){for(var i=0;i<this.length;i++)this[i].style.display="none";return this},show:function(){for(var i=0;i<this.length;i++)this[i].style.display="block";return this},css:function(props,value){var i;if(arguments.length===1){if(typeof props!="string"){for(i=0;i<this.length;i++)for(var prop in props)this[i].style[prop]=props[prop];return this}if(
this[0])return window.getComputedStyle(this[0],null).getPropertyValue(props)}if(arguments.length===2&&typeof props=="string"){for(i=0;i<this.length;i++)this[i].style[props]=value;return this}return this},each:function(callback){for(var i=0;i<this.length;i++)callback.call(this[i],i,this[i]);return this},html:function(html){if(typeof html=="undefined")return this[0]?this[0].innerHTML:undefined;for(var i=0;i<this.length;i++)this[i].innerHTML=html;return this},text:function(text){if(typeof text=="undefined")return this[0]?this[0].textContent.trim():null;for(var i=0;i<this.length;i++)this[0].textContent=text},is:function(selector){if(!this[0])return!1;var compareWith,i;if(typeof selector=="string"){var el=this[0];if(el===document)return selector===document;if(el===window)return selector===window;if(el.matches)return el.matches(selector);if(el.webkitMatchesSelector)return el.webkitMatchesSelector(selector);if(el.mozMatchesSelector)return el.mozMatchesSelector(selector);if(el.msMatchesSelector
)return el.msMatchesSelector(selector);compareWith=$(selector);for(i=0;i<compareWith.length;i++)if(compareWith[i]===this[0])return true;return!1}if(selector===document)return this[0]===document;if(selector===window)return this[0]===window;if(selector.nodeType||selector instanceof Dom7){compareWith=selector.nodeType?[selector]:selector;for(i=0;i<compareWith.length;i++)if(compareWith[i]===this[0])return true;return!1}return!1},indexOf:function(el){for(var i=0;i<this.length;i++)if(this[i]===el)return i},index:function(){if(this[0]){var child=this[0],i=0;while((child=child.previousSibling)!==null)child.nodeType===1&&i++;return i}return undefined},eq:function(index){if(typeof index=="undefined")return this;var length=this.length,returnIndex;return index>length-1?new Dom7([]):index<0?(returnIndex=length+index,returnIndex<0?new Dom7([]):new Dom7([this[returnIndex]])):new Dom7([this[index]])},append:function(newChild){var i,j;for(i=0;i<this.length;i++)if(typeof newChild=="string"){var tempDiv=document
.createElement("div");tempDiv.innerHTML=newChild;while(tempDiv.firstChild)this[i].appendChild(tempDiv.firstChild)}else if(newChild instanceof Dom7)for(j=0;j<newChild.length;j++)this[i].appendChild(newChild[j]);else this[i].appendChild(newChild);return this},prepend:function(newChild){var i,j;for(i=0;i<this.length;i++)if(typeof newChild=="string"){var tempDiv=document.createElement("div");tempDiv.innerHTML=newChild;for(j=tempDiv.childNodes.length-1;j>=0;j--)this[i].insertBefore(tempDiv.childNodes[j],this[i].childNodes[0])}else if(newChild instanceof Dom7)for(j=0;j<newChild.length;j++)this[i].insertBefore(newChild[j],this[i].childNodes[0]);else this[i].insertBefore(newChild,this[i].childNodes[0]);return this},insertBefore:function(selector){var before=$(selector);for(var i=0;i<this.length;i++)if(before.length===1)before[0].parentNode.insertBefore(this[i],before[0]);else if(before.length>1)for(var j=0;j<before.length;j++)before[j].parentNode.insertBefore(this[i].cloneNode(true),before[j])}
,insertAfter:function(selector){var after=$(selector);for(var i=0;i<this.length;i++)if(after.length===1)after[0].parentNode.insertBefore(this[i],after[0].nextSibling);else if(after.length>1)for(var j=0;j<after.length;j++)after[j].parentNode.insertBefore(this[i].cloneNode(true),after[j].nextSibling)},next:function(selector){return this.length>0?selector?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(selector)?new Dom7([this[0].nextElementSibling]):new Dom7([]):this[0].nextElementSibling?new Dom7([this[0].nextElementSibling]):new Dom7([]):new Dom7([])},nextAll:function(selector){var nextEls=[],el=this[0];if(!el)return new Dom7([]);while(el.nextElementSibling){var next=el.nextElementSibling;selector&&$(next).is(selector)?nextEls.push(next):nextEls.push(next),el=next}return new Dom7(nextEls)},prev:function(selector){return this.length>0?selector?this[0].previousElementSibling&&$(this[0].previousElementSibling).is(selector)?new Dom7([this[0].previousElementSibling]):new Dom7([]
):this[0].previousElementSibling?new Dom7([this[0].previousElementSibling]):new Dom7([]):new Dom7([])},prevAll:function(selector){var prevEls=[],el=this[0];if(!el)return new Dom7([]);while(el.previousElementSibling){var prev=el.previousElementSibling;selector&&$(prev).is(selector)?prevEls.push(prev):prevEls.push(prev),el=prev}return new Dom7(prevEls)},parent:function(selector){var parents=[];for(var i=0;i<this.length;i++)selector?$(this[i].parentNode).is(selector)&&parents.push(this[i].parentNode):parents.push(this[i].parentNode);return $($.unique(parents))},parents:function(selector){var parents=[];for(var i=0;i<this.length;i++){var parent=this[i].parentNode;while(parent)selector?$(parent).is(selector)&&parents.push(parent):parents.push(parent),parent=parent.parentNode}return $($.unique(parents))},find:function(selector){var foundElements=[];for(var i=0;i<this.length;i++){var found=this[i].querySelectorAll(selector);for(var j=0;j<found.length;j++)foundElements.push(found[j])}return new 
Dom7(foundElements)},children:function(selector){var children=[];for(var i=0;i<this.length;i++){var childNodes=this[i].childNodes;for(var j=0;j<childNodes.length;j++)selector?childNodes[j].nodeType===1&&$(childNodes[j]).is(selector)&&children.push(childNodes[j]):childNodes[j].nodeType===1&&children.push(childNodes[j])}return new Dom7($.unique(children))},remove:function(){for(var i=0;i<this.length;i++)this[i].parentNode&&this[i].parentNode.removeChild(this[i]);return this},detach:function(){return this.remove()}},function(){var shortcuts="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),notTrigger="resize scroll".split(" ");function createMethod(name){Dom7.prototype[name]=function(handler){var i;if(typeof handler=="undefined"){for(i=0;i<this.length;i++)notTrigger.indexOf(name)<0&&this[i][name]();return this}return this.on(name,handler)}}for(var i=0
;i<shortcuts.length;i++)createMethod(shortcuts[i])}();var _jsonpRequests=0;return $.ajax=function(options){var defaults={method:"GET",data:!1,async:true,cache:true,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:true,dataType:"text",contentType:"application/x-www-form-urlencoded"};options.type&&(options.type=options.method);for(var prop in defaults)prop in options||(options[prop]=defaults[prop]);options.url||(options.url=window.location.toString());if((options.method==="GET"||options.method==="HEAD")&&options.data){var stringData;typeof options.data=="string"?options.data.indexOf("?")>=0?stringData=options.data.split("?")[1]:stringData=options.data:stringData=$.serializeObject(options.data),options.url.indexOf("?")>=0?options.url+="&"+stringData:options.url+="?"+stringData}if(options.dataType==="json"&&options.url.indexOf("callback=")>=0){var callbackName="f7jsonp_"+Date.now()+_jsonpRequests++,requestURL,callbackSplit=options.url.split("callback=");if(callbackSplit
[1].indexOf("&")>=0){var addVars=callbackSplit[1].split("&").filter(function(el){return el.indexOf("=")>0}).join("&");requestURL=callbackSplit[0]+"callback="+callbackName+(addVars.length>0?"&"+addVars:"")}else requestURL=callbackSplit[0]+"callback="+callbackName;var script=document.createElement("script");script.type="text/javascript",script.src=requestURL,window[callbackName]=function(data){options.success&&options.success(data),script.parentNode.removeChild(script),script=null,delete window[callbackName]},document.querySelector("head").appendChild(script);return}(options.method==="GET"||options.method==="HEAD")&&options.cache===!1&&(options.url+="_nocache="+Date.now());var xhr=new XMLHttpRequest;xhr.open(options.method,options.url,options.async,options.user,options.password);var postData=null;if((options.method==="POST"||options.method==="PUT")&&options.data)if(options.processData){var postDataInstances=[ArrayBuffer,Blob,Document,FormData];if(postDataInstances.indexOf(options.data.constructor
)>=0)postData=options.data;else{var boundary="---------------------------"+Date.now().toString(16);options.contentType==="multipart/form-data"?xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+boundary):xhr.setRequestHeader("Content-Type",options.contentType),postData="";var _data=$.serializeObject(options.data);if(options.contentType==="multipart/form-data"){boundary="---------------------------"+Date.now().toString(16),_data=_data.split("&");var _newData=[];for(var i=0;i<_data.length;i++)_newData.push('Content-Disposition: form-data; name="'+_data[i].split("=")[0]+'"\r\n\r\n'+_data[i].split("=")[1]+"\r\n");postData="--"+boundary+"\r\n"+_newData.join("--"+boundary+"\r\n")+"--"+boundary+"--\r\n"}else postData=options.contentType==="application/x-www-form-urlencoded"?_data:_data.replace(/&/g,"\r\n")}}else postData=options.data;if(options.headers)for(var header in options.headers)xhr.setRequestHeader(header,options.headers[header]);typeof options.crossDomain=="undefined"&&
(options.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(options.url)&&RegExp.$2!==window.location.host),options.crossDomain||xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");if(options.xhrFields)for(var field in options.xhrFields)xhr[field]=options.xhrFields[field];return xhr.onload=function(e){if(xhr.status===200||xhr.status===0){$(document).trigger("ajaxSuccess",{xhr:xhr});if(options.success){var responseData=xhr.responseText;options.dataType==="json"&&(responseData=JSON.parse(responseData)),options.success(responseData,xhr.status,xhr)}}options.statusCode&&options.statusCode[xhr.status]&&options.statusCode[xhr.status](xhr),options.complete&&options.complete(xhr),$(document).trigger("ajaxComplete",{xhr:xhr})},xhr.onerror=function(e){$(document).trigger("ajaxError",{xhr:xhr}),options.error&&options.error(xhr)},options.start&&options.start(xhr),$(document).trigger("ajaxStart",{xhr:xhr}),xhr.send(postData),xhr},function(){var methods="get post getJSON".split(" ");function createMethod
(method){$[method]=function(url,data,success){return $.ajax({url:url,method:method==="post"?"POST":"GET",data:typeof data=="function"?undefined:data,success:typeof data=="function"?data:success,dataType:method==="getJSON"?"json":undefined})}}for(var i=0;i<methods.length;i++)createMethod(methods[i])}(),$.parseUrlQuery=function(url){var query={},i,params,param;if(url.indexOf("?")>=0){url=url.split("?")[1],params=url.split("&");for(i=0;i<params.length;i++)param=params[i].split("="),query[param[0]]=param[1];return query}return query},$.isArray=function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"?true:!1},$.unique=function(arr){var unique=[];for(var i=0;i<arr.length;i++)unique.indexOf(arr[i])===-1&&unique.push(arr[i]);return unique},$.trim=function(str){return str.trim()},$.serializeObject=function(obj){if(typeof obj=="string")return obj;var resultArray=[],separator="&";for(var prop in obj)if($.isArray(obj[prop])){var toPush=[];for(var i=0;i<obj[prop].length;i++)toPush
.push(prop+"="+obj[prop][i]);resultArray.push(toPush.join(separator))}else resultArray.push(prop+"="+obj[prop]);return resultArray.join(separator)},$.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;return typeof axis=="undefined"&&(axis="x"),curStyle=window.getComputedStyle(el,null),window.WebKitCSSMatrix?transformMatrix=new WebKitCSSMatrix(curStyle.webkitTransform==="none"?"":curStyle.webkitTransform):(transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),axis==="x"&&(window.WebKitCSSMatrix?curTransform=transformMatrix.m41:matrix.length===16?curTransform=parseFloat(matrix[12]):curTransform=parseFloat(matrix[4])),axis==="y"&&(window.WebKitCSSMatrix?curTransform=transformMatrix.m42:matrix.length===16?curTransform=parseFloat(matrix[13]):curTransform=parseFloat(matrix
[5])),curTransform||0},$.requestAnimationFrame=function(callback){return window.requestAnimationFrame?window.requestAnimationFrame(callback):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(callback):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(callback):window.setTimeout(callback,1e3/60)},$.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),$.fn=Dom7.prototype,$.fn.scrollTo=function(left,top,duration){return this.each(function(){var el=this,currentTop,currentLeft,maxTop,maxLeft,newTop,newLeft,scrollTop,scrollLeft,animateTop=top>0||top===0,animateLeft=left>0||left===0;animateTop&&(currentTop=el.scrollTop,duration||(el.scrollTop=top)),animateLeft&&(currentLeft=el.scrollLeft,duration||(el.scrollLeft=left));if(!duration)return;animateTop&&(maxTop=el.scrollHeight-el.offsetHeight,newTop=Math.max(Math.min(top,maxTop),0)),animateLeft&&(maxLeft=el.scrollWidth-el.offsetWidth,newLeft=Math.max(Math.min(left,maxLeft
),0));var startTime=null;animateTop&&newTop===currentTop&&(animateTop=!1),animateLeft&&newLeft===currentLeft&&(animateLeft=!1);function render(time){time===undefined&&(time=(new Date).getTime()),startTime===null&&(startTime=time);var doneLeft,doneTop,done;animateTop&&(scrollTop=currentTop+(time-startTime)/duration*(newTop-currentTop)),animateLeft&&(scrollLeft=currentLeft+(time-startTime)/duration*(newLeft-currentLeft)),animateTop&&newTop>currentTop&&scrollTop>=newTop&&(el.scrollTop=newTop,done=true),animateTop&&newTop<currentTop&&scrollTop<=newTop&&(el.scrollTop=newTop,done=true),animateLeft&&newLeft>currentLeft&&scrollLeft>=newLeft&&(el.scrollLeft=newLeft,done=true),animateLeft&&newLeft<currentLeft&&scrollLeft<=newLeft&&(el.scrollLeft=newLeft,done=true);if(done)return;animateTop&&(el.scrollTop=scrollTop),animateLeft&&(el.scrollLeft=scrollLeft),$.requestAnimationFrame(render)}$.requestAnimationFrame(render)})},$.fn.scrollTop=function(top,duration){var dom=this;return typeof top=="undefined"?
dom.length>0?dom[0].scrollTop:null:dom.scrollTo(undefined,top,duration)},$.fn.scrollLeft=function(left,duration){var dom=this;return typeof left=="undefined"?dom.length>0?dom[0].scrollLeft:null:dom.scrollTo(left,undefined,duration)},$}();Framework7.$=Dom7;var $=Dom7;window.Dom7=Dom7,Framework7.prototype.support=function(){var support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return support}(),Framework7.prototype.device=function(){var device={},ua=navigator.userAgent,$=Dom7,android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);device.ios=device.android=device.iphone=device.ipad=!1,android&&(device.os="android",device.osVersion=android[2],device.android=true);if(ipad||iphone||ipod)device.os="ios",device.ios=true;iphone&&!ipod&&(device.osVersion=iphone[2].replace(/_/g,"."),device.iphone=true),ipad&&(device.osVersion=ipad
[2].replace(/_/g,"."),device.ipad=true),ipod&&(device.osVersion=ipod[3]?ipod[3].replace(/_/g,"."):null,device.iphone=true),device.webView=(iphone||ipad||ipod)&&ua.match(/.*AppleWebKit(?!.*Safari)/i);if(device.os&&device.os==="ios"){var osVersionArr=device.osVersion.split(".");device.minimalUi=!device.webView&&(ipod||iphone)&&(osVersionArr[0]*1===7?osVersionArr[1]*1>=1:osVersionArr[0]*1>7)&&$('meta[name="viewport"]').length>0&&$('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var windowWidth=$(window).width(),windowHeight=$(window).height();device.statusBar=!1,device.webView&&(windowWidth===320&&windowHeight===568||windowWidth===568&&windowHeight===320||windowWidth===320&&windowHeight===480||windowWidth===480&&windowHeight===320||windowWidth===768&&windowHeight===1024||windowWidth===1024&&windowHeight===768)?device.statusBar=true:device.statusBar=!1;var classNames=[];device.pixelRatio=window.devicePixelRatio||1,device.pixelRatio>=2&&classNames.push("retina");if(device.os
){classNames.push(device.os,device.os+"-"+device.osVersion.split(".")[0],device.os+"-"+device.osVersion.replace(/\./g,"-"));if(device.os==="ios"){var major=parseInt(device.osVersion.split(".")[0],10);for(var i=major-1;i>=6;i--)classNames.push("ios-gt-"+i)}}return device.statusBar?classNames.push("with-statusbar-overlay"):$("html").removeClass("with-statusbar-overlay"),classNames.length>0&&$("html").addClass(classNames.join(" ")),device}(),Framework7.prototype.plugins={}}(),define("framework7",function(global){return function(){var ret,fn;return ret||global.Framework7}}(this));var Handlebars=function(){var __module4__=function(){var __exports__;function SafeString(string){this.string=string}return SafeString.prototype.toString=function(){return""+this.string},__exports__=SafeString,__exports__}(),__module3__=function(__dependency1__){var __exports__={},SafeString=__dependency1__,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},badChars=/[&<>"'`]/g,possible=/[&<>"'`]/
;function escapeChar(chr){return escape[chr]||"&amp;"}function extend(obj,value){for(var key in value)Object.prototype.hasOwnProperty.call(value,key)&&(obj[key]=value[key])}__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return typeof value=="function"};isFunction(/x/)&&(isFunction=function(value){return typeof value=="function"&&toString.call(value)==="[object Function]"});var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value=="object"?toString.call(value)==="[object Array]":!1};__exports__.isArray=isArray;function escapeExpression(string){return string instanceof SafeString?string.toString():!string&&string!==0?"":(string=""+string,possible.test(string)?string.replace(badChars,escapeChar):string)}__exports__.escapeExpression=escapeExpression;function isEmpty(value){return!value&&value!==0?true:isArray(value)&&value.length===0?true:!1}return __exports__
.isEmpty=isEmpty,__exports__}(__module4__),__module5__=function(){var __exports__,errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var line;node&&node.firstLine&&(line=node.firstLine,message+=" - "+line+":"+node.firstColumn);var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];line&&(this.lineNumber=line,this.column=node.firstColumn)}return Exception.prototype=new Error,__exports__=Exception,__exports__}(),__module2__=function(__dependency1__,__dependency2__){var __exports__={},Utils=__dependency1__,Exception=__dependency2__,VERSION="1.3.0";__exports__.VERSION=VERSION;var COMPILER_REVISION=4;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils
.toString,objectType="[object Object]";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{},this.partials=partials||{},registerDefaultHelpers(this)}__exports__.HandlebarsEnvironment=HandlebarsEnvironment,HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn)throw new Exception("Arg not supported with multiple helpers");Utils.extend(this.helpers,name)}else inverse&&(fn.not=inverse),this.helpers[name]=fn},registerPartial:function(name,str){toString.call(name)===objectType?Utils.extend(this.partials,name):this.partials[name]=str}};function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(arg){if(arguments.length===2)return undefined;throw new Exception("Missing helper: '"+arg+"'")}),instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;return isFunction
(context)&&(context=context.call(this)),context===true?fn(this):context===!1||context==null?inverse(this):isArray(context)?context.length>0?instance.helpers.each(context,options):inverse(this):fn(context)}),instance.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse,i=0,ret="",data;isFunction(context)&&(context=context.call(this)),options.data&&(data=createFrame(options.data));if(context&&typeof context=="object")if(isArray(context))for(var j=context.length;i<j;i++)data&&(data.index=i,data.first=i===0,data.last=i===context.length-1),ret+=fn(context[i],{data:data});else for(var key in context)context.hasOwnProperty(key)&&(data&&(data.key=key,data.index=i,data.first=i===0),ret+=fn(context[key],{data:data}),i++);return i===0&&(ret=inverse(this)),ret}),instance.registerHelper("if",function(conditional,options){return isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)?options
.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})}),instance.registerHelper("with",function(context,options){isFunction(context)&&(context=context.call(this));if(!Utils.isEmpty(context))return options.fn(context)}),instance.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context)})}var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];typeof console!="undefined"&&console[method]&&console[method].call(console,obj)}}};__exports__.logger=logger;function log(level,obj){logger.log(level,obj)}__exports__.log=log;var createFrame=function(object){var obj={};return Utils.extend(obj,object),obj};return __exports__.createFrame=
createFrame,__exports__}(__module3__,__module5__),__module6__=function(__dependency1__,__dependency2__,__dependency3__){var __exports__={},Utils=__dependency1__,Exception=__dependency2__,COMPILER_REVISION=__dependency3__.COMPILER_REVISION,REVISION_CHANGES=__dependency3__.REVISION_CHANGES;function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
compilerInfo[1]+").")}}__exports__.checkRevision=checkRevision;function template(templateSpec,env){if(!env)throw new Exception("No environment passed to template");var invokePartialWrapper=function(partial,name,context,helpers,partials,data){var result=env.VM.invokePartial.apply(this,arguments);if(result!=null)return result;if(env.compile){var options={helpers:helpers,partials:partials,data:data};return partials[name]=env.compile(partial,{data:data!==undefined},env),partials[name](context,options)}throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")},container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];return data?programWrapper=program(i,fn,data):programWrapper||(programWrapper=this.programs[i]=program(i,fn)),programWrapper},merge:function(param,common){var ret=param||common;return param&&common&&param!==common&&(ret={},Utils.extend
(ret,common),Utils.extend(ret,param)),ret},programWithDepth:env.VM.programWithDepth,noop:env.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var namespace=options.partial?options:env,helpers,partials;options.partial||(helpers=options.helpers,partials=options.partials);var result=templateSpec.call(container,namespace,context,helpers,partials,options.data);return options.partial||env.VM.checkRevision(container.compilerInfo),result}}__exports__.template=template;function programWithDepth(i,fn,data){var args=Array.prototype.slice.call(arguments,3),prog=function(context,options){return options=options||{},fn.apply(this,[context,options.data||data].concat(args))};return prog.program=i,prog.depth=args.length,prog}__exports__.programWithDepth=programWithDepth;function program(i,fn,data){var prog=function(context,options){return options=options||{},fn(context,options.data||data)};return prog.program=i,prog.depth=0,prog}__exports__.program=program;function invokePartial
(partial,name,context,helpers,partials,data){var options={partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined)throw new Exception("The partial "+name+" could not be found");if(partial instanceof Function)return partial(context,options)}__exports__.invokePartial=invokePartial;function noop(){return""}return __exports__.noop=noop,__exports__}(__module3__,__module5__,__module2__),__module1__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){var __exports__,base=__dependency1__,SafeString=__dependency2__,Exception=__dependency3__,Utils=__dependency4__,runtime=__dependency5__,create=function(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=SafeString,hb.Exception=Exception,hb.Utils=Utils,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb},Handlebars=create();return Handlebars.create=create,__exports__=Handlebars,__exports__}(__module2__,__module4__,__module5__,__module3__
,__module6__),__module7__=function(__dependency1__){var __exports__,Exception=__dependency1__;function LocationInfo(locInfo){locInfo=locInfo||{},this.firstLine=locInfo.first_line,this.firstColumn=locInfo.first_column,this.lastColumn=locInfo.last_column,this.lastLine=locInfo.last_line}var AST={ProgramNode:function(statements,inverseStrip,inverse,locInfo){var inverseLocationInfo,firstInverseNode;arguments.length===3?(locInfo=inverse,inverse=null):arguments.length===2&&(locInfo=inverseStrip,inverseStrip=null),LocationInfo.call(this,locInfo),this.type="program",this.statements=statements,this.strip={},inverse?(firstInverseNode=inverse[0],firstInverseNode?(inverseLocationInfo={first_line:firstInverseNode.firstLine,last_line:firstInverseNode.lastLine,last_column:firstInverseNode.lastColumn,first_column:firstInverseNode.firstColumn},this.inverse=new AST.ProgramNode(inverse,inverseStrip,inverseLocationInfo)):this.inverse=new AST.ProgramNode(inverse,inverseStrip),this.strip.right=inverseStrip.left
):inverseStrip&&(this.strip.left=inverseStrip.right)},MustacheNode:function(rawParams,hash,open,strip,locInfo){LocationInfo.call(this,locInfo),this.type="mustache",this.strip=strip;if(open!=null&&open.charAt){var escapeFlag=open.charAt(3)||open.charAt(2);this.escaped=escapeFlag!=="{"&&escapeFlag!=="&"}else this.escaped=!!open;rawParams instanceof AST.SexprNode?this.sexpr=rawParams:this.sexpr=new AST.SexprNode(rawParams,hash),this.sexpr.isRoot=true,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(rawParams,hash,locInfo){LocationInfo.call(this,locInfo),this.type="sexpr",this.hash=hash;var id=this.id=rawParams[0],params=this.params=rawParams.slice(1),eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)},PartialNode:function(partialName,context,strip,locInfo){LocationInfo.call(this,locInfo),this.type="partial",this.partialName=
partialName,this.context=context,this.strip=strip},BlockNode:function(mustache,program,inverse,close,locInfo){LocationInfo.call(this,locInfo);if(mustache.sexpr.id.original!==close.path.original)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close.path.original,this);this.type="block",this.mustache=mustache,this.program=program,this.inverse=inverse,this.strip={left:mustache.strip.left,right:close.strip.right},(program||inverse).strip.left=mustache.strip.right,(inverse||program).strip.right=close.strip.left,inverse&&!program&&(this.isInverse=true)},ContentNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="content",this.string=string},HashNode:function(pairs,locInfo){LocationInfo.call(this,locInfo),this.type="hash",this.pairs=pairs},IdNode:function(parts,locInfo){LocationInfo.call(this,locInfo),this.type="ID";var original="",dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part;original+=(parts[i].separator||"")+part;if(part===".."||
part==="."||part==="this"){if(dig.length>0)throw new Exception("Invalid path: "+original,this);part===".."?depth++:this.isScoped=true}else dig.push(part)}this.original=original,this.parts=dig,this.string=dig.join("."),this.depth=depth,this.isSimple=parts.length===1&&!this.isScoped&&depth===0,this.stringModeValue=this.string},PartialNameNode:function(name,locInfo){LocationInfo.call(this,locInfo),this.type="PARTIAL_NAME",this.name=name.original},DataNode:function(id,locInfo){LocationInfo.call(this,locInfo),this.type="DATA",this.id=id},StringNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="STRING",this.original=this.string=this.stringModeValue=string},IntegerNode:function(integer,locInfo){LocationInfo.call(this,locInfo),this.type="INTEGER",this.original=this.integer=integer,this.stringModeValue=Number(integer)},BooleanNode:function(bool,locInfo){LocationInfo.call(this,locInfo),this.type="BOOLEAN",this.bool=bool,this.stringModeValue=bool==="true"},CommentNode:function(
comment,locInfo){LocationInfo.call(this,locInfo),this.type="comment",this.comment=comment}};return __exports__=AST,__exports__}(__module5__),__module9__=function(){var __exports__,handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL"
,32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return new yy.ProgramNode($$[$0-1],this._$);case 2:return new yy.ProgramNode([],this._$);case 3:this.$=new yy.ProgramNode([],$$[$0-1],$$[$0],this._$);break;case 4:this.$=new yy.ProgramNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 5:this.$=new yy.ProgramNode($$[$0-1],$$[$0],[],this._$);break;case 6:this.$=new yy.ProgramNode($$[$0],this._$);break;case 7:this.$=new yy.ProgramNode([],this._$);break;case 8:this.$=new yy.ProgramNode([],
this._$);break;case 9:this.$=[$$[$0]];break;case 10:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0],this._$);break;case 12:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0],this._$);break;case 13:this.$=$$[$0];break;case 14:this.$=$$[$0];break;case 15:this.$=new yy.ContentNode($$[$0],this._$);break;case 16:this.$=new yy.CommentNode($$[$0],this._$);break;case 17:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 18:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 19:this.$={path:$$[$0-1],strip:stripFlags($$[$0-2],$$[$0])};break;case 20:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 21:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1],stripFlags($$[$0-3],$$[$0]),this
._$);break;case 23:this.$=stripFlags($$[$0-1],$$[$0]);break;case 24:this.$=new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 25:this.$=new yy.SexprNode([$$[$0]],null,this._$);break;case 26:this.$=$$[$0];break;case 27:this.$=new yy.StringNode($$[$0],this._$);break;case 28:this.$=new yy.IntegerNode($$[$0],this._$);break;case 29:this.$=new yy.BooleanNode($$[$0],this._$);break;case 30:this.$=$$[$0];break;case 31:$$[$0-1].isHelper=true,this.$=$$[$0-1];break;case 32:this.$=new yy.HashNode($$[$0],this._$);break;case 33:this.$=[$$[$0-2],$$[$0]];break;case 34:this.$=new yy.PartialNameNode($$[$0],this._$);break;case 35:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 36:this.$=new yy.PartialNameNode(new yy.IntegerNode($$[$0],this._$));break;case 37:this.$=new yy.DataNode($$[$0],this._$);break;case 38:this.$=new yy.IdNode($$[$0],this._$);break;case 39:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]}),this.$=$$[$0-2];break;case 40:this.$=[{part
:$$[$0]}];break;case 43:this.$=[];break;case 44:$$[$0-1].push($$[$0]);break;case 47:this.$=[$$[$0]];break;case 48:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:
[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33
:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2
,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30
],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input
){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function popStack(n){stack.length=stack.length-2*n,vstack.length=vstack.length-n,lstack.length=lstack.length-n}function lex(){var token;return token=self.lexer.lex()||1,typeof token!="number"&&(token=self.symbols_[token]||token),token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state])action=this.defaultActions[state];else{if(symbol===null||typeof symbol=="undefined")symbol=lex();action=table[state]&&table[state][symbol]}if(typeof action=="undefined"||!
action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");this.lexer.showPosition?errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=
this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!="undefined")return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return true}}return true}};function stripFlags(open,close){return{left:open.charAt(2)==="~",right:close.charAt(0)==="~"||close.charAt
(1)==="~"}}var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split
(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=true,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition
:function(){var pre=this.pastInput(),c=(new Array(pre.length+1)).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=true);var token,match,tempMatch,index,col,lines;this._more||(this.yytext="",this.match="");var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch,index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this
.yyleng]),this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(token)return token;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return typeof r!="undefined"?r:this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};return lexer.options={},lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions
,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:yy_.yytext.slice(-2)==="\\\\"?(strip(0,1),this.begin("mu")):yy_.yytext.slice(-1)==="\\"?(strip(0,1),this.begin("emu")):this.begin("mu");if(yy_.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return strip(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return strip(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),32;case 24:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27
:return 34;case 28:return 33;case 29:return 40;case 30:return yy_.yytext=strip(1,2),40;case 31:return"INVALID";case 32:return 5}},lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],lexer.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32
],inclusive:true}},lexer}();parser.lexer=lexer;function Parser(){this.yy={}}return Parser.prototype=parser,parser.Parser=Parser,new Parser}();return __exports__=handlebars,__exports__}(),__module8__=function(__dependency1__,__dependency2__){var __exports__={},parser=__dependency1__,AST=__dependency2__;__exports__.parser=parser;function parse(input){return input.constructor===AST.ProgramNode?input:(parser.yy=AST,parser.parse(input))}return __exports__.parse=parse,__exports__}(__module9__,__module7__),__module10__=function(__dependency1__){var __exports__={},Exception=__dependency1__;function Compiler(){}__exports__.Compiler=Compiler,Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==="DECLARE")out.push("DECLARE "+opcode.name+"="+opcode.value);else{params=[];for(var j=0;j<opcode.args.length;j++)param=opcode.args[j],typeof param=="string"&&(param='"'+param
.replace("\n","\\n")+'"'),params.push(param);out.push(opcode.opcode+" "+params.join(" "))}}return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length)return!1;for(var j=0;j<opcode.args.length;j++)if(opcode.args[j]!==otherOpcode.args[j])return!1}len=this.children.length;if(other.children.length!==len)return!1;for(i=0;i<len;i++)if(!this.children[i].equals(other.children[i]))return!1;return true},guid:0,compile:function(program,options){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(knownHelpers)for(var name in knownHelpers)this.options.knownHelpers[name]=knownHelpers[name];return this
.accept(program)},accept:function(node){var strip=node.strip||{},ret;return strip.left&&this.opcode("strip"),ret=this[node.type](node),strip.right&&this.opcode("strip"),ret},program:function(program){var statements=program.statements;for(var i=0,l=statements.length;i<l;i++)this.accept(statements[i]);return this.isSimple=l===1,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(program){var result=(new this.compiler).compile(program,this.options),guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2)continue;this.addDepth(depth-1)}return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;program&&(program=this.compileProgram(program)),inverse&&(inverse=this.compileProgram(inverse));var sexpr=mustache.sexpr,type=this.classifySexpr(sexpr);type==="helper"?this.helperSexpr
(sexpr,program,inverse):type==="simple"?(this.simpleSexpr(sexpr),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(sexpr,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++)pair=pairs[i],val=pair[1],this.options.stringParams?(val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",val.stringModeValue,val.type),val.type==="sexpr"&&this.sexpr(val)):this.accept(val),this.opcode("assignToHash",pair[0]);this.opcode("popHash")},partial:function(partial){var partialName=partial.partialName;this.usePartial=true,partial.context?this.ID(partial.context):this.opcode("push","depth0"),this.opcode("invokePartial",partialName.name),this.opcode
("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){this.sexpr(mustache.sexpr),mustache.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(sexpr,program,inverse){var id=sexpr.id,name=id.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",id.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var id=sexpr.id;id.type==="DATA"?this.DATA(id):id.parts.length?this.ID(id):(this.addDepth(id.depth),this.opcode("getContext",id.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),name=sexpr.id.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new Exception
("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr);this.opcode("invokeHelper",params.length,name,sexpr.isRoot)}},sexpr:function(sexpr){var type=this.classifySexpr(sexpr);type==="simple"?this.simpleSexpr(sexpr):type==="helper"?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ID:function(id){this.addDepth(id.depth),this.opcode("getContext",id.depth);var name=id.parts[0];name?this.opcode("lookupOnContext",id.parts[0]):this.opcode("pushContext");for(var i=1,l=id.parts.length;i<l;i++)this.opcode("lookup",id.parts[i])},DATA:function(data){this.options.data=true;if(data.id.isScoped||data.id.depth)throw new Exception("Scoped data references are not supported: "+data.original,data);this.opcode("lookupData");var parts=data.id.parts;for(var i=0,l=parts.length;i<l;i++)this.opcode("lookup",parts[i])},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral"
,bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){if(depth===0)return;this.depths[depth]||(this.depths[depth]=true,this.depths.list.push(depth))},classifySexpr:function(sexpr){var isHelper=sexpr.isHelper,isEligible=sexpr.eligibleHelper,options=this.options;if(isEligible&&!isHelper){var name=sexpr.id.parts[0];options.knownHelpers[name]?isHelper=true:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){var i=params.length,param;while(i--)param=params[i],this.options.stringParams?(param.depth&&this.addDepth(param.depth),this.opcode("getContext",param.depth||0),this.opcode("pushStringParam",param.stringModeValue,param.type),param.type==="sexpr"&&this.sexpr(param)):this[param.type](param)},setupFullMustacheParams:function(sexpr,program
,inverse){var params=sexpr.params;return this.pushParams(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.hash(sexpr.hash):this.opcode("emptyHash"),params}};function precompile(input,options,env){if(input==null||typeof input!="string"&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{},"data"in options||(options.data=true);var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}__exports__.precompile=precompile;function compile(input,options,env){if(input==null||typeof input!="string"&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);options=options||{},"data"in options||(options.data=true);var compiled;function compileInput(){var ast=env.parse(input
),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,undefined,true);return env.template(templateSpec)}return function(context,options){return compiled||(compiled=compileInput()),compiled.call(this,context,options)}}return __exports__.compile=compile,__exports__}(__module5__),__module11__=function(__dependency1__,__dependency2__){var __exports__,COMPILER_REVISION=__dependency1__.COMPILER_REVISION,REVISION_CHANGES=__dependency1__.REVISION_CHANGES,log=__dependency1__.log,Exception=__dependency2__;function Literal(value){this.value=value}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function(parent,name){var wrap,ret;return parent.indexOf("depth")===0&&(wrap=true),/^[0-9]+$/.test(name)?ret=parent+"["+name+"]":JavaScriptCompiler.isValidJavaScriptVariableName(name)?ret=parent+"."+name:ret=parent+"['"+name+"']",wrap?"("+parent+" && "+ret+")":ret},compilerInfo:function(){var revision=COMPILER_REVISION
,versions=REVISION_CHANGES[revision];return"this.compilerInfo = ["+revision+",'"+versions+"'];\n"},appendToBuffer:function(string){return this.environment.isSimple?"return "+string+";":{appendToBuffer:true,content:string,toString:function(){return"buffer += "+string+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment,this.options=options||{},log("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!context,this.context=context||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(var l=opcodes.length;this.i<l;this.i++)opcode=opcodes[this.i],opcode.opcode==="DECLARE"?this[opcode.name]=opcode.value:this[opcode.opcode].apply
(this,opcode.args),opcode.opcode!==this.stripNext&&(this.stripNext=!1);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new Exception("Compile completed with content left on stack");return this.createFunctionContext(asObject)},preamble:function(){var out=[];if(!this.isChild){var namespace=this.namespace,copies="helpers = this.merge(helpers, "+namespace+".helpers);";this.environment.usePartial&&(copies=copies+" partials = this.merge(partials, "+namespace+".partials);"),this.options.data&&(copies+=" data = data || {};"),out.push(copies)}else out.push("");this.environment.isSimple?out.push(""):out.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);locals.length>0&&(this.source[1]=this.source[1]+", "+locals.join(", "));if(!this.isChild)for(var alias in this.context.aliases)this.context.aliases.hasOwnProperty(alias)&&(this.source
[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++)params.push("depth"+this.environment.depths.list[i]);var source=this.mergeSource();this.isChild||(source=this.compilerInfo()+source);if(asObject)return params.push(source),Function.apply(this,params);var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+source+"}";return log("debug",functionSource+"\n\n"),functionSource},mergeSource:function(){var source="",buffer;for(var i=0,len=this.source.length;i<len;i++){var line=this.source[i];line.appendToBuffer?buffer?buffer=buffer+"\n    + "+line.content:buffer=line.content:(buffer&&(source+="buffer += "+buffer+";\n  "
,buffer=undefined),source+=line+"\n  ")}return source},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params),this.replaceStack(function(current){return params.splice(1,0,current),"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current),this.pushSource("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.pendingContent&&(content=this.pendingContent+content),this.stripNext&&(content=content.replace(/^\s+/,"")),this.pendingContent=content},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var local=this.popStack();this.pushSource
("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){this.lastContext!==depth&&(this.lastContext=depth)},lookupOnContext:function(name){this.push(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam
:function(string,type){this.pushStackLiteral("depth"+this.lastContext),this.pushString(type),type!=="sexpr"&&(typeof string=="string"?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+hash.contexts.join(",")+"}"),this.push("{"+hash.types.join(",")+"}")),this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){return this.inlineStack.push(expr),expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){guid!=null?this.pushStackLiteral(this.programExpression(guid)):this.pushStackLiteral(null)},invokeHelper:function(paramSize,name,isRoot){
this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var helper=this.lastHelper=this.setupHelper(paramSize,name,true),nonHelper=this.nameLookup("depth"+this.lastContext,name,"context"),lookup="helper = "+helper.name+" || "+nonHelper;helper.paramsInit&&(lookup+=","+helper.paramsInit),this.push("("+lookup+",helper "+"? helper.call("+helper.callParams+") "+": helperMissing.call("+helper.helperMissingParams+"))"),isRoot||this.flushInline()},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper"),nonHelper=this.nameLookup("depth"+this.lastContext,name,"context"),nextStack=this.nextStack();helper.paramsInit&&this.pushSource(helper.paramsInit
),this.pushSource("if (helper = "+helperName+") { "+nextStack+" = helper.call("+helper.callParams+"); }"),this.pushSource("else { helper = "+nonHelper+"; "+nextStack+" = typeof helper === functionType ? helper.call("+helper.callParams+") : helper; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"];this.options.data&&params.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack(),context,type;this.options.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&hash.contexts.push("'"+key+"': "+context),type&&hash.types.push("'"+key+"': "+type),hash.values.push("'"+key+"': ("+value+")")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i],compiler=new 
this.compiler;var index=this.matchExistingProgram(child);index==null?(this.context.programs.push(""),index=this.context.programs.length,child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context),this.context.environments[index]=child):(child.index=index,child.name="program"+index)}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){this.context.aliases.self="this";if(guid==null)return"self.noop";var child=this.environment.children[guid],depths=child.depths.list,depth,programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++)depth=depths[i],depth===1?programParams.push("depth0"):programParams.push("depth"+(depth-1));return(depths.length===0?"self.program(":"self.programWithDepth(")+programParams.join(", ")+")"},register:function(name
,val){this.useRegister(name),this.pushSource(name+" = "+val+";")},useRegister:function(name){this.registers[name]||(this.registers[name]=true,this.registers.list.push(name))},pushStackLiteral:function(item){return this.push(new Literal(item))},pushSource:function(source){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=undefined),source&&this.source.push(source)},pushStack:function(item){this.flushInline();var stack=this.incrStack();return item&&this.pushSource(stack+" = "+item+";"),this.compileStack.push(stack),stack},replaceStack:function(callback){var prefix="",inline=this.isInline(),stack,createdStack,usedLiteral;if(inline){var top=this.popStack(true);if(top instanceof Literal)stack=top.value,usedLiteral=true;else{createdStack=!this.stackSlot;var name=createdStack?this.incrStack():this.topStackName();prefix="("+this.push(name)+" = "+top+"),",stack=this.topStack()}}else stack=this.topStack();var item=callback.call
(this,stack);return inline?(usedLiteral||this.popStack(),createdStack&&this.stackSlot--,this.push("("+prefix+item+")")):(/^stack/.test(stack)||(stack=this.nextStack()),this.pushSource(stack+" = ("+prefix+item+");")),stack},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];entry instanceof Literal?this.compileStack.push(entry):this.pushStack(entry)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new Exception("Invalid stack pop"
);this.stackSlot--}return item},topStack:function(wrapped){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return!wrapped&&item instanceof Literal?item.value:item},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(paramSize,name,missingParams){var params=[],paramsInit=this.setupParams(paramSize,params,missingParams),foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:["depth0"].concat(params).join(", "),helperMissingParams:missingParams&&["depth0",this.quotedString(name)].concat(params).join(", ")}},setupOptions:function(paramSize,params){var options=[],contexts=[],types=[],param,inverse,program;options.push("hash:"+this.popStack()),this.options.stringParams&&(options.push("hashTypes:"+this.popStack()),options.push("hashContexts:"+
this.popStack())),inverse=this.popStack(),program=this.popStack();if(program||inverse)program||(this.context.aliases.self="this",program="self.noop"),inverse||(this.context.aliases.self="this",inverse="self.noop"),options.push("inverse:"+inverse),options.push("fn:"+program);for(var i=0;i<paramSize;i++)param=this.popStack(),params.push(param),this.options.stringParams&&(types.push(this.popStack()),contexts.push(this.popStack()));return this.options.stringParams&&(options.push("contexts:["+contexts.join(",")+"]"),options.push("types:["+types.join(",")+"]")),this.options.data&&options.push("data:data"),options},setupParams:function(paramSize,params,useRegister){var options="{"+this.setupOptions(paramSize,params).join(",")+"}";return useRegister?(this.useRegister("options"),params.push("options"),"options="+options):(params.push(options),"")}};var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield"
.split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++)compilerWords[reservedWords[i]]=true;return JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)?true:!1},__exports__=JavaScriptCompiler,__exports__}(__module2__,__module5__),__module0__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){var __exports__,Handlebars=__dependency1__,AST=__dependency2__,Parser=__dependency3__.parser,parse=__dependency3__.parse,Compiler=__dependency4__.Compiler,compile=__dependency4__.compile,precompile=__dependency4__.precompile,JavaScriptCompiler=__dependency5__,_create=Handlebars.create,create=function(){var hb=_create();return hb.compile=function(input,options){return compile(input,options,hb)},hb.precompile=function(input,options){return precompile(input,options,hb)},hb.AST=AST,hb.Compiler=Compiler,hb.JavaScriptCompiler=
JavaScriptCompiler,hb.Parser=Parser,hb.parse=parse,hb};return Handlebars=create(),Handlebars.create=create,__exports__=Handlebars,__exports__}(__module1__,__module7__,__module8__,__module10__,__module11__);return __module0__}();define("handlebars",function(global){return function(){var ret,fn;return ret||global.Handlebars}}(this)),!function(a,b){"function"==typeof define&&define.amd?define("backbone.touch",["underscore","Backbone"],function(){return b.apply(a,arguments)}):"object"==typeof module&&module.exports?module.exports=b.call(a,require("underscore"),require("Backbone")):b.call(a,a._,a.Backbone)}("object"==typeof global?global:this,function(a,b){var c=function(b,c){return b&&b[c]?a.isFunction(b[c])?b[c]():b[c]:null},d=/^(\S+)\s*(.*)$/;return a.extend(b.View.prototype,{_touching:!1,touchPrevents:true,touchThreshold:10,isTouch:this.document&&"ontouchstart"in this.document&&!("callPhantom"in this),delegateEvents:function(b){if(b||(b=c(this,"events"))){this.undelegateEvents();var e=".delegateEvents"+
this.cid;a(b).each(function(c,f){if(a.isFunction(c)||(c=this[b[f]]),!c)throw new Error('Method "'+b[f]+'" does not exist');var g=f.match(d),h=g[1],i=g[2],j=a.bind(this._touchHandler,this);c=a.bind(c,this),this._useTouchHandlers(h,i)?(this.$el.on("touchstart"+e,i,j),this.$el.on("touchend"+e,i,{method:c},j)):(h+=e,""===i?this.$el.bind(h,c):this.$el.on(h,i,c))},this)}},_useTouchHandlers:function(a){return this.isTouch&&"click"===a},_touchHandler:function(a){if("changedTouches"in a.originalEvent){var b=a.originalEvent.changedTouches[0],c=b.clientX,d=b.clientY;switch(a.type){case"touchstart":this._touching=[c,d];break;case"touchend":var e=this._touching[0],f=this._touching[1],g=this.touchThreshold;if(e+g>c&&c>e-g&&f+g>d&&d>f-g){if(this._touching=!1,this.touchPrevents){var h=a.currentTarget.tagName;("BUTTON"===h||"A"===h)&&(a.preventDefault(),a.stopPropagation())}a.data.method(a)}}}}}),b}),require.config({baseUrl:"./js/",paths:{jquery:"dist/jquery.min",underscore:"dist/underscore",Backbone:"dist/backbone"
,Marionette:"dist/marionette/backbone.marionette",framework7:"dist/framework7",handlebars:"dist/handlebars",hbs:"dist/hbs","backbone.localstorage":"dist/backbone.localstorage/backbone.localStorage","backbone.touch":"dist/backbone.touch/backbone.touch.min"},shim:{framework7:{exports:"Framework7"},handlebars:{exports:"Handlebars"}}}),require(["Backbone","Marionette","views/CheatCollectionView","models/VersionCollection","views/VersionCollectionView","models/PlayerCollection","views/PlayerCollectionView","models/ScoreCollection","framework7","underscore","handlebars","backbone.touch"],function(Backbone,Marionette,CheatCollectionView,VersionCollection,VersionCollectionView,PlayerCollection,PlayerCollectionView,ScoreCollection,Framework7,underscore){ttrTracker=new Framework7({modalTitle:"TTR Train Tracker"}),$$=Framework7.$,ttrApp=new Backbone.Marionette.Application,ttrApp.on("start",function(){}),_.mixin({capitalize:function(string){return string.charAt(0).toUpperCase()+string.substring(1).
toLowerCase()}}),ttrApp.versionsCollection=new VersionCollection,window.localStorage.ttrAppVersion===undefined||window.localStorage.ttrAppVersion!=="v2.1.0"?(window.localStorage.clear(),$.getJSON("js/static/cheats.json",function(json){_.each(json,function(version){ttrApp.versionsCollection.create(version)})}),window.localStorage.ttrAppVersion="v2.1.0"):ttrApp.versionsCollection.fetch({success:function(data){data.length===0&&$.getJSON("js/static/cheats.json",function(json){_.each(json,function(version){ttrApp.versionsCollection.create(version)})})}}),ttrApp.versionsView=new VersionCollectionView({collection:ttrApp.versionsCollection}),ttrApp.versionsView.render(),$("#version-list").html(ttrApp.versionsView.el),ttrApp.scoresCollection=new ScoreCollection,ttrApp.scoresCollection.fetch(),ttrApp.playersCollection=new PlayerCollection,ttrApp.playersCollection.fetch({success:function(data){ttrApp.playersView=new PlayerCollectionView({collection:ttrApp.playersCollection}),ttrApp.playersView.render
(),$("#player-list").html(ttrApp.playersView.el)}}),ttrApp.cheatsView=new CheatCollectionView({collection:ttrApp.versionsCollection}),ttrApp.cheatsView.render(),$("#cheats").html(ttrApp.cheatsView.el),$("#addPlayerIcon").on("click",function(){ttrApp.playersView.addPlayer()}),$("#clearPlayers").on("click",function(){ttrTracker.confirm("Are you sure you want to clear all players?",function(){ttrApp.scoresCollection.clearAllNoRender(),ttrApp.playersCollection.clearAll()})}),$("#clearScores").on("click",function(){ttrTracker.confirm("Are you sure you want to clear all scores?",function(){ttrApp.scoresCollection.clearAll()})}),$("#reviewScores").on("click",function(){var temp="",index=1;_.each(ttrApp.scoresCollection.models,function(score){var val=score.get("score")>0?"+"+score.get("score"):score.get("score"),scoreLabel=Math.abs(score.get("score"))===1?"point":"points",trainLabel=Math.abs(score.get("trains"))===1?"train":"trains",tempRouteClass;score.get("complete")===true?tempRouteClass="rtComplete"
:score.get("complete")===!1?tempRouteClass="rtIncomplete":tempRouteClass="";var trainPiece=score.get("route")!==undefined?'<span class="nobr '+tempRouteClass+'">('+score.get("route")+")</span>":"("+score.get("trains")+" "+trainLabel+")<br />";temp+="<b>#"+index++ +"</b>: "+val+" "+scoreLabel+" to "+score.get("player")+" "+trainPiece}),temp===""&&(temp="No score history available."),ttrTracker.alert(temp,"Score History")}),$("#feedback").on("click",function(){ttrTracker.modal({title:ttrTracker.params.modalTitle,text:"Would you like to send an email or visit our GitHub repo?",buttons:[{text:"Email",onClick:function(){window.open("mailto:shawn.p.hoffman@gmail.com?subject=TTR%20Tracker%20Feedback","_system")},close:true},{text:"GitHub",onClick:function(){window.open("https://github.com/shawnphoffman/TTR-Tracker","_system")},close:true},{text:"Cancel",onClick:function(){},close:true,color:"red"}],onClick:function(){}})}),$("#help").on("click",function(){window.open("http://shawnphoffman.github.io/TTR-Tracker/help/"
,"_system")}),$("#refresh").click(function(){location.reload()}),ttrApp.start()}),define("req",function(){});